app controller test test sql script controller cleanup sql execution phase execution phase after test method public void test check if app id unique app d t o dto generate sample d t o datum response entity app d t o response rest template post for entity get base app url dto app d t o class app d t o result response get body assert assert equal http status ok response get status code assert assert equal dto get app id result get app id assert assert true result get id boolean false unique rest template get for object get base app url dto get app id unique boolean class assert assert false false unique boolean true unique rest template get for object get base app url dto get app id true unique boolean class assert assert true true unique 
app controller test test sql script controller cleanup sql execution phase execution phase after test method public void test create app d t o dto generate sample d t o datum response entity app d t o response rest template post for entity get base app url dto app d t o class app d t o result response get body assert assert equal http status ok response get status code assert assert equal dto get app id result get app id assert assert true result get id app save app app repository find by id result get id or else null assert assert equal dto get app id save app get app id assert assert not null save app get datum change create time 
app controller test test sql script controller cleanup sql execution phase execution phase after test method public void test create twice app d t o dto generate sample d t o datum response entity app d t o response rest template post for entity get base app url dto app d t o class app d t o first response get body assert assert equal http status ok response get status code assert assert equal dto get app id first get app id assert assert true first get id app save app app repository find by id first get id or else null assert assert equal dto get app id save app get app id assert assert not null save app get datum change create time try rest template post for entity get base app url dto app d t o class catch http client error exception e assert assert equal http status bad request e get status code 
app controller test test sql script controller cleanup sql execution phase execution phase after test method public void test find app d t o dto generate sample d t o datum app app bean util transform app class dto app app repository save app app d t o result rest template get for object get base app url dto get app id app d t o class assert assert equal dto get app id result get app id assert assert equal dto get name result get name 
app controller test test expect http client error exception class sql script controller cleanup sql execution phase execution phase after test method public void test find not exist rest template get for entity get base app url not exist app d t o class 
app controller test test sql script controller cleanup sql execution phase execution phase after test method public void test delete app d t o dto generate sample d t o datum app app bean util transform app class dto app app repository save app rest template delete http localhost port app app id operator operator port app get app id test app delete app app repository find by id app get id or else null assert assert null delete app 
app controller test test sql script controller cleanup sql execution phase execution phase after test method public void should fail when app id be invalid app d t o dto generate sample d t o datum dto set app id invalid app id try rest template post for entity get base app url dto string class assert fail should throw catch http client error exception e assert assert equal http status bad request e get status code assert assert that new string e get response body as byte array contain string input validator invalid cluster namespace message 
app namespace controller test test sql script controller cleanup sql execution phase sql execution phase after test method public void test create string app id string name testnamespace string comment comment app namespace d t o dto new app namespace d t o dto set app id app id dto set name name dto set comment comment dto set datum change create by apollo app namespace d t o result dto rest template post for entity string format http localhost d app s appnamespace port app id dto app namespace d t o class get body assert assert equal app id result dto get app id assert assert true result dto get id app namespace save app n namespace repository find by app id and name app id name assert assert not null save app n assert assert not null save app n get datum change create time assert assert not null save app n get datum change last modify time assert assert not null save app n get datum change last modify by assert assert not null save app n get datum change create by 
controller integration exception test test sql script controller cleanup sql execution phase execution phase after test method public void test create fail app d t o dto generate sample d t o datum when admin service create new app any app class then throw new runtime exception save fail try rest template post for entity get base app url dto app d t o class catch http status code exception e suppress warning unchecked map string string attr gson from json e get response body as string map class assert assert equal save fail attr get message app save app app service find one dto get app id assert assert null save app 
item set controller test test sql script controller test itemset sql execution phase execution phase before test method sql script controller cleanup sql execution phase execution phase after test method public void test item set create string app id some app id app d t o app rest template get for object http localhost port app app id app d t o class cluster d t o cluster rest template get for object http localhost port app app get app id cluster default cluster d t o class namespace d t o namespace rest template get for object http localhost port app app get app id cluster cluster get name namespace application namespace d t o class assert assert equal some app id app get app id assert assert equal default cluster get name assert assert equal application namespace get namespace name item change set item set new item change set item set set datum change last modify by create rest template create template new test rest template get rest template create template set message converter rest template get message converter int create size for int i i create size i item d t o item new item d t o item set namespace id namespace get id item set key key i item set value create value i item set add create item item response entity void response create template post for entity http localhost port app app get app id cluster cluster get name namespace namespace get namespace name itemset item set void class assert assert equal http status ok response get status code list item item item repository find by namespace id order by line num asc namespace get id assert assert equal create size item size item item0 item get assert assert equal key item0 get key assert assert equal create value item0 get value assert assert equal create item0 get datum change create by assert assert not null item0 get datum change create time 
item set controller test test sql script controller test itemset sql execution phase execution phase before test method sql script controller cleanup sql execution phase execution phase after test method public void test item set create string app id some app id app d t o app rest template get for object http localhost port app app id app d t o class cluster d t o cluster rest template get for object http localhost port app app get app id cluster default cluster d t o class namespace d t o namespace rest template get for object http localhost port app app get app id cluster cluster get name namespace application namespace d t o class assert assert equal some app id app get app id assert assert equal default cluster get name assert assert equal application namespace get namespace name item change set item set new item change set item set set datum change last modify by create rest template create template new test rest template get rest template create template set message converter rest template get message converter int create size for int i i create size i item d t o item new item d t o item set namespace id namespace get id item set key key i item set value create value i item set add create item item response entity void response create template post for entity http localhost port app app get app id cluster cluster get name namespace namespace get namespace name itemset item set void class assert assert equal http status ok response get status code list item item item repository find by namespace id order by line num asc namespace get id assert assert equal create size item size item item0 item get assert assert equal key item0 get key assert assert equal create value item0 get value assert assert equal create item0 get datum change create by assert assert not null item0 get datum change create time 
item set controller test test sql script controller test itemset sql execution phase execution phase before test method sql script controller cleanup sql execution phase execution phase after test method public void test item set update string app id some app id app d t o app rest template get for object http localhost port app app id app d t o class cluster d t o cluster rest template get for object http localhost port app app get app id cluster default cluster d t o class namespace d t o namespace rest template get for object http localhost port app app get app id cluster cluster get name namespace application namespace d t o class assert assert equal some app id app get app id assert assert equal default cluster get name assert assert equal application namespace get namespace name item change set create change set new item change set create change set set datum change last modify by create rest template create rest template new test rest template get rest template create rest template set message converter rest template get message converter int create size for int i i create size i item d t o item new item d t o item set namespace id namespace get id item set key key i item set value create value i create change set add create item item response entity void response create rest template post for entity http localhost port app app get app id cluster cluster get name namespace namespace get namespace name itemset create change set void class assert assert equal http status ok response get status code item d t o item create rest template get for object http localhost port app app get app id cluster cluster get name namespace namespace get namespace name item item d t o class item change set update change set new item change set update change set set datum change last modify by update rest template update rest template new test rest template get rest template update rest template set message converter rest template get message converter int update size for int i i update size i item i set value update value i update change set add update item item i response update rest template post for entity http localhost port app app get app id cluster cluster get name namespace namespace get namespace name itemset update change set void class assert assert equal http status ok response get status code list item save item item repository find by namespace id order by line num asc namespace get id assert assert equal create size save item size item item0 save item get assert assert equal key item0 get key assert assert equal update value item0 get value assert assert equal create item0 get datum change create by assert assert equal update item0 get datum change last modify by assert assert not null item0 get datum change create time assert assert not null item0 get datum change last modify time 
item set controller test test sql script controller test itemset sql execution phase execution phase before test method sql script controller cleanup sql execution phase execution phase after test method public void test item set update string app id some app id app d t o app rest template get for object http localhost port app app id app d t o class cluster d t o cluster rest template get for object http localhost port app app get app id cluster default cluster d t o class namespace d t o namespace rest template get for object http localhost port app app get app id cluster cluster get name namespace application namespace d t o class assert assert equal some app id app get app id assert assert equal default cluster get name assert assert equal application namespace get namespace name item change set create change set new item change set create change set set datum change last modify by create rest template create rest template new test rest template get rest template create rest template set message converter rest template get message converter int create size for int i i create size i item d t o item new item d t o item set namespace id namespace get id item set key key i item set value create value i create change set add create item item response entity void response create rest template post for entity http localhost port app app get app id cluster cluster get name namespace namespace get namespace name itemset create change set void class assert assert equal http status ok response get status code item d t o item create rest template get for object http localhost port app app get app id cluster cluster get name namespace namespace get namespace name item item d t o class item change set update change set new item change set update change set set datum change last modify by update rest template update rest template new test rest template get rest template update rest template set message converter rest template get message converter int update size for int i i update size i item i set value update value i update change set add update item item i response update rest template post for entity http localhost port app app get app id cluster cluster get name namespace namespace get namespace name itemset update change set void class assert assert equal http status ok response get status code list item save item item repository find by namespace id order by line num asc namespace get id assert assert equal create size save item size item item0 save item get assert assert equal key item0 get key assert assert equal update value item0 get value assert assert equal create item0 get datum change create by assert assert equal update item0 get datum change last modify by assert assert not null item0 get datum change create time assert assert not null item0 get datum change last modify time 
item set controller test test sql script controller test itemset sql execution phase execution phase before test method sql script controller cleanup sql execution phase execution phase after test method public void test item set delete string app id some app id app d t o app rest template get for object http localhost port app app id app d t o class cluster d t o cluster rest template get for object http localhost port app app get app id cluster default cluster d t o class namespace d t o namespace rest template get for object http localhost port app app get app id cluster cluster get name namespace application namespace d t o class assert assert equal some app id app get app id assert assert equal default cluster get name assert assert equal application namespace get namespace name item change set create change set new item change set create change set set datum change last modify by create rest template create template new test rest template get rest template create template set message converter rest template get message converter int create size for int i i create size i item d t o item new item d t o item set namespace id namespace get id item set key key i item set value create value i create change set add create item item response entity void response create template post for entity http localhost port app app get app id cluster cluster get name namespace namespace get namespace name itemset create change set void class assert assert equal http status ok response get status code item d t o item rest template get for object http localhost port app app get app id cluster cluster get name namespace namespace get namespace name item item d t o class item change set delete change set new item change set delete change set set datum change last modify by delete rest template delete template new test rest template get rest template delete template set message converter rest template get message converter int delete size for int i i delete size i item i set value delete value i delete change set add delete item item i response delete template post for entity http localhost port app app get app id cluster cluster get name namespace namespace get namespace name itemset delete change set void class assert assert equal http status ok response get status code list item save item item repository find by namespace id order by line num asc namespace get id assert assert equal create size delete size save item size item item0 save item get assert assert equal key item0 get key assert assert equal create value item0 get value assert assert equal create item0 get datum change create by assert assert not null item0 get datum change create time 
item set controller test test sql script controller test itemset sql execution phase execution phase before test method sql script controller cleanup sql execution phase execution phase after test method public void test item set delete string app id some app id app d t o app rest template get for object http localhost port app app id app d t o class cluster d t o cluster rest template get for object http localhost port app app get app id cluster default cluster d t o class namespace d t o namespace rest template get for object http localhost port app app get app id cluster cluster get name namespace application namespace d t o class assert assert equal some app id app get app id assert assert equal default cluster get name assert assert equal application namespace get namespace name item change set create change set new item change set create change set set datum change last modify by create rest template create template new test rest template get rest template create template set message converter rest template get message converter int create size for int i i create size i item d t o item new item d t o item set namespace id namespace get id item set key key i item set value create value i create change set add create item item response entity void response create template post for entity http localhost port app app get app id cluster cluster get name namespace namespace get namespace name itemset create change set void class assert assert equal http status ok response get status code item d t o item rest template get for object http localhost port app app get app id cluster cluster get name namespace namespace get namespace name item item d t o class item change set delete change set new item change set delete change set set datum change last modify by delete rest template delete template new test rest template get rest template delete template set message converter rest template get message converter int delete size for int i i delete size i item i set value delete value i delete change set add delete item item i response delete template post for entity http localhost port app app get app id cluster cluster get name namespace namespace get namespace name itemset delete change set void class assert assert equal http status ok response get status code list item save item item repository find by namespace id order by line num asc namespace get id assert assert equal create size delete size save item size item item0 save item get assert assert equal key item0 get key assert assert equal create value item0 get value assert assert equal create item0 get datum change create by assert assert not null item0 get datum change create time 
release controller test test sql script controller test release sql execution phase execution phase before test method sql script controller cleanup sql execution phase execution phase after test method public void test release build string app id some app id app d t o app rest template get for object http localhost port app app id app d t o class cluster d t o cluster rest template get for object http localhost port app app get app id cluster default cluster d t o class namespace d t o namespace rest template get for object http localhost port app app get app id cluster cluster get name namespace application namespace d t o class assert assert equal some app id app get app id assert assert equal default cluster get name assert assert equal application namespace get namespace name item d t o item rest template get for object http localhost port app app get app id cluster cluster get name namespace namespace get namespace name item item d t o class assert assert equal item length http header header new http header header set content type media type application form urlencode multi value map string string parameter new link multi value map string string parameter add name some release name parameter add comment some comment parameter add operator test http entity multi value map string string entity new http entity multi value map string string parameter header response entity release d t o response rest template post for entity http localhost port app app get app id cluster cluster get name namespace namespace get namespace name release entity release d t o class assert assert equal http status ok response get status code release d t o release response get body assert assert equal some release name release get name assert assert equal some comment release get comment assert assert equal some app id release get app id assert assert equal default release get cluster name assert assert equal application release get namespace name map string string configuration new hash map string string configuration put k1 v1 configuration put k2 v2 configuration put k3 v3 gson gson new gson assert assert equal gson to json configuration release get configuration 
release controller test test sql script controller test release sql execution phase execution phase before test method sql script controller cleanup sql execution phase execution phase after test method public void test release build string app id some app id app d t o app rest template get for object http localhost port app app id app d t o class cluster d t o cluster rest template get for object http localhost port app app get app id cluster default cluster d t o class namespace d t o namespace rest template get for object http localhost port app app get app id cluster cluster get name namespace application namespace d t o class assert assert equal some app id app get app id assert assert equal default cluster get name assert assert equal application namespace get namespace name item d t o item rest template get for object http localhost port app app get app id cluster cluster get name namespace namespace get namespace name item item d t o class assert assert equal item length http header header new http header header set content type media type application form urlencode multi value map string string parameter new link multi value map string string parameter add name some release name parameter add comment some comment parameter add operator test http entity multi value map string string entity new http entity multi value map string string parameter header response entity release d t o response rest template post for entity http localhost port app app get app id cluster cluster get name namespace namespace get namespace name release entity release d t o class assert assert equal http status ok response get status code release d t o release response get body assert assert equal some release name release get name assert assert equal some comment release get comment assert assert equal some app id release get app id assert assert equal default release get cluster name assert assert equal application release get namespace name map string string configuration new hash map string string configuration put k1 v1 configuration put k2 v2 configuration put k3 v3 gson gson new gson assert assert equal gson to json configuration release get configuration 
access key repository test test sql script sql accesskey test sql execution phase execution phase before test method sql script sql clean sql execution phase execution phase after test method public void test find by app id string app id some app id list access key access key list access key repository find by app id app id assert that access key list have size assert that access key list get get app id be equal to app id assert that access key list get get secret be equal to some secret 
access key repository test test sql script sql accesskey test sql execution phase execution phase before test method sql script sql clean sql execution phase execution phase after test method public void test find by app id string app id some app id list access key access key list access key repository find by app id app id assert that access key list have size assert that access key list get get app id be equal to app id assert that access key list get get secret be equal to some secret 
access key repository test test sql script sql accesskey test sql execution phase execution phase before test method sql script sql clean sql execution phase execution phase after test method public void test find first500 by datum change last modify time greater than order by datum change last modify time instant instant local date time of at zone zone id system default to instant date date date from instant list access key access key list access key repository find first500 by datum change last modify time greater than order by datum change last modify time asc date assert that access key list have size assert that access key list get get app id be equal to assert that access key list get get secret be equal to 4003c4 d7783443dc9870932bebf3b7fe assert that access key list get get app id be equal to assert that access key list get get secret be equal to c715cbc80fc44171b43732c3119c9456 
access key repository test test sql script sql accesskey test sql execution phase execution phase before test method sql script sql clean sql execution phase execution phase after test method public void test find first500 by datum change last modify time greater than order by datum change last modify time instant instant local date time of at zone zone id system default to instant date date date from instant list access key access key list access key repository find first500 by datum change last modify time greater than order by datum change last modify time asc date assert that access key list have size assert that access key list get get app id be equal to assert that access key list get get secret be equal to 4003c4 d7783443dc9870932bebf3b7fe assert that access key list get get app id be equal to assert that access key list get get secret be equal to c715cbc80fc44171b43732c3119c9456 
namespace branch service test test sql script sql namespace branch test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test find branch namespace branch namespace branch service find branch test app test cluster test namespace assert assert not null branch assert assert equal test branch name branch get cluster name 
namespace branch service test test sql script sql namespace branch test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test find branch namespace branch namespace branch service find branch test app test cluster test namespace assert assert not null branch assert assert equal test branch name branch get cluster name 
namespace branch service test test sql script sql namespace branch test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test update branch gray rule with update once gray release rule rule instance gray release rule namespace branch service update branch gray rule test app test cluster test namespace test branch name rule gray release rule active rule namespace branch service find branch gray rule test app test cluster test namespace test branch name assert assert not null active rule assert assert equal rule get app id active rule get app id assert assert equal rule get rule active rule get rule assert assert equal long value of active rule get release id page release history release history release history service find release history by namespace test app test cluster test namespace pageable release history release history release history get content get assert assert equal release history get total element assert assert equal release operation apply gray rule release history get operation assert assert equal release history get release id assert assert equal release history get previous release id assert assert true release history get operation context contain rule get rule 
namespace branch service test test sql script sql namespace branch test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test update branch gray rule with update once gray release rule rule instance gray release rule namespace branch service update branch gray rule test app test cluster test namespace test branch name rule gray release rule active rule namespace branch service find branch gray rule test app test cluster test namespace test branch name assert assert not null active rule assert assert equal rule get app id active rule get app id assert assert equal rule get rule active rule get rule assert assert equal long value of active rule get release id page release history release history release history service find release history by namespace test app test cluster test namespace pageable release history release history release history get content get assert assert equal release history get total element assert assert equal release operation apply gray rule release history get operation assert assert equal release history get release id assert assert equal release history get previous release id assert assert true release history get operation context contain rule get rule 
namespace branch service test test sql script sql namespace branch test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test update branch gray rule with update twice gray release rule first rule instance gray release rule namespace branch service update branch gray rule test app test cluster test namespace test branch name first rule gray release rule second rule instance gray release rule second rule set rule client app id branch test client ip list 10.38 57.112 namespace branch service update branch gray rule test app test cluster test namespace test branch name second rule gray release rule active rule namespace branch service find branch gray rule test app test cluster test namespace test branch name assert assert not null second rule assert assert equal second rule get app id active rule get app id assert assert equal second rule get rule active rule get rule assert assert equal long value of active rule get release id page release history release history release history service find release history by namespace test app test cluster test namespace pageable release history first release history release history get content get release history second release history release history get content get assert assert equal release history get total element assert assert equal release operation apply gray rule first release history get operation assert assert equal release operation apply gray rule second release history get operation assert assert true first release history get operation context contain first rule get rule assert assert false first release history get operation context contain second rule get rule assert assert true second release history get operation context contain first rule get rule assert assert true second release history get operation context contain second rule get rule 
namespace branch service test test sql script sql namespace branch test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test update branch gray rule with update twice gray release rule first rule instance gray release rule namespace branch service update branch gray rule test app test cluster test namespace test branch name first rule gray release rule second rule instance gray release rule second rule set rule client app id branch test client ip list 10.38 57.112 namespace branch service update branch gray rule test app test cluster test namespace test branch name second rule gray release rule active rule namespace branch service find branch gray rule test app test cluster test namespace test branch name assert assert not null second rule assert assert equal second rule get app id active rule get app id assert assert equal second rule get rule active rule get rule assert assert equal long value of active rule get release id page release history release history release history service find release history by namespace test app test cluster test namespace pageable release history first release history release history get content get release history second release history release history get content get assert assert equal release history get total element assert assert equal release operation apply gray rule first release history get operation assert assert equal release operation apply gray rule second release history get operation assert assert true first release history get operation context contain first rule get rule assert assert false first release history get operation context contain second rule get rule assert assert true second release history get operation context contain first rule get rule assert assert true second release history get operation context contain second rule get rule 
namespace branch service test test sql script sql namespace branch test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test update rule release id with old rule not exist long latest release id namespace branch service update rule release id test app test cluster test namespace test branch name latest release id operator gray release rule active rule namespace branch service find branch gray rule test app test cluster test namespace test branch name assert assert null active rule 
namespace branch service test test sql script sql namespace branch test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test update rule release id with old rule not exist long latest release id namespace branch service update rule release id test app test cluster test namespace test branch name latest release id operator gray release rule active rule namespace branch service find branch gray rule test app test cluster test namespace test branch name assert assert null active rule 
namespace branch service test test sql script sql namespace branch test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test update rule release id with old rule exist gray release rule rule instance gray release rule namespace branch service update branch gray rule test app test cluster test namespace test branch name rule long latest release id namespace branch service update rule release id test app test cluster test namespace test branch name latest release id operator gray release rule active rule namespace branch service find branch gray rule test app test cluster test namespace test branch name assert assert not null active rule assert assert equal long value of latest release id active rule get release id assert assert equal rule get rule active rule get rule assert assert equal namespace branch status active active rule get branch status 
namespace branch service test test sql script sql namespace branch test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test update rule release id with old rule exist gray release rule rule instance gray release rule namespace branch service update branch gray rule test app test cluster test namespace test branch name rule long latest release id namespace branch service update rule release id test app test cluster test namespace test branch name latest release id operator gray release rule active rule namespace branch service find branch gray rule test app test cluster test namespace test branch name assert assert not null active rule assert assert equal long value of latest release id active rule get release id assert assert equal rule get rule active rule get rule assert assert equal namespace branch status active active rule get branch status 
namespace branch service test test sql script sql namespace branch test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test delete branch gray release rule rule instance gray release rule namespace branch service update branch gray rule test app test cluster test namespace test branch name rule namespace branch service delete branch test app test cluster test namespace test branch name namespace branch status delete operator namespace branch namespace branch service find branch test app test cluster test namespace assert assert null branch gray release rule latest rule namespace branch service find branch gray rule test app test cluster test namespace test branch name assert assert not null latest rule assert assert equal namespace branch status delete latest rule get branch status assert assert equal latest rule get rule page release history release history release history service find release history by namespace test app test cluster test namespace pageable release history first release history release history get content get release history second release history release history get content get assert assert equal release history get total element assert assert equal release operation apply gray rule first release history get operation assert assert equal release operation abandon gray release second release history get operation 
namespace branch service test test sql script sql namespace branch test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test delete branch gray release rule rule instance gray release rule namespace branch service update branch gray rule test app test cluster test namespace test branch name rule namespace branch service delete branch test app test cluster test namespace test branch name namespace branch status delete operator namespace branch namespace branch service find branch test app test cluster test namespace assert assert null branch gray release rule latest rule namespace branch service find branch gray rule test app test cluster test namespace test branch name assert assert not null latest rule assert assert equal namespace branch status delete latest rule get branch status assert assert equal latest rule get rule page release history release history release history service find release history by namespace test app test cluster test namespace pageable release history first release history release history get content get release history second release history release history get content get assert assert equal release history get total element assert assert equal release operation apply gray rule first release history get operation assert assert equal release operation abandon gray release second release history get operation 
namespace service integration test test sql script sql namespace test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test delete namespace namespace namespace new namespace namespace set app id test app namespace set cluster name test cluster namespace set namespace name test private namespace namespace set id namespace service delete namespace namespace test user list item item item service find item without order test app test cluster test private namespace list commit commit commit service find test app test cluster test private namespace page request of app namespace app namespace app namespace service find one test app test private namespace list cluster child cluster cluster service find child cluster test app test cluster instance config instance config instance config repository find by id 1 l or else null list release parent namespace release release service find active release test app test cluster test private namespace page request of list release child namespace release release service find active release test app test child cluster test private namespace page request of page release history release history release history service find release history by namespace test app test cluster test private namespace page request of assert equal item size assert equal commit size assert not null app namespace assert equal child cluster size assert equal parent namespace release size assert equal child namespace release size assert true release history have content assert null instance config 
namespace service integration test test sql script sql namespace test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test delete namespace namespace namespace new namespace namespace set app id test app namespace set cluster name test cluster namespace set namespace name test private namespace namespace set id namespace service delete namespace namespace test user list item item item service find item without order test app test cluster test private namespace list commit commit commit service find test app test cluster test private namespace page request of app namespace app namespace app namespace service find one test app test private namespace list cluster child cluster cluster service find child cluster test app test cluster instance config instance config instance config repository find by id 1 l or else null list release parent namespace release release service find active release test app test cluster test private namespace page request of list release child namespace release release service find active release test app test child cluster test private namespace page request of page release history release history release history service find release history by namespace test app test cluster test private namespace page request of assert equal item size assert equal commit size assert not null app namespace assert equal child cluster size assert equal parent namespace release size assert equal child namespace release size assert true release history have content assert null instance config 
release creation test test sql script sql release creation test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test publish normal namespace long namespace id string cluster name only master namespace namespace instance namespace namespace id cluster name release service publish namespace operator false release latest release release service find latest active release namespace assert assert not null latest release map string string configuration parse configuration latest release get configuration assert assert equal configuration size assert assert equal v1 configuration get k1 assert assert equal v2 configuration get k2 assert assert equal v3 configuration get k3 page release history release history release history service find release history by namespace test app cluster name test namespace pageable release history release history release history get content get assert assert equal release history get total element assert assert equal release operation normal release release history get operation assert assert equal latest release get id release history get release id assert assert equal release history get previous release id 
release creation test test sql script sql release creation test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test publish normal namespace long namespace id string cluster name only master namespace namespace instance namespace namespace id cluster name release service publish namespace operator false release latest release release service find latest active release namespace assert assert not null latest release map string string configuration parse configuration latest release get configuration assert assert equal configuration size assert assert equal v1 configuration get k1 assert assert equal v2 configuration get k2 assert assert equal v3 configuration get k3 page release history release history release history service find release history by namespace test app cluster name test namespace pageable release history release history release history get content get assert assert equal release history get total element assert assert equal release operation normal release release history get operation assert assert equal latest release get id release history get release id assert assert equal release history get previous release id 
release creation test test sql script sql release creation test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test publish master namespace and branch have not item long parent namespace id string parent cluster name default1 long child namespace id string child cluster name child cluster1 namespace parent namespace instance namespace parent namespace id parent cluster name release service publish parent namespace operator false release latest parent namespace release release service find latest active release parent namespace assert parent namespace assert assert not null latest parent namespace release map string string parent namespace configuration parse configuration latest parent namespace release get configuration assert assert equal parent namespace configuration size assert assert equal v1 parent namespace configuration get k1 assert assert equal v2 parent namespace configuration get k2 assert assert equal v3 parent namespace configuration get k3 assert child namespace namespace child namespace instance namespace child namespace id child cluster name release latest child namespace release release service find latest active release child namespace assert parent namespace assert assert not null latest child namespace release map string string child namespace configuration parse configuration latest child namespace release get configuration assert assert equal child namespace configuration size assert assert equal v1 child namespace configuration get k1 assert assert equal v2 child namespace configuration get k2 assert assert equal v3 child namespace configuration get k3 gray release rule rule namespace branch service find branch gray rule test app parent cluster name test namespace child cluster name assert assert not null rule assert assert equal rule get branch status assert assert equal long value of latest child namespace release get id rule get release id assert release history page release history release history release history service find release history by namespace test app parent cluster name test namespace pageable release history master release history release history get content get release history branch release history release history get content get assert assert equal release history get total element assert assert equal release operation normal release master release history get operation assert assert equal latest parent namespace release get id master release history get release id assert assert equal master release history get previous release id assert assert equal release operation master normal release merge to gray branch release history get operation assert assert equal latest child namespace release get id branch release history get release id assert assert true branch release history get operation context contain string format base release id d latest parent namespace release get id assert assert true branch release history get operation context contain rule get rule 
release creation test test sql script sql release creation test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test publish master namespace and branch have not item long parent namespace id string parent cluster name default1 long child namespace id string child cluster name child cluster1 namespace parent namespace instance namespace parent namespace id parent cluster name release service publish parent namespace operator false release latest parent namespace release release service find latest active release parent namespace assert parent namespace assert assert not null latest parent namespace release map string string parent namespace configuration parse configuration latest parent namespace release get configuration assert assert equal parent namespace configuration size assert assert equal v1 parent namespace configuration get k1 assert assert equal v2 parent namespace configuration get k2 assert assert equal v3 parent namespace configuration get k3 assert child namespace namespace child namespace instance namespace child namespace id child cluster name release latest child namespace release release service find latest active release child namespace assert parent namespace assert assert not null latest child namespace release map string string child namespace configuration parse configuration latest child namespace release get configuration assert assert equal child namespace configuration size assert assert equal v1 child namespace configuration get k1 assert assert equal v2 child namespace configuration get k2 assert assert equal v3 child namespace configuration get k3 gray release rule rule namespace branch service find branch gray rule test app parent cluster name test namespace child cluster name assert assert not null rule assert assert equal rule get branch status assert assert equal long value of latest child namespace release get id rule get release id assert release history page release history release history release history service find release history by namespace test app parent cluster name test namespace pageable release history master release history release history get content get release history branch release history release history get content get assert assert equal release history get total element assert assert equal release operation normal release master release history get operation assert assert equal latest parent namespace release get id master release history get release id assert assert equal master release history get previous release id assert assert equal release operation master normal release merge to gray branch release history get operation assert assert equal latest child namespace release get id branch release history get release id assert assert true branch release history get operation context contain string format base release id d latest parent namespace release get id assert assert true branch release history get operation context contain rule get rule 
release creation test test sql script sql release creation test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test publish master namespace and branch have item long parent namespace id string parent cluster name default2 long child namespace id string child cluster name child cluster2 namespace parent namespace instance namespace parent namespace id parent cluster name release service publish parent namespace operator false release latest parent namespace release release service find latest active release parent namespace assert parent namespace assert assert not null latest parent namespace release map string string parent namespace configuration parse configuration latest parent namespace release get configuration assert assert equal parent namespace configuration size assert assert equal v1 parent namespace configuration get k1 assert assert equal v2 parent namespace configuration get k2 assert assert equal v3 parent namespace configuration get k3 assert child namespace namespace child namespace instance namespace child namespace id child cluster name release latest child namespace release release service find latest active release child namespace assert assert not null latest child namespace release map string string child namespace configuration parse configuration latest child namespace release get configuration assert assert equal child namespace configuration size assert assert equal v1 child namespace configuration get k1 assert assert equal v2 child namespace configuration get k2 assert assert equal v3 child namespace configuration get k3 gray release rule rule namespace branch service find branch gray rule test app parent cluster name test namespace child cluster name assert assert not null rule assert assert equal rule get branch status assert assert equal long value of latest child namespace release get id rule get release id assert release history page release history release history release history service find release history by namespace test app parent cluster name test namespace pageable release history master release history release history get content get release history branch release history release history get content get assert assert equal release history get total element assert assert equal release operation normal release master release history get operation assert assert equal latest parent namespace release get id master release history get release id assert assert equal master release history get previous release id assert assert equal release operation master normal release merge to gray branch release history get operation assert assert equal latest child namespace release get id branch release history get release id assert assert true branch release history get operation context contain string format base release id d latest parent namespace release get id assert assert true branch release history get operation context contain rule get rule 
release creation test test sql script sql release creation test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test publish master namespace and branch have item long parent namespace id string parent cluster name default2 long child namespace id string child cluster name child cluster2 namespace parent namespace instance namespace parent namespace id parent cluster name release service publish parent namespace operator false release latest parent namespace release release service find latest active release parent namespace assert parent namespace assert assert not null latest parent namespace release map string string parent namespace configuration parse configuration latest parent namespace release get configuration assert assert equal parent namespace configuration size assert assert equal v1 parent namespace configuration get k1 assert assert equal v2 parent namespace configuration get k2 assert assert equal v3 parent namespace configuration get k3 assert child namespace namespace child namespace instance namespace child namespace id child cluster name release latest child namespace release release service find latest active release child namespace assert assert not null latest child namespace release map string string child namespace configuration parse configuration latest child namespace release get configuration assert assert equal child namespace configuration size assert assert equal v1 child namespace configuration get k1 assert assert equal v2 child namespace configuration get k2 assert assert equal v3 child namespace configuration get k3 gray release rule rule namespace branch service find branch gray rule test app parent cluster name test namespace child cluster name assert assert not null rule assert assert equal rule get branch status assert assert equal long value of latest child namespace release get id rule get release id assert release history page release history release history release history service find release history by namespace test app parent cluster name test namespace pageable release history master release history release history get content get release history branch release history release history get content get assert assert equal release history get total element assert assert equal release operation normal release master release history get operation assert assert equal latest parent namespace release get id master release history get release id assert assert equal master release history get previous release id assert assert equal release operation master normal release merge to gray branch release history get operation assert assert equal latest child namespace release get id branch release history get release id assert assert true branch release history get operation context contain string format base release id d latest parent namespace release get id assert assert true branch release history get operation context contain rule get rule 
release creation test test sql script sql release creation test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test modify master namespace item and branch also modify long parent namespace id string parent cluster name default3 long child namespace id string child cluster name child cluster3 namespace parent namespace instance namespace parent namespace id parent cluster name release service publish parent namespace operator false release latest parent namespace release release service find latest active release parent namespace assert parent namespace assert assert not null latest parent namespace release map string string parent namespace configuration parse configuration latest parent namespace release get configuration assert assert equal parent namespace configuration size assert assert equal v1 parent namespace configuration get k1 assert assert equal v2 parent namespace configuration get k2 assert child namespace namespace child namespace instance namespace child namespace id child cluster name release latest child namespace release release service find latest active release child namespace assert assert not null latest child namespace release map string string child namespace configuration parse configuration latest child namespace release get configuration assert assert equal child namespace configuration size assert assert equal v1 child namespace configuration get k1 assert assert equal v2 child namespace configuration get k2 gray release rule rule namespace branch service find branch gray rule test app parent cluster name test namespace child cluster name assert assert not null rule assert assert equal rule get branch status assert assert equal long value of latest child namespace release get id rule get release id assert release history page release history release history release history service find release history by namespace test app parent cluster name test namespace pageable release history master release history release history get content get release history branch release history release history get content get assert assert equal release history get total element assert assert equal release operation normal release master release history get operation assert assert equal latest parent namespace release get id master release history get release id assert assert equal master release history get previous release id assert assert equal release operation master normal release merge to gray branch release history get operation assert assert equal latest child namespace release get id branch release history get release id assert assert equal branch release history get previous release id assert assert true branch release history get operation context contain string format base release id d latest parent namespace release get id assert assert true branch release history get operation context contain rule get rule 
release creation test test sql script sql release creation test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test modify master namespace item and branch also modify long parent namespace id string parent cluster name default3 long child namespace id string child cluster name child cluster3 namespace parent namespace instance namespace parent namespace id parent cluster name release service publish parent namespace operator false release latest parent namespace release release service find latest active release parent namespace assert parent namespace assert assert not null latest parent namespace release map string string parent namespace configuration parse configuration latest parent namespace release get configuration assert assert equal parent namespace configuration size assert assert equal v1 parent namespace configuration get k1 assert assert equal v2 parent namespace configuration get k2 assert child namespace namespace child namespace instance namespace child namespace id child cluster name release latest child namespace release release service find latest active release child namespace assert assert not null latest child namespace release map string string child namespace configuration parse configuration latest child namespace release get configuration assert assert equal child namespace configuration size assert assert equal v1 child namespace configuration get k1 assert assert equal v2 child namespace configuration get k2 gray release rule rule namespace branch service find branch gray rule test app parent cluster name test namespace child cluster name assert assert not null rule assert assert equal rule get branch status assert assert equal long value of latest child namespace release get id rule get release id assert release history page release history release history release history service find release history by namespace test app parent cluster name test namespace pageable release history master release history release history get content get release history branch release history release history get content get assert assert equal release history get total element assert assert equal release operation normal release master release history get operation assert assert equal latest parent namespace release get id master release history get release id assert assert equal master release history get previous release id assert assert equal release operation master normal release merge to gray branch release history get operation assert assert equal latest child namespace release get id branch release history get release id assert assert equal branch release history get previous release id assert assert true branch release history get operation context contain string format base release id d latest parent namespace release get id assert assert true branch release history get operation context contain rule get rule 
release creation test test sql script sql release creation test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test publish branch at first time long parent namespace id string parent cluster name default4 long child namespace id string child cluster name child cluster4 assert child namespace namespace child namespace instance namespace child namespace id child cluster name release service publish child namespace operator false release latest child namespace release release service find latest active release child namespace assert assert not null latest child namespace release map string string child namespace configuration parse configuration latest child namespace release get configuration assert assert equal child namespace configuration size assert assert equal v1 child namespace configuration get k1 assert assert equal v2 child namespace configuration get k2 assert assert equal v3 child namespace configuration get k3 assert assert equal v4 child namespace configuration get k4 namespace parent namespace instance namespace parent namespace id parent cluster name release latest parent namespace release release service find latest active release parent namespace assert parent namespace assert assert not null latest parent namespace release map string string parent namespace configuration parse configuration latest parent namespace release get configuration assert assert equal parent namespace configuration size assert assert equal v1 parent namespace configuration get k1 assert assert equal v2 parent namespace configuration get k2 assert assert equal v3 parent namespace configuration get k3 gray release rule rule namespace branch service find branch gray rule test app parent cluster name test namespace child cluster name assert assert not null rule assert assert equal rule get branch status assert assert equal long value of latest child namespace release get id rule get release id assert release history page release history release history release history service find release history by namespace test app parent cluster name test namespace pageable release history branch release history release history get content get assert assert equal release history get total element assert assert equal release operation gray release branch release history get operation assert assert equal latest child namespace release get id branch release history get release id assert assert equal branch release history get previous release id assert assert true branch release history get operation context contain base release id assert assert true branch release history get operation context contain rule get rule 
release creation test test sql script sql release creation test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test publish branch at first time long parent namespace id string parent cluster name default4 long child namespace id string child cluster name child cluster4 assert child namespace namespace child namespace instance namespace child namespace id child cluster name release service publish child namespace operator false release latest child namespace release release service find latest active release child namespace assert assert not null latest child namespace release map string string child namespace configuration parse configuration latest child namespace release get configuration assert assert equal child namespace configuration size assert assert equal v1 child namespace configuration get k1 assert assert equal v2 child namespace configuration get k2 assert assert equal v3 child namespace configuration get k3 assert assert equal v4 child namespace configuration get k4 namespace parent namespace instance namespace parent namespace id parent cluster name release latest parent namespace release release service find latest active release parent namespace assert parent namespace assert assert not null latest parent namespace release map string string parent namespace configuration parse configuration latest parent namespace release get configuration assert assert equal parent namespace configuration size assert assert equal v1 parent namespace configuration get k1 assert assert equal v2 parent namespace configuration get k2 assert assert equal v3 parent namespace configuration get k3 gray release rule rule namespace branch service find branch gray rule test app parent cluster name test namespace child cluster name assert assert not null rule assert assert equal rule get branch status assert assert equal long value of latest child namespace release get id rule get release id assert release history page release history release history release history service find release history by namespace test app parent cluster name test namespace pageable release history branch release history release history get content get assert assert equal release history get total element assert assert equal release operation gray release branch release history get operation assert assert equal latest child namespace release get id branch release history get release id assert assert equal branch release history get previous release id assert assert true branch release history get operation context contain base release id assert assert true branch release history get operation context contain rule get rule 
release creation test test sql script sql release creation test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test publish branch long parent namespace id string parent cluster name default5 long child namespace id string child cluster name child cluster5 assert child namespace namespace child namespace instance namespace child namespace id child cluster name release service publish child namespace operator false release latest child namespace release release service find latest active release child namespace assert assert not null latest child namespace release map string string child namespace configuration parse configuration latest child namespace release get configuration assert assert equal child namespace configuration size assert assert equal v1 child namespace configuration get k1 assert assert equal v2 child namespace configuration get k2 assert assert equal v3 child namespace configuration get k3 assert assert equal v4 child namespace configuration get k4 assert assert equal v6 child namespace configuration get k6 namespace parent namespace instance namespace parent namespace id parent cluster name release latest parent namespace release release service find latest active release parent namespace assert parent namespace assert assert not null latest parent namespace release map string string parent namespace configuration parse configuration latest parent namespace release get configuration assert assert equal parent namespace configuration size assert assert equal v1 parent namespace configuration get k1 assert assert equal v2 parent namespace configuration get k2 assert assert equal v3 parent namespace configuration get k3 gray release rule rule namespace branch service find branch gray rule test app parent cluster name test namespace child cluster name assert assert not null rule assert assert equal rule get branch status assert assert equal long value of latest child namespace release get id rule get release id assert release history page release history release history release history service find release history by namespace test app parent cluster name test namespace pageable release history branch release history release history get content get assert assert equal release history get total element assert assert equal release operation gray release branch release history get operation assert assert equal latest child namespace release get id branch release history get release id assert assert equal branch release history get previous release id assert assert true branch release history get operation context contain base release id assert assert true branch release history get operation context contain rule get rule 
release creation test test sql script sql release creation test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test publish branch long parent namespace id string parent cluster name default5 long child namespace id string child cluster name child cluster5 assert child namespace namespace child namespace instance namespace child namespace id child cluster name release service publish child namespace operator false release latest child namespace release release service find latest active release child namespace assert assert not null latest child namespace release map string string child namespace configuration parse configuration latest child namespace release get configuration assert assert equal child namespace configuration size assert assert equal v1 child namespace configuration get k1 assert assert equal v2 child namespace configuration get k2 assert assert equal v3 child namespace configuration get k3 assert assert equal v4 child namespace configuration get k4 assert assert equal v6 child namespace configuration get k6 namespace parent namespace instance namespace parent namespace id parent cluster name release latest parent namespace release release service find latest active release parent namespace assert parent namespace assert assert not null latest parent namespace release map string string parent namespace configuration parse configuration latest parent namespace release get configuration assert assert equal parent namespace configuration size assert assert equal v1 parent namespace configuration get k1 assert assert equal v2 parent namespace configuration get k2 assert assert equal v3 parent namespace configuration get k3 gray release rule rule namespace branch service find branch gray rule test app parent cluster name test namespace child cluster name assert assert not null rule assert assert equal rule get branch status assert assert equal long value of latest child namespace release get id rule get release id assert release history page release history release history release history service find release history by namespace test app parent cluster name test namespace pageable release history branch release history release history get content get assert assert equal release history get total element assert assert equal release operation gray release branch release history get operation assert assert equal latest child namespace release get id branch release history get release id assert assert equal branch release history get previous release id assert assert true branch release history get operation context contain base release id assert assert true branch release history get operation context contain rule get rule 
release creation test test sql script sql release creation test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test rollback string parent cluster name default6 string child cluster name child cluster6 string operator apollo release parent namespace latest release release service find latest active release test app parent cluster name test namespace release service rollback parent namespace latest release get id operator release parent namespace new latest release release service find latest active release test app parent cluster name test namespace map string string parent namespace configuration parse configuration parent namespace new latest release get configuration assert assert equal parent namespace configuration size assert assert equal v1 parent namespace configuration get k1 assert assert equal v2 parent namespace configuration get k2 assert assert equal v3 parent namespace configuration get k3 release child namespace new latest release release service find latest active release test app child cluster name test namespace map string string child namespace configuration parse configuration child namespace new latest release get configuration assert assert equal child namespace configuration size assert assert equal v1 child namespace configuration get k1 assert assert equal v2 child namespace configuration get k2 assert assert equal v3 child namespace configuration get k3 assert release history page release history release history release history service find release history by namespace test app parent cluster name test namespace pageable release history master release history release history get content get release history branch release history release history get content get assert assert equal release history get total element assert assert equal release operation rollback master release history get operation assert assert equal master release history get release id assert assert equal master release history get previous release id assert assert equal release operation mater rollback merge to gray branch release history get operation assert assert equal child namespace new latest release get id branch release history get release id assert assert equal branch release history get previous release id assert assert true branch release history get operation context contain string format base release id d parent namespace new latest release get id 
release creation test test sql script sql release creation test sql execution phase sql execution phase before test method sql script sql clean sql execution phase sql execution phase after test method public void test rollback string parent cluster name default6 string child cluster name child cluster6 string operator apollo release parent namespace latest release release service find latest active release test app parent cluster name test namespace release service rollback parent namespace latest release get id operator release parent namespace new latest release release service find latest active release test app parent cluster name test namespace map string string parent namespace configuration parse configuration parent namespace new latest release get configuration assert assert equal parent namespace configuration size assert assert equal v1 parent namespace configuration get k1 assert assert equal v2 parent namespace configuration get k2 assert assert equal v3 parent namespace configuration get k3 release child namespace new latest release release service find latest active release test app child cluster name test namespace map string string child namespace configuration parse configuration child namespace new latest release get configuration assert assert equal child namespace configuration size assert assert equal v1 child namespace configuration get k1 assert assert equal v2 child namespace configuration get k2 assert assert equal v3 child namespace configuration get k3 assert release history page release history release history release history service find release history by namespace test app parent cluster name test namespace pageable release history master release history release history get content get release history branch release history release history get content get assert assert equal release history get total element assert assert equal release operation rollback master release history get operation assert assert equal master release history get release id assert assert equal master release history get previous release id assert assert equal release operation mater rollback merge to gray branch release history get operation assert assert equal child namespace new latest release get id branch release history get release id assert assert equal branch release history get previous release id assert assert true branch release history get operation context contain string format base release id d parent namespace new latest release get id 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query config with default cluster and default namespace o k throw exception response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace apollo config class get host url some app id config const cluster name default config const namespace application apollo config result response get body assert equal http status ok response get status code assert equal test release k e y1 result get release key assert equal v1 result get configuration get k1 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query config with default cluster and default namespace o k throw exception response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace apollo config class get host url some app id config const cluster name default config const namespace application apollo config result response get body assert equal http status ok response get status code assert equal test release k e y1 result get release key assert equal v1 result get configuration get k1 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query config with default cluster and default namespace and incorrect case throw exception response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace apollo config class get host url some app id config const cluster name default config const namespace application to upper case apollo config result response get body assert equal http status ok response get status code assert equal test release k e y1 result get release key assert equal v1 result get configuration get k1 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query config with default cluster and default namespace and incorrect case throw exception response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace apollo config class get host url some app id config const cluster name default config const namespace application to upper case apollo config result response get body assert equal http status ok response get status code assert equal test release k e y1 result get release key assert equal v1 result get configuration get k1 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query gray config with default cluster and default namespace o k throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some app id config const cluster name default config const namespace application stop time unit millisecond sleep stop set true response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace ip client ip apollo config class get host url some app id config const cluster name default config const namespace application some client ip apollo config result response get body assert equal http status ok response get status code assert equal test gray release k e y1 result get release key assert equal v1 gray result get configuration get k1 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query gray config with default cluster and default namespace o k throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some app id config const cluster name default config const namespace application stop time unit millisecond sleep stop set true response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace ip client ip apollo config class get host url some app id config const cluster name default config const namespace application some client ip apollo config result response get body assert equal http status ok response get status code assert equal test gray release k e y1 result get release key assert equal v1 gray result get configuration get k1 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query gray config with default cluster and default namespace o k throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some app id config const cluster name default config const namespace application stop time unit millisecond sleep stop set true response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace ip client ip apollo config class get host url some app id config const cluster name default config const namespace application some client ip apollo config result response get body assert equal http status ok response get status code assert equal test gray release k e y1 result get release key assert equal v1 gray result get configuration get k1 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query gray config with default cluster and default namespace and incorrect case throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some app id config const cluster name default config const namespace application stop time unit millisecond sleep stop set true response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace ip client ip apollo config class get host url some app id config const cluster name default config const namespace application to upper case some client ip apollo config result response get body assert equal http status ok response get status code assert equal test gray release k e y1 result get release key assert equal v1 gray result get configuration get k1 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query gray config with default cluster and default namespace and incorrect case throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some app id config const cluster name default config const namespace application stop time unit millisecond sleep stop set true response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace ip client ip apollo config class get host url some app id config const cluster name default config const namespace application to upper case some client ip apollo config result response get body assert equal http status ok response get status code assert equal test gray release k e y1 result get release key assert equal v1 gray result get configuration get k1 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query gray config with default cluster and default namespace and incorrect case throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some app id config const cluster name default config const namespace application stop time unit millisecond sleep stop set true response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace ip client ip apollo config class get host url some app id config const cluster name default config const namespace application to upper case some client ip apollo config result response get body assert equal http status ok response get status code assert equal test gray release k e y1 result get release key assert equal v1 gray result get configuration get k1 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query config file with default cluster and default namespace o k throw exception response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace apollo config class get host url some app id config const cluster name default config const namespace application property apollo config result response get body assert equal http status ok response get status code assert equal test release k e y1 result get release key assert equal v1 result get configuration get k1 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query config file with default cluster and default namespace o k throw exception response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace apollo config class get host url some app id config const cluster name default config const namespace application property apollo config result response get body assert equal http status ok response get status code assert equal test release k e y1 result get release key assert equal v1 result get configuration get k1 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query config with namespace o k throw exception response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace apollo config class get host url some app id some cluster some namespace apollo config result response get body assert equal http status ok response get status code assert equal test release k e y2 result get release key assert equal v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query config with namespace o k throw exception response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace apollo config class get host url some app id some cluster some namespace apollo config result response get body assert equal http status ok response get status code assert equal test release k e y2 result get release key assert equal v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query config file with namespace o k throw exception response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace apollo config class get host url some app id config const cluster name default some namespace xml apollo config result response get body assert equal http status ok response get status code assert equal test release k e y5 result get release key assert equal v1 file result get configuration get k1 assert equal v2 file result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query config file with namespace o k throw exception response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace apollo config class get host url some app id config const cluster name default some namespace xml apollo config result response get body assert equal http status ok response get status code assert equal test release k e y5 result get release key assert equal v1 file result get configuration get k1 assert equal v2 file result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query config not modify throw exception string release key test release k e y2 response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace release key release key apollo config class get host url some app id some cluster some namespace release key assert equal http status not modify response get status code 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query config not modify throw exception string release key test release k e y2 response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace release key release key apollo config class get host url some app id some cluster some namespace release key assert equal http status not modify response get status code 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public gray config with no override throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some public app id config const cluster name default some public namespace stop time unit millisecond sleep stop set true response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace ip client ip apollo config class get host url some app id some cluster some public namespace some client ip apollo config result response get body assert equal http status ok response get status code assert equal test gray release k e y2 result get release key assert equal gray v1 result get configuration get k1 assert equal gray v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public gray config with no override throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some public app id config const cluster name default some public namespace stop time unit millisecond sleep stop set true response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace ip client ip apollo config class get host url some app id some cluster some public namespace some client ip apollo config result response get body assert equal http status ok response get status code assert equal test gray release k e y2 result get release key assert equal gray v1 result get configuration get k1 assert equal gray v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public gray config with no override throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some public app id config const cluster name default some public namespace stop time unit millisecond sleep stop set true response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace ip client ip apollo config class get host url some app id some cluster some public namespace some client ip apollo config result response get body assert equal http status ok response get status code assert equal test gray release k e y2 result get release key assert equal gray v1 result get configuration get k1 assert equal gray v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config with datum center find and no override throw exception response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace datum center date center apollo config class get host url some app id some cluster some public namespace some d c apollo config result response get body assert equal test release k e y4 result get release key assert equal some app id result get app id assert equal some cluster result get cluster assert equal some public namespace result get namespace name assert equal some d c v1 result get configuration get k1 assert equal some d c v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config with datum center find and no override throw exception response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace datum center date center apollo config class get host url some app id some cluster some public namespace some d c apollo config result response get body assert equal test release k e y4 result get release key assert equal some app id result get app id assert equal some cluster result get cluster assert equal some public namespace result get namespace name assert equal some d c v1 result get configuration get k1 assert equal some d c v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public dc override sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config with datum center find and override throw exception response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace datum center date center apollo config class get host url some app id some default cluster some public namespace some d c apollo config result response get body assert equal test release k e y6 config const cluster namespace separator test release k e y4 result get release key assert equal some app id result get app id assert equal some d c result get cluster assert equal some public namespace result get namespace name assert equal override some d c v1 result get configuration get k1 assert equal some d c v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public dc override sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config with datum center find and override throw exception response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace datum center date center apollo config class get host url some app id some default cluster some public namespace some d c apollo config result response get body assert equal test release k e y6 config const cluster namespace separator test release k e y4 result get release key assert equal some app id result get app id assert equal some d c result get cluster assert equal some public namespace result get namespace name assert equal override some d c v1 result get configuration get k1 assert equal some d c v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public dc override sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config with datum center find and override throw exception response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace datum center date center apollo config class get host url some app id some default cluster some public namespace some d c apollo config result response get body assert equal test release k e y6 config const cluster namespace separator test release k e y4 result get release key assert equal some app id result get app id assert equal some d c result get cluster assert equal some public namespace result get namespace name assert equal override some d c v1 result get configuration get k1 assert equal some d c v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public dc override sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config with incorrect case and datum center find and override throw exception response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace datum center date center apollo config class get host url some app id some default cluster some public namespace to upper case some d c apollo config result response get body assert equal test release k e y6 config const cluster namespace separator test release k e y4 result get release key assert equal override some d c v1 result get configuration get k1 assert equal some d c v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public dc override sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config with incorrect case and datum center find and override throw exception response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace datum center date center apollo config class get host url some app id some default cluster some public namespace to upper case some d c apollo config result response get body assert equal test release k e y6 config const cluster namespace separator test release k e y4 result get release key assert equal override some d c v1 result get configuration get k1 assert equal some d c v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public dc override sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config with incorrect case and datum center find and override throw exception response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace datum center date center apollo config class get host url some app id some default cluster some public namespace to upper case some d c apollo config result response get body assert equal test release k e y6 config const cluster namespace separator test release k e y4 result get release key assert equal override some d c v1 result get configuration get k1 assert equal some d c v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config with datum center not find and no override throw exception string some d c not find some d c not find response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace datum center date center apollo config class get host url some app id some cluster some public namespace some d c not find apollo config result response get body assert equal test release k e y3 result get release key assert equal some app id result get app id assert equal some cluster result get cluster assert equal some public namespace result get namespace name assert equal default v1 result get configuration get k1 assert equal default v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config with datum center not find and no override throw exception string some d c not find some d c not find response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace datum center date center apollo config class get host url some app id some cluster some public namespace some d c not find apollo config result response get body assert equal test release k e y3 result get release key assert equal some app id result get app id assert equal some cluster result get cluster assert equal some public namespace result get namespace name assert equal default v1 result get configuration get k1 assert equal default v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public default override sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config with datum center not find and override throw exception string some d c not find some d c not find response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace datum center date center apollo config class get host url some app id some default cluster some public namespace some d c not find apollo config result response get body assert equal test release k e y5 config const cluster namespace separator test release k e y3 result get release key assert equal some app id result get app id assert equal some default cluster result get cluster assert equal some public namespace result get namespace name assert equal override v1 result get configuration get k1 assert equal default v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public default override sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config with datum center not find and override throw exception string some d c not find some d c not find response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace datum center date center apollo config class get host url some app id some default cluster some public namespace some d c not find apollo config result response get body assert equal test release k e y5 config const cluster namespace separator test release k e y3 result get release key assert equal some app id result get app id assert equal some default cluster result get cluster assert equal some public namespace result get namespace name assert equal override v1 result get configuration get k1 assert equal default v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public default override sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config with datum center not find and override throw exception string some d c not find some d c not find response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace datum center date center apollo config class get host url some app id some default cluster some public namespace some d c not find apollo config result response get body assert equal test release k e y5 config const cluster namespace separator test release k e y3 result get release key assert equal some app id result get app id assert equal some default cluster result get cluster assert equal some public namespace result get namespace name assert equal override v1 result get configuration get k1 assert equal default v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public default override sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public gray config with override throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some public app id config const cluster name default some public namespace stop time unit millisecond sleep stop set true response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace ip client ip apollo config class get host url some app id some default cluster some public namespace some client ip apollo config result response get body assert equal http status ok response get status code assert equal test release k e y5 config const cluster namespace separator test gray release k e y2 result get release key assert equal override v1 result get configuration get k1 assert equal gray v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public default override sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public gray config with override throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some public app id config const cluster name default some public namespace stop time unit millisecond sleep stop set true response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace ip client ip apollo config class get host url some app id some default cluster some public namespace some client ip apollo config result response get body assert equal http status ok response get status code assert equal test release k e y5 config const cluster namespace separator test gray release k e y2 result get release key assert equal override v1 result get configuration get k1 assert equal gray v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public default override sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public gray config with override throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some public app id config const cluster name default some public namespace stop time unit millisecond sleep stop set true response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace ip client ip apollo config class get host url some app id some default cluster some public namespace some client ip apollo config result response get body assert equal http status ok response get status code assert equal test release k e y5 config const cluster namespace separator test gray release k e y2 result get release key assert equal override v1 result get configuration get k1 assert equal gray v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public default override sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public gray config with override throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some public app id config const cluster name default some public namespace stop time unit millisecond sleep stop set true response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace ip client ip apollo config class get host url some app id some default cluster some public namespace some client ip apollo config result response get body assert equal http status ok response get status code assert equal test release k e y5 config const cluster namespace separator test gray release k e y2 result get release key assert equal override v1 result get configuration get k1 assert equal gray v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public default override sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public gray config with incorrect case and override throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some public app id config const cluster name default some public namespace stop time unit millisecond sleep stop set true response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace ip client ip apollo config class get host url some app id some default cluster some public namespace to upper case some client ip apollo config result response get body assert equal http status ok response get status code assert equal test release k e y5 config const cluster namespace separator test gray release k e y2 result get release key assert equal override v1 result get configuration get k1 assert equal gray v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public default override sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public gray config with incorrect case and override throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some public app id config const cluster name default some public namespace stop time unit millisecond sleep stop set true response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace ip client ip apollo config class get host url some app id some default cluster some public namespace to upper case some client ip apollo config result response get body assert equal http status ok response get status code assert equal test release k e y5 config const cluster namespace separator test gray release k e y2 result get release key assert equal override v1 result get configuration get k1 assert equal gray v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public default override sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public gray config with incorrect case and override throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some public app id config const cluster name default some public namespace stop time unit millisecond sleep stop set true response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace ip client ip apollo config class get host url some app id some default cluster some public namespace to upper case some client ip apollo config result response get body assert equal http status ok response get status code assert equal test release k e y5 config const cluster namespace separator test gray release k e y2 result get release key assert equal override v1 result get configuration get k1 assert equal gray v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public default override sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public gray config with incorrect case and override throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some public app id config const cluster name default some public namespace stop time unit millisecond sleep stop set true response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace ip client ip apollo config class get host url some app id some default cluster some public namespace to upper case some client ip apollo config result response get body assert equal http status ok response get status code assert equal test release k e y5 config const cluster namespace separator test gray release k e y2 result get release key assert equal override v1 result get configuration get k1 assert equal gray v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query private config file with public namespace exist throw exception string namespace name another namespace response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace apollo config class get host url some app id config const cluster name default namespace name apollo config result response get body assert equal test release k e y6 result get release key assert equal some app id result get app id assert equal config const cluster name default result get cluster assert equal namespace name result get namespace name assert equal v1 file result get configuration get k1 assert equal null result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query private config file with public namespace exist throw exception string namespace name another namespace response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace apollo config class get host url some app id config const cluster name default namespace name apollo config result response get body assert equal test release k e y6 result get release key assert equal some app id result get app id assert equal config const cluster name default result get cluster assert equal namespace name result get namespace name assert equal v1 file result get configuration get k1 assert equal null result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config for no app id place holder throw exception response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace datum center date center apollo config class get host url config const no appid placeholder some cluster some public namespace some d c apollo config result response get body assert equal test release k e y4 result get release key assert equal config const no appid placeholder result get app id assert equal some cluster result get cluster assert equal some public namespace result get namespace name assert equal some d c v1 result get configuration get k1 assert equal some d c v2 result get configuration get k2 
config controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config for no app id place holder throw exception response entity apollo config response rest template get for entity http baseurl config app id cluster name namespace datum center date center apollo config class get host url config const no appid placeholder some cluster some public namespace some d c apollo config result response get body assert equal test release k e y4 result get release key assert equal config const no appid placeholder result get app id assert equal some cluster result get cluster assert equal some public namespace result get namespace name assert equal some d c v1 result get configuration get k1 assert equal some d c v2 result get configuration get k2 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query config as property throw exception response entity string response rest template get for entity http baseurl configfile app id cluster name namespace string class get host url some app id some cluster some namespace string result response get body assert equal http status ok response get status code assert true result contain k2 v2 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query config as property throw exception response entity string response rest template get for entity http baseurl configfile app id cluster name namespace string class get host url some app id some cluster some namespace string result response get body assert equal http status ok response get status code assert true result contain k2 v2 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query config as property with gray release throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some app id config const cluster name default config const namespace application stop time unit millisecond sleep stop set true response entity string response rest template get for entity http baseurl configfile app id cluster name namespace ip client ip string class get host url some app id some default cluster config const namespace application gray client ip response entity string another response rest template get for entity http baseurl configfile app id cluster name namespace ip client ip string class get host url some app id some default cluster config const namespace application non gray client ip string result response get body string another result another response get body assert equal http status ok response get status code assert true result contain k1 v1 gray assert equal http status ok another response get status code assert false another result contain k1 v1 gray assert true another result contain k1 v1 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query config as property with gray release throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some app id config const cluster name default config const namespace application stop time unit millisecond sleep stop set true response entity string response rest template get for entity http baseurl configfile app id cluster name namespace ip client ip string class get host url some app id some default cluster config const namespace application gray client ip response entity string another response rest template get for entity http baseurl configfile app id cluster name namespace ip client ip string class get host url some app id some default cluster config const namespace application non gray client ip string result response get body string another result another response get body assert equal http status ok response get status code assert true result contain k1 v1 gray assert equal http status ok another response get status code assert false another result contain k1 v1 gray assert true another result contain k1 v1 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query config as property with gray release throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some app id config const cluster name default config const namespace application stop time unit millisecond sleep stop set true response entity string response rest template get for entity http baseurl configfile app id cluster name namespace ip client ip string class get host url some app id some default cluster config const namespace application gray client ip response entity string another response rest template get for entity http baseurl configfile app id cluster name namespace ip client ip string class get host url some app id some default cluster config const namespace application non gray client ip string result response get body string another result another response get body assert equal http status ok response get status code assert true result contain k1 v1 gray assert equal http status ok another response get status code assert false another result contain k1 v1 gray assert true another result contain k1 v1 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public dc override sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config as property throw exception response entity string response rest template get for entity http baseurl configfile app id cluster name namespace datum center date center string class get host url some app id some default cluster some public namespace some d c string result response get body assert equal http status ok response get status code assert true result contain k1 override some d c v1 assert true result contain k2 some d c v2 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public dc override sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config as property throw exception response entity string response rest template get for entity http baseurl configfile app id cluster name namespace datum center date center string class get host url some app id some default cluster some public namespace some d c string result response get body assert equal http status ok response get status code assert true result contain k1 override some d c v1 assert true result contain k2 some d c v2 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public dc override sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config as property throw exception response entity string response rest template get for entity http baseurl configfile app id cluster name namespace datum center date center string class get host url some app id some default cluster some public namespace some d c string result response get body assert equal http status ok response get status code assert true result contain k1 override some d c v1 assert true result contain k2 some d c v2 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query config as json throw exception response entity string response rest template get for entity http baseurl configfile json app id cluster name namespace string class get host url some app id some cluster some namespace map string string config gson from json response get body map response type assert equal http status ok response get status code assert equal v2 config get k2 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query config as json throw exception response entity string response rest template get for entity http baseurl configfile json app id cluster name namespace string class get host url some app id some cluster some namespace map string string config gson from json response get body map response type assert equal http status ok response get status code assert equal v2 config get k2 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query config as json with incorrect case throw exception response entity string response rest template get for entity http baseurl configfile json app id cluster name namespace string class get host url some app id some cluster some namespace to upper case map string string config gson from json response get body map response type assert equal http status ok response get status code assert equal v2 config get k2 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query config as json with incorrect case throw exception response entity string response rest template get for entity http baseurl configfile json app id cluster name namespace string class get host url some app id some cluster some namespace to upper case map string string config gson from json response get body map response type assert equal http status ok response get status code assert equal v2 config get k2 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public dc override sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config as json throw exception response entity string response rest template get for entity http baseurl configfile json app id cluster name namespace datum center date center string class get host url some app id some default cluster some public namespace some d c map string string config gson from json response get body map response type assert equal http status ok response get status code assert equal override some d c v1 config get k1 assert equal some d c v2 config get k2 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public dc override sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config as json throw exception response entity string response rest template get for entity http baseurl configfile json app id cluster name namespace datum center date center string class get host url some app id some default cluster some public namespace some d c map string string config gson from json response get body map response type assert equal http status ok response get status code assert equal override some d c v1 config get k1 assert equal some d c v2 config get k2 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public dc override sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config as json throw exception response entity string response rest template get for entity http baseurl configfile json app id cluster name namespace datum center date center string class get host url some app id some default cluster some public namespace some d c map string string config gson from json response get body map response type assert equal http status ok response get status code assert equal override some d c v1 config get k1 assert equal some d c v2 config get k2 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public dc override sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config as json with incorrect case throw exception response entity string response rest template get for entity http baseurl configfile json app id cluster name namespace datum center date center string class get host url some app id some default cluster some public namespace to upper case some d c map string string config gson from json response get body map response type assert equal http status ok response get status code assert equal override some d c v1 config get k1 assert equal some d c v2 config get k2 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public dc override sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config as json with incorrect case throw exception response entity string response rest template get for entity http baseurl configfile json app id cluster name namespace datum center date center string class get host url some app id some default cluster some public namespace to upper case some d c map string string config gson from json response get body map response type assert equal http status ok response get status code assert equal override some d c v1 config get k1 assert equal some d c v2 config get k2 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public dc override sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config as json with incorrect case throw exception response entity string response rest template get for entity http baseurl configfile json app id cluster name namespace datum center date center string class get host url some app id some default cluster some public namespace to upper case some d c map string string config gson from json response get body map response type assert equal http status ok response get status code assert equal override some d c v1 config get k1 assert equal some d c v2 config get k2 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public default override sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config as json with gray release throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some public app id config const cluster name default some public namespace stop time unit millisecond sleep stop set true response entity string response rest template get for entity http baseurl configfile json app id cluster name namespace ip client ip string class get host url some app id some default cluster some public namespace gray client ip response entity string another response rest template get for entity http baseurl configfile json app id cluster name namespace ip client ip string class get host url some app id some default cluster some public namespace non gray client ip map string string config gson from json response get body map response type map string string another configs gson from json another response get body map response type assert equal http status ok response get status code assert equal http status ok another response get status code assert equal override v1 config get k1 assert equal gray v2 config get k2 assert equal override v1 another config get k1 assert equal default v2 another config get k2 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public default override sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config as json with gray release throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some public app id config const cluster name default some public namespace stop time unit millisecond sleep stop set true response entity string response rest template get for entity http baseurl configfile json app id cluster name namespace ip client ip string class get host url some app id some default cluster some public namespace gray client ip response entity string another response rest template get for entity http baseurl configfile json app id cluster name namespace ip client ip string class get host url some app id some default cluster some public namespace non gray client ip map string string config gson from json response get body map response type map string string another configs gson from json another response get body map response type assert equal http status ok response get status code assert equal http status ok another response get status code assert equal override v1 config get k1 assert equal gray v2 config get k2 assert equal override v1 another config get k1 assert equal default v2 another config get k2 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public default override sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config as json with gray release throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some public app id config const cluster name default some public namespace stop time unit millisecond sleep stop set true response entity string response rest template get for entity http baseurl configfile json app id cluster name namespace ip client ip string class get host url some app id some default cluster some public namespace gray client ip response entity string another response rest template get for entity http baseurl configfile json app id cluster name namespace ip client ip string class get host url some app id some default cluster some public namespace non gray client ip map string string config gson from json response get body map response type map string string another configs gson from json another response get body map response type assert equal http status ok response get status code assert equal http status ok another response get status code assert equal override v1 config get k1 assert equal gray v2 config get k2 assert equal override v1 another config get k1 assert equal default v2 another config get k2 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public default override sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config as json with gray release throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some public app id config const cluster name default some public namespace stop time unit millisecond sleep stop set true response entity string response rest template get for entity http baseurl configfile json app id cluster name namespace ip client ip string class get host url some app id some default cluster some public namespace gray client ip response entity string another response rest template get for entity http baseurl configfile json app id cluster name namespace ip client ip string class get host url some app id some default cluster some public namespace non gray client ip map string string config gson from json response get body map response type map string string another configs gson from json another response get body map response type assert equal http status ok response get status code assert equal http status ok another response get status code assert equal override v1 config get k1 assert equal gray v2 config get k2 assert equal override v1 another config get k1 assert equal default v2 another config get k2 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public default override sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config as json with gray release and incorrect case throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some public app id config const cluster name default some public namespace stop time unit millisecond sleep stop set true response entity string response rest template get for entity http baseurl configfile json app id cluster name namespace ip client ip string class get host url some app id some default cluster some public namespace to upper case gray client ip response entity string another response rest template get for entity http baseurl configfile json app id cluster name namespace ip client ip string class get host url some app id some default cluster some public namespace to upper case non gray client ip map string string config gson from json response get body map response type map string string another configs gson from json another response get body map response type assert equal http status ok response get status code assert equal http status ok another response get status code assert equal override v1 config get k1 assert equal gray v2 config get k2 assert equal override v1 another config get k1 assert equal default v2 another config get k2 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public default override sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config as json with gray release and incorrect case throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some public app id config const cluster name default some public namespace stop time unit millisecond sleep stop set true response entity string response rest template get for entity http baseurl configfile json app id cluster name namespace ip client ip string class get host url some app id some default cluster some public namespace to upper case gray client ip response entity string another response rest template get for entity http baseurl configfile json app id cluster name namespace ip client ip string class get host url some app id some default cluster some public namespace to upper case non gray client ip map string string config gson from json response get body map response type map string string another configs gson from json another response get body map response type assert equal http status ok response get status code assert equal http status ok another response get status code assert equal override v1 config get k1 assert equal gray v2 config get k2 assert equal override v1 another config get k1 assert equal default v2 another config get k2 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public default override sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config as json with gray release and incorrect case throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some public app id config const cluster name default some public namespace stop time unit millisecond sleep stop set true response entity string response rest template get for entity http baseurl configfile json app id cluster name namespace ip client ip string class get host url some app id some default cluster some public namespace to upper case gray client ip response entity string another response rest template get for entity http baseurl configfile json app id cluster name namespace ip client ip string class get host url some app id some default cluster some public namespace to upper case non gray client ip map string string config gson from json response get body map response type map string string another configs gson from json another response get body map response type assert equal http status ok response get status code assert equal http status ok another response get status code assert equal override v1 config get k1 assert equal gray v2 config get k2 assert equal override v1 another config get k1 assert equal default v2 another config get k2 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release public default override sql execution phase sql execution phase before test method sql script integration test test gray release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test query public config as json with gray release and incorrect case throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some public app id config const cluster name default some public namespace stop time unit millisecond sleep stop set true response entity string response rest template get for entity http baseurl configfile json app id cluster name namespace ip client ip string class get host url some app id some default cluster some public namespace to upper case gray client ip response entity string another response rest template get for entity http baseurl configfile json app id cluster name namespace ip client ip string class get host url some app id some default cluster some public namespace to upper case non gray client ip map string string config gson from json response get body map response type map string string another configs gson from json another response get body map response type assert equal http status ok response get status code assert equal http status ok another response get status code assert equal override v1 config get k1 assert equal gray v2 config get k2 assert equal override v1 another config get k1 assert equal default v2 another config get k2 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test config change throw exception response entity string response rest template get for entity http baseurl configfile app id cluster name namespace string class get host url some app id some cluster some namespace string result response get body assert equal http status ok response get status code assert true result contain k2 v2 string some release name some release name string some release comment some release comment namespace namespace new namespace namespace set app id some app id namespace set cluster name some cluster namespace set namespace name some namespace string some owner some owner map string string new configuration immutable map of k1 v1 change k2 v2 change build release some release name some release comment namespace new configuration some owner response entity string another response rest template get for entity http baseurl configfile app id cluster name namespace string class get host url some app id some cluster some namespace assert equal response get body another response get body list string key list new array list some app id some cluster some namespace string message string join config const cluster namespace separator key iterator send release message message time unit millisecond sleep response entity string new response rest template get for entity http baseurl configfile app id cluster name namespace string class get host url some app id some cluster some namespace result new response get body assert equal http status ok response get status code assert true result contain k1 v1 change assert true result contain k2 v2 change 
config file controller integration test test sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test config change throw exception response entity string response rest template get for entity http baseurl configfile app id cluster name namespace string class get host url some app id some cluster some namespace string result response get body assert equal http status ok response get status code assert true result contain k2 v2 string some release name some release name string some release comment some release comment namespace namespace new namespace namespace set app id some app id namespace set cluster name some cluster namespace set namespace name some namespace string some owner some owner map string string new configuration immutable map of k1 v1 change k2 v2 change build release some release name some release comment namespace new configuration some owner response entity string another response rest template get for entity http baseurl configfile app id cluster name namespace string class get host url some app id some cluster some namespace assert equal response get body another response get body list string key list new array list some app id some cluster some namespace string message string join config const cluster namespace separator key iterator send release message message time unit millisecond sleep response entity string new response rest template get for entity http baseurl configfile app id cluster name namespace string class get host url some app id some cluster some namespace result new response get body assert equal http status ok response get status code assert true result contain k1 v1 change assert true result contain k2 v2 change 
notification controller integration test test timeout l sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with default namespace throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some app id some cluster default namespace stop response entity apollo config notification result rest template get for entity http baseurl notification app id app id cluster cluster name namespace namespace apollo config notification class get host url some app id some cluster default namespace stop set true apollo config notification notification result get body assert equal http status ok result get status code assert equal default namespace notification get namespace name assert not equal notification get notification id 
notification controller integration test test timeout l sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with default namespace as file throw exception atomic boolean stop new atomic boolean periodic send message executor service assemble key some app id some cluster default namespace stop response entity apollo config notification result rest template get for entity http baseurl notification app id app id cluster cluster name namespace namespace apollo config notification class get host url some app id some cluster default namespace property stop set true apollo config notification notification result get body assert equal http status ok result get status code assert equal default namespace notification get namespace name assert not equal notification get notification id 
notification controller integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with private namespace as file throw exception string namespace some namespace xml atomic boolean stop new atomic boolean periodic send message executor service assemble key some app id config const cluster name default namespace stop response entity apollo config notification result rest template get for entity http baseurl notification app id app id cluster cluster name namespace namespace apollo config notification class get host url some app id some cluster namespace stop set true apollo config notification notification result get body assert equal http status ok result get status code assert equal namespace notification get namespace name assert not equal notification get notification id 
notification controller integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with private namespace as file throw exception string namespace some namespace xml atomic boolean stop new atomic boolean periodic send message executor service assemble key some app id config const cluster name default namespace stop response entity apollo config notification result rest template get for entity http baseurl notification app id app id cluster cluster name namespace namespace apollo config notification class get host url some app id some cluster namespace stop set true apollo config notification notification result get body assert equal http status ok result get status code assert equal namespace notification get namespace name assert not equal notification get notification id 
notification controller integration test test timeout l sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with default namespace with notification id null throw exception response entity apollo config notification result rest template get for entity http baseurl notification app id app id cluster cluster name namespace namespace apollo config notification class get host url some app id some cluster default namespace apollo config notification notification result get body assert equal http status ok result get status code assert equal default namespace notification get namespace name assert equal notification get notification id 
notification controller integration test test timeout l sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with default namespace with notification id null throw exception response entity apollo config notification result rest template get for entity http baseurl notification app id app id cluster cluster name namespace namespace apollo config notification class get host url some app id some cluster default namespace apollo config notification notification result get body assert equal http status ok result get status code assert equal default namespace notification get namespace name assert equal notification get notification id 
notification controller integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with default namespace with notification id out date throw exception long some out date notification id response entity apollo config notification result rest template get for entity http baseurl notification app id app id cluster cluster name namespace namespace notification id notification id apollo config notification class get host url some app id some cluster default namespace some out date notification id apollo config notification notification result get body assert equal http status ok result get status code assert equal default namespace notification get namespace name assert equal notification get notification id 
notification controller integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with default namespace with notification id out date throw exception long some out date notification id response entity apollo config notification result rest template get for entity http baseurl notification app id app id cluster cluster name namespace namespace notification id notification id apollo config notification class get host url some app id some cluster default namespace some out date notification id apollo config notification notification result get body assert equal http status ok result get status code assert equal default namespace notification get namespace name assert equal notification get notification id 
notification controller integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with default namespace with notification id out date throw exception long some out date notification id response entity apollo config notification result rest template get for entity http baseurl notification app id app id cluster cluster name namespace namespace notification id notification id apollo config notification class get host url some app id some cluster default namespace some out date notification id apollo config notification notification result get body assert equal http status ok result get status code assert equal default namespace notification get namespace name assert equal notification get notification id 
notification controller integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification wth public namespace and no datum center throw exception string public app id some public app id atomic boolean stop new atomic boolean periodic send message executor service assemble key public app id config const cluster name default some public namespace stop response entity apollo config notification result rest template get for entity http baseurl notification app id app id cluster cluster name namespace namespace apollo config notification class get host url some app id some cluster some public namespace stop set true apollo config notification notification result get body assert equal http status ok result get status code assert equal some public namespace notification get namespace name assert not equal notification get notification id 
notification controller integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification wth public namespace and no datum center throw exception string public app id some public app id atomic boolean stop new atomic boolean periodic send message executor service assemble key public app id config const cluster name default some public namespace stop response entity apollo config notification result rest template get for entity http baseurl notification app id app id cluster cluster name namespace namespace apollo config notification class get host url some app id some cluster some public namespace stop set true apollo config notification notification result get body assert equal http status ok result get status code assert equal some public namespace notification get namespace name assert not equal notification get notification id 
notification controller integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification wth public namespace and datum center throw exception string public app id some public app id string some d c some d c atomic boolean stop new atomic boolean periodic send message executor service assemble key public app id some d c some public namespace stop response entity apollo config notification result rest template get for entity http baseurl notification app id app id cluster cluster name namespace namespace datum center datum center apollo config notification class get host url some app id some cluster some public namespace some d c stop set true apollo config notification notification result get body assert equal http status ok result get status code assert equal some public namespace notification get namespace name assert not equal notification get notification id 
notification controller integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification wth public namespace and datum center throw exception string public app id some public app id string some d c some d c atomic boolean stop new atomic boolean periodic send message executor service assemble key public app id some d c some public namespace stop response entity apollo config notification result rest template get for entity http baseurl notification app id app id cluster cluster name namespace namespace datum center datum center apollo config notification class get host url some app id some cluster some public namespace some d c stop set true apollo config notification notification result get body assert equal http status ok result get status code assert equal some public namespace notification get namespace name assert not equal notification get notification id 
notification controller integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification wth public namespace as file throw exception string public app id some public app id string some d c some d c atomic boolean stop new atomic boolean periodic send message executor service assemble key public app id some d c some public namespace stop response entity apollo config notification result rest template get for entity http baseurl notification app id app id cluster cluster name namespace namespace datum center datum center apollo config notification class get host url some app id some cluster some public namespace property some d c stop set true apollo config notification notification result get body assert equal http status ok result get status code assert equal some public namespace notification get namespace name assert not equal notification get notification id 
notification controller integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification wth public namespace as file throw exception string public app id some public app id string some d c some d c atomic boolean stop new atomic boolean periodic send message executor service assemble key public app id some d c some public namespace stop response entity apollo config notification result rest template get for entity http baseurl notification app id app id cluster cluster name namespace namespace datum center datum center apollo config notification class get host url some app id some cluster some public namespace property some d c stop set true apollo config notification notification result get body assert equal http status ok result get status code assert equal some public namespace notification get namespace name assert not equal notification get notification id 
notification controller integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with public namespace with notification id out date throw exception long some out date notification id response entity apollo config notification result rest template get for entity http baseurl notification app id app id cluster cluster name namespace namespace notification id notification id apollo config notification class get host url some app id some cluster some public namespace some out date notification id apollo config notification notification result get body assert equal http status ok result get status code assert equal some public namespace notification get namespace name assert equal notification get notification id 
notification controller integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with public namespace with notification id out date throw exception long some out date notification id response entity apollo config notification result rest template get for entity http baseurl notification app id app id cluster cluster name namespace namespace notification id notification id apollo config notification class get host url some app id some cluster some public namespace some out date notification id apollo config notification notification result get body assert equal http status ok result get status code assert equal some public namespace notification get namespace name assert equal notification get notification id 
notification controller integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with public namespace with notification id out date throw exception long some out date notification id response entity apollo config notification result rest template get for entity http baseurl notification app id app id cluster cluster name namespace namespace notification id notification id apollo config notification class get host url some app id some cluster some public namespace some out date notification id apollo config notification notification result get body assert equal http status ok result get status code assert equal some public namespace notification get namespace name assert equal notification get notification id 
notification controller v2 integration test test timeout l sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with default namespace throw exception atomic boolean stop new atomic boolean string key assemble key some app id some cluster default namespace periodic send message executor service key stop response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string default namespace config const notification id placeholder stop set true list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal default namespace notification get get namespace name assert not equal notification get get notification id apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert not equal config const notification id placeholder message get key long value 
notification controller v2 integration test test timeout l sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with default namespace as file throw exception atomic boolean stop new atomic boolean string key assemble key some app id some cluster default namespace periodic send message executor service key stop response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string default namespace property config const notification id placeholder stop set true list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal default namespace notification get get namespace name assert not equal notification get get notification id apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert not equal config const notification id placeholder message get key long value 
notification controller v2 integration test test sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with multiple namespace throw exception atomic boolean stop new atomic boolean string key assemble key some app id some cluster some public namespace periodic send message executor service key stop response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string default namespace property config const notification id placeholder default namespace config const notification id placeholder some public namespace config const notification id placeholder stop set true list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal some public namespace notification get get namespace name assert not equal notification get get notification id apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert not equal config const notification id placeholder message get key long value 
notification controller v2 integration test test sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with multiple namespace and incorrect case throw exception atomic boolean stop new atomic boolean string key assemble key some app id some cluster some public namespace periodic send message executor service key stop string some default namespace with incorrect case default namespace to upper case string some public namespace with incorrect case some public namespace to upper case response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string default namespace property config const notification id placeholder some default namespace with incorrect case config consts notification id placeholder some public namespace with incorrect case config consts notification id placeholder stop set true list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal some public namespace with incorrect case notification get get namespace name assert not equal notification get get notification id apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert not equal config const notification id placeholder message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with private namespace as file throw exception string namespace some namespace xml atomic boolean stop new atomic boolean string key assemble key some app id config const cluster name default namespace periodic send message executor service key stop response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string namespace config const notification id placeholder stop set true list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal namespace notification get get namespace name assert not equal notification get get notification id apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert not equal config const notification id placeholder message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with private namespace as file throw exception string namespace some namespace xml atomic boolean stop new atomic boolean string key assemble key some app id config const cluster name default namespace periodic send message executor service key stop response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string namespace config const notification id placeholder stop set true list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal namespace notification get get namespace name assert not equal notification get get notification id apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert not equal config const notification id placeholder message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with default namespace with notification id out date throw exception long some out date notification id response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string default namespace some out date notification id long new notification id list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal default namespace notification get get namespace name assert equal new notification id notification get get notification id string key assemble key some app id config const cluster name default config const namespace application apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert equal new notification id message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with default namespace with notification id out date throw exception long some out date notification id response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string default namespace some out date notification id long new notification id list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal default namespace notification get get namespace name assert equal new notification id notification get get notification id string key assemble key some app id config const cluster name default config const namespace application apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert equal new notification id message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with default namespace with notification id out date throw exception long some out date notification id response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string default namespace some out date notification id long new notification id list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal default namespace notification get get namespace name assert equal new notification id notification get get notification id string key assemble key some app id config const cluster name default config const namespace application apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert equal new notification id message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification wth public namespace and no datum center throw exception string public app id some public app id atomic boolean stop new atomic boolean string key assemble key public app id config const cluster name default some public namespace periodic send message executor service key stop response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string some public namespace config const notification id placeholder stop set true list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal some public namespace notification get get namespace name assert not equal notification get get notification id apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert not equal config const notification id placeholder message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification wth public namespace and no datum center throw exception string public app id some public app id atomic boolean stop new atomic boolean string key assemble key public app id config const cluster name default some public namespace periodic send message executor service key stop response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string some public namespace config const notification id placeholder stop set true list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal some public namespace notification get get namespace name assert not equal notification get get notification id apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert not equal config const notification id placeholder message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification wth public namespace and datum center throw exception string public app id some public app id string some d c some d c atomic boolean stop new atomic boolean string key assemble key public app id some d c some public namespace periodic send message executor service key stop response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification datum center datum center http method get null type reference get host url some app id some cluster transform apollo config notification to string some public namespace config const notification id placeholder some d c stop set true list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal some public namespace notification get get namespace name assert not equal notification get get notification id apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert not equal config const notification id placeholder message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification wth public namespace and datum center throw exception string public app id some public app id string some d c some d c atomic boolean stop new atomic boolean string key assemble key public app id some d c some public namespace periodic send message executor service key stop response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification datum center datum center http method get null type reference get host url some app id some cluster transform apollo config notification to string some public namespace config const notification id placeholder some d c stop set true list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal some public namespace notification get get namespace name assert not equal notification get get notification id apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert not equal config const notification id placeholder message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification wth multiple namespace and multiple namespace change throw exception string public app id some public app id string some d c some d c atomic boolean stop new atomic boolean string key assemble key public app id some d c some public namespace periodic send message executor service key stop response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification datum center datum center http method get null type reference get host url some app id some cluster transform apollo config notification to string default namespace config const notification id placeholder some public namespace config const notification id placeholder some d c stop set true list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal some public namespace notification get get namespace name assert not equal notification get get notification id apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert not equal config const notification id placeholder message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification wth multiple namespace and multiple namespace change throw exception string public app id some public app id string some d c some d c atomic boolean stop new atomic boolean string key assemble key public app id some d c some public namespace periodic send message executor service key stop response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification datum center datum center http method get null type reference get host url some app id some cluster transform apollo config notification to string default namespace config const notification id placeholder some public namespace config const notification id placeholder some d c stop set true list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal some public namespace notification get get namespace name assert not equal notification get get notification id apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert not equal config const notification id placeholder message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification wth public namespace as file throw exception string public app id some public app id string some d c some d c atomic boolean stop new atomic boolean string key assemble key public app id some d c some public namespace periodic send message executor service key stop response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification datum center datum center http method get null type reference get host url some app id some cluster transform apollo config notification to string some public namespace property config const notification id placeholder some d c stop set true list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal some public namespace notification get get namespace name assert not equal notification get get notification id apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert not equal config const notification id placeholder message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification wth public namespace as file throw exception string public app id some public app id string some d c some d c atomic boolean stop new atomic boolean string key assemble key public app id some d c some public namespace periodic send message executor service key stop response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification datum center datum center http method get null type reference get host url some app id some cluster transform apollo config notification to string some public namespace property config const notification id placeholder some d c stop set true list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal some public namespace notification get get namespace name assert not equal notification get get notification id apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert not equal config const notification id placeholder message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with public namespace with notification id out date throw exception string public app id some public app id long some out date notification id response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string some public namespace some out date notification id long new notification id list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal some public namespace notification get get namespace name assert equal new notification id notification get get notification id string key assemble key public app id config const cluster name default some public namespace apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert equal new notification id message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with public namespace with notification id out date throw exception string public app id some public app id long some out date notification id response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string some public namespace some out date notification id long new notification id list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal some public namespace notification get get namespace name assert equal new notification id notification get get notification id string key assemble key public app id config const cluster name default some public namespace apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert equal new notification id message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with public namespace with notification id out date throw exception string public app id some public app id long some out date notification id response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string some public namespace some out date notification id long new notification id list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal some public namespace notification get get namespace name assert equal new notification id notification get get notification id string key assemble key public app id config const cluster name default some public namespace apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert equal new notification id message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with multiple public namespace with incorrect case with notification id out date throw exception string public app id some public app id long some out date notification id long new notification id string some public name with incorrect case some public namespace to upper case the same namespace with difference character case and difference notification id response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string some public namespace new notification id some public name with incorrect case some out date notification id list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal some public name with incorrect case notification get get namespace name assert equal new notification id notification get get notification id string key assemble key public app id config const cluster name default some public namespace apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert equal new notification id message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with multiple public namespace with incorrect case with notification id out date throw exception string public app id some public app id long some out date notification id long new notification id string some public name with incorrect case some public namespace to upper case the same namespace with difference character case and difference notification id response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string some public namespace new notification id some public name with incorrect case some out date notification id list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal some public name with incorrect case notification get get namespace name assert equal new notification id notification get get notification id string key assemble key public app id config const cluster name default some public namespace apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert equal new notification id message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with multiple public namespace with incorrect case with notification id out date throw exception string public app id some public app id long some out date notification id long new notification id string some public name with incorrect case some public namespace to upper case the same namespace with difference character case and difference notification id response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string some public namespace new notification id some public name with incorrect case some out date notification id list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal some public name with incorrect case notification get get namespace name assert equal new notification id notification get get notification id string key assemble key public app id config const cluster name default some public namespace apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert equal new notification id message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with multiple public namespace with incorrect case2 with notification id out date throw exception string public app id some public app id long some out date notification id long new notification id string some public name with incorrect case some public namespace to upper case the same namespace with difference character case and difference notification id response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string some public name with incorrect case some out date notification id some public namespace new notification id list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal some public name with incorrect case notification get get namespace name assert equal new notification id notification get get notification id string key assemble key public app id config const cluster name default some public namespace apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert equal new notification id message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with multiple public namespace with incorrect case2 with notification id out date throw exception string public app id some public app id long some out date notification id long new notification id string some public name with incorrect case some public namespace to upper case the same namespace with difference character case and difference notification id response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string some public name with incorrect case some out date notification id some public namespace new notification id list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal some public name with incorrect case notification get get namespace name assert equal new notification id notification get get notification id string key assemble key public app id config const cluster name default some public namespace apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert equal new notification id message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with multiple public namespace with incorrect case2 with notification id out date throw exception string public app id some public app id long some out date notification id long new notification id string some public name with incorrect case some public namespace to upper case the same namespace with difference character case and difference notification id response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string some public name with incorrect case some out date notification id some public namespace new notification id list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal some public name with incorrect case notification get get namespace name assert equal new notification id notification get get notification id string key assemble key public app id config const cluster name default some public namespace apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert equal new notification id message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with multiple public namespace with incorrect case3 with notification id out date throw exception string public app id some public app id long some out date notification id long new notification id string some public name with incorrect case some public namespace to upper case the same namespace with difference character case and difference notification id response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string some public name with incorrect case new notification id some public namespace some out date notification id list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal some public namespace notification get get namespace name assert equal new notification id notification get get notification id string key assemble key public app id config const cluster name default some public namespace apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert equal new notification id message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with multiple public namespace with incorrect case3 with notification id out date throw exception string public app id some public app id long some out date notification id long new notification id string some public name with incorrect case some public namespace to upper case the same namespace with difference character case and difference notification id response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string some public name with incorrect case new notification id some public namespace some out date notification id list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal some public namespace notification get get namespace name assert equal new notification id notification get get notification id string key assemble key public app id config const cluster name default some public namespace apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert equal new notification id message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with multiple public namespace with incorrect case3 with notification id out date throw exception string public app id some public app id long some out date notification id long new notification id string some public name with incorrect case some public namespace to upper case the same namespace with difference character case and difference notification id response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string some public name with incorrect case new notification id some public namespace some out date notification id list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal some public namespace notification get get namespace name assert equal new notification id notification get get notification id string key assemble key public app id config const cluster name default some public namespace apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert equal new notification id message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with multiple public namespace with incorrect case4 with notification id out date throw exception string public app id some public app id long some out date notification id long new notification id string some public name with incorrect case some public namespace to upper case the same namespace with difference character case and difference notification id response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string some public namespace some out date notification id some public name with incorrect case new notification id list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal some public namespace notification get get namespace name assert equal new notification id notification get get notification id string key assemble key public app id config const cluster name default some public namespace apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert equal new notification id message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with multiple public namespace with incorrect case4 with notification id out date throw exception string public app id some public app id long some out date notification id long new notification id string some public name with incorrect case some public namespace to upper case the same namespace with difference character case and difference notification id response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string some public namespace some out date notification id some public name with incorrect case new notification id list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal some public namespace notification get get namespace name assert equal new notification id notification get get notification id string key assemble key public app id config const cluster name default some public namespace apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert equal new notification id message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with multiple public namespace with incorrect case4 with notification id out date throw exception string public app id some public app id long some out date notification id long new notification id string some public name with incorrect case some public namespace to upper case the same namespace with difference character case and difference notification id response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string some public namespace some out date notification id some public name with incorrect case new notification id list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size assert equal some public namespace notification get get namespace name assert equal new notification id notification get get notification id string key assemble key public app id config const cluster name default some public namespace apollo notification message message result get body get get message assert equal message get detail size assert true message have key assert equal new notification id message get key long value 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with multiple namespace and notification id out date throw exception string public app id some public app id long some out date notification id long new default namespace notification id long new public namespace notification response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string some public namespace some out date notification id default namespace some out date notification id list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size set string out date namespace set new hash set notification get get namespace name notification get get namespace name assert equal set new hash set default namespace some public namespace out date namespace set long new notification id set new hash set notification get get notification id notification get get notification id assert equal set new hash set new default namespace notification id new public namespace notification new notification id string default namespace key assemble key some app id config const cluster name default config const namespace application string public namespace key assemble key public app id config const cluster name default some public namespace apollo notification message first message notification get get message apollo notification message second message notification get get message assert equal first message get detail size assert equal second message get detail size assert true first message have default namespace key first message get default namespace key equal new default namespace notification id first message have public namespace key first message get public namespace key equal new public namespace notification assert true second message have default namespace key second message get default namespace key equal new default namespace notification id second message have public namespace key second message get public namespace key equal new public namespace notification 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with multiple namespace and notification id out date throw exception string public app id some public app id long some out date notification id long new default namespace notification id long new public namespace notification response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string some public namespace some out date notification id default namespace some out date notification id list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size set string out date namespace set new hash set notification get get namespace name notification get get namespace name assert equal set new hash set default namespace some public namespace out date namespace set long new notification id set new hash set notification get get notification id notification get get notification id assert equal set new hash set new default namespace notification id new public namespace notification new notification id string default namespace key assemble key some app id config const cluster name default config const namespace application string public namespace key assemble key public app id config const cluster name default some public namespace apollo notification message first message notification get get message apollo notification message second message notification get get message assert equal first message get detail size assert equal second message get detail size assert true first message have default namespace key first message get default namespace key equal new default namespace notification id first message have public namespace key first message get public namespace key equal new public namespace notification assert true second message have default namespace key second message get default namespace key equal new default namespace notification id second message have public namespace key second message get public namespace key equal new public namespace notification 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with multiple namespace and notification id out date throw exception string public app id some public app id long some out date notification id long new default namespace notification id long new public namespace notification response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string some public namespace some out date notification id default namespace some out date notification id list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size set string out date namespace set new hash set notification get get namespace name notification get get namespace name assert equal set new hash set default namespace some public namespace out date namespace set long new notification id set new hash set notification get get notification id notification get get notification id assert equal set new hash set new default namespace notification id new public namespace notification new notification id string default namespace key assemble key some app id config const cluster name default config const namespace application string public namespace key assemble key public app id config const cluster name default some public namespace apollo notification message first message notification get get message apollo notification message second message notification get get message assert equal first message get detail size assert equal second message get detail size assert true first message have default namespace key first message get default namespace key equal new default namespace notification id first message have public namespace key first message get public namespace key equal new public namespace notification assert true second message have default namespace key second message get default namespace key equal new default namespace notification id second message have public namespace key second message get public namespace key equal new public namespace notification 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with multiple namespace and notification id out date and incorrect case throw exception string public app id some public app id long some out date notification id long new default namespace notification id long new public namespace notification string some default namespace with incorrect case default namespace to upper case string some public namespace with incorrect case some public namespace to upper case response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string some public namespace with incorrect case some out date notification id some default namespace with incorrect case some out date notification id list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size set string out date namespace set new hash set notification get get namespace name notification get get namespace name assert equal set new hash set some default namespace with incorrect case some public namespace with incorrect case out date namespace set long new notification id set new hash set notification get get notification id notification get get notification id assert equal set new hash set new default namespace notification id new public namespace notification new notification id string default namespace key assemble key some app id config const cluster name default config const namespace application string public namespace key assemble key public app id config const cluster name default some public namespace apollo notification message first message notification get get message apollo notification message second message notification get get message assert equal first message get detail size assert equal second message get detail size assert true first message have default namespace key first message get default namespace key equal new default namespace notification id first message have public namespace key first message get public namespace key equal new public namespace notification assert true second message have default namespace key second message get default namespace key equal new default namespace notification id second message have public namespace key second message get public namespace key equal new public namespace notification 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with multiple namespace and notification id out date and incorrect case throw exception string public app id some public app id long some out date notification id long new default namespace notification id long new public namespace notification string some default namespace with incorrect case default namespace to upper case string some public namespace with incorrect case some public namespace to upper case response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string some public namespace with incorrect case some out date notification id some default namespace with incorrect case some out date notification id list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size set string out date namespace set new hash set notification get get namespace name notification get get namespace name assert equal set new hash set some default namespace with incorrect case some public namespace with incorrect case out date namespace set long new notification id set new hash set notification get get notification id notification get get notification id assert equal set new hash set new default namespace notification id new public namespace notification new notification id string default namespace key assemble key some app id config const cluster name default config const namespace application string public namespace key assemble key public app id config const cluster name default some public namespace apollo notification message first message notification get get message apollo notification message second message notification get get message assert equal first message get detail size assert equal second message get detail size assert true first message have default namespace key first message get default namespace key equal new default namespace notification id first message have public namespace key first message get public namespace key equal new public namespace notification assert true second message have default namespace key second message get default namespace key equal new default namespace notification id second message have public namespace key second message get public namespace key equal new public namespace notification 
notification controller v2 integration test test timeout l sql script integration test test release sql execution phase sql execution phase before test method sql script integration test test release message sql execution phase sql execution phase before test method sql script integration test cleanup sql execution phase sql execution phase after test method public void test poll notification with multiple namespace and notification id out date and incorrect case throw exception string public app id some public app id long some out date notification id long new default namespace notification id long new public namespace notification string some default namespace with incorrect case default namespace to upper case string some public namespace with incorrect case some public namespace to upper case response entity list apollo config notification result rest template exchange http baseurl notification v2 app id app id cluster cluster name notification notification http method get null type reference get host url some app id some cluster transform apollo config notification to string some public namespace with incorrect case some out date notification id some default namespace with incorrect case some out date notification id list apollo config notification notification result get body assert equal http status ok result get status code assert equal notification size set string out date namespace set new hash set notification get get namespace name notification get get namespace name assert equal set new hash set some default namespace with incorrect case some public namespace with incorrect case out date namespace set long new notification id set new hash set notification get get notification id notification get get notification id assert equal set new hash set new default namespace notification id new public namespace notification new notification id string default namespace key assemble key some app id config const cluster name default config const namespace application string public namespace key assemble key public app id config const cluster name default some public namespace apollo notification message first message notification get get message apollo notification message second message notification get get message assert equal first message get detail size assert equal second message get detail size assert true first message have default namespace key first message get default namespace key equal new default namespace notification id first message have public namespace key first message get public namespace key equal new public namespace notification assert true second message have default namespace key second message get default namespace key equal new default namespace notification id second message have public namespace key second message get public namespace key equal new public namespace notification 
