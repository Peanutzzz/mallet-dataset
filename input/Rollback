abstract integration test run with spring j unit4 class runner class rollback transactional spring boot test class biz test configuration class web environment web environment random port public abstract class abstract integration test 
instance config repository test rollback test public void should paginate for int i i i instance instance new instance instance set app id app id instance repository save instance final instance config instance config new instance config instance config set config app id app id instance config set instance id instance get id instance config set config cluster name cluster instance config set config namespace name namespace instance config repository save instance config page object id instance config repository find instance id by namespace and instance app id app id app id cluster namespace new date page request of assert that id get content have size id instance config repository find instance id by namespace and instance app id app id app id cluster namespace new date page request of assert that id get content have size id instance config repository find instance id by namespace and instance app id app id app id cluster namespace new date page request of assert that id get content have size 
admin service transaction test test rollback public void modify database within transaction string app id some app id app app new app app set app id app id app set name some app name string owner some owner name app set owner name owner app set owner email some owner name ctrip com app set datum change create by owner app set datum change last modify by owner app set datum change create time new date admin service create new app app 
instance service test test rollback public void test create and find instance throw exception string some app id some app id string some cluster name some cluster name string some datum center some datum center string some ip some ip instance instance instance service find instance some app id some cluster name some datum center some ip assert null instance instance service create instance assemble instance some app id some cluster name some datum center some ip instance instance service find instance some app id some cluster name some datum center some ip assert not equal instance get id 
instance service test test rollback public void test find instance by id throw exception string some app id some app id string some cluster name some cluster name string some datum center some datum center string some ip some ip string another ip another ip instance some instance instance service create instance assemble instance some app id some cluster name some datum center some ip instance another instance instance service create instance assemble instance some app id some cluster name some datum center another ip list instance instance instance service find instance by id set new hash set some instance get id another instance get id set string ips instance stream map instance get ip collect collector to set assert equal instance size assert equal set new hash set some ip another ip ip 
instance service test test rollback public void test create and find instance config throw exception long some instance id string some config app id some config app id string some config cluster name some config cluster name string some config namespace name some config namespace name string some release key some release key string another release key another release key instance config instance config instance service find instance config some instance id some config app id some config namespace name assert null instance config instance service create instance config assemble instance config some instance id some config app id some config cluster name some config namespace name some release key instance config instance service find instance config some instance id some config app id some config namespace name assert not equal instance config get id assert equal some release key instance config get release key instance config set release key another release key instance service update instance config instance config instance config update instance service find instance config some instance id some config app id some config namespace name assert equal instance config get id update get id assert equal another release key update get release key 
instance service test test rollback public void test find active instance config throw exception long some instance id long another instance id string some config app id some config app id string some config cluster name some config cluster name string some config namespace name some config namespace name date some valid date new date pageable pageable page request of string some release key some release key calendar calendar calendar get instance calendar add calendar date date some invalid date calendar get time prepare instance config for instance some instance id some config app id some config cluster name some config namespace name some release key some valid date prepare instance config for instance another instance id some config app id some config cluster name some config namespace name some release key some invalid date page instance config valid instance config instance service find active instance config by release key some release key pageable assert equal valid instance config get content size assert equal some instance id valid instance config get content get get instance id 
instance service test test rollback public void test find instance by namespace throw exception string some config app id some config app id string some config cluster name some config cluster name string some config namespace name some config namespace name string some release key some release key date some valid date new date string some app id some app id string some cluster name some cluster name string some datum center some datum center string some ip some ip string another ip another ip instance some instance instance service create instance assemble instance some app id some cluster name some datum center some ip instance another instance instance service create instance assemble instance some app id some cluster name some datum center another ip prepare instance config for instance some instance get id some config app id some config cluster name some config namespace name some release key some valid date prepare instance config for instance another instance get id some config app id some config cluster name some config namespace name some release key some valid date page instance result instance service find instance by namespace some config app id some config cluster name some config namespace name page request of assert equal list new array list some instance another instance result get content 
instance service test test rollback public void test find instance by namespace and instance app id throw exception string some config app id some config app id string some config cluster name some config cluster name string some config namespace name some config namespace name string some release key some release key date some valid date new date string some app id some app id string another app id another app id string some cluster name some cluster name string some datum center some datum center string some ip some ip instance some instance instance service create instance assemble instance some app id some cluster name some datum center some ip instance another instance instance service create instance assemble instance another app id some cluster name some datum center some ip prepare instance config for instance some instance get id some config app id some config cluster name some config namespace name some release key some valid date prepare instance config for instance another instance get id some config app id some config cluster name some config namespace name some release key some valid date page instance result instance service find instance by namespace and instance app id some app id some config app id some config cluster name some config namespace name page request of page instance another result instance service find instance by namespace and instance app id another app id some config app id some config cluster name some config namespace name page request of assert equal list new array list some instance result get content assert equal list new array list another instance another result get content 
instance service test test rollback public void test find instance config by namespace with release key not in throw exception long some instance id long another instance id long yet another instance id string some config app id some config app id string some config cluster name some config cluster name string some config namespace name some config namespace name date some valid date new date string some release key some release key string another release key another release key string yet another release key yet another release key instance config some instance config prepare instance config for instance some instance id some config app id some config cluster name some config namespace name some release key some valid date instance config another instance config prepare instance config for instance another instance id some config app id some config cluster name some config namespace name some release key some valid date prepare instance config for instance yet another instance id some config app id some config cluster name some config namespace name another release key some valid date list instance config instance config instance service find instance config by namespace with release key not in some config app id some config cluster name some config namespace name set new hash set another release key yet another release key assert equal list new array list some instance config another instance config instance config 
