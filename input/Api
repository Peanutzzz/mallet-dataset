sys generator controller rest controller api tag request map generator public class sys generator controller autowire private sy generator service sy generator service response body get mapping list public page result get table list request param map string object param return sy generator service query list param file util get map code public void make code string table http servlet response response throw i o exception byte datum sy generator service generator code table split response reset response set header content disposition attachment filename generator zip response add header content length datum length response set content type application octet stream charset utf i o util write datum response get output stream 
index controller slf4j rest controller api tag api request mapping admin public class index controller autowire private i index service index service autowire private index property index property post map index public result create index request body index dto index dto throw i o exception if index dto get number of shard null index dto set number of shard if index dto get number of replica null index dto set number of replica index service create index dto return result succeed get map index public page result map string string list request param require false string query str throw i o exception return index service list query str index property get show get map index public result map string object show index string index name throw i o exception map string object result index service show index name return result succeed result delete mapping index public result delete index string index name throw i o exception index service delete index name return result succeed 
aggregation controller slf4j rest controller api tag api request mapping agg public class aggregation controller private final i aggregation service aggregation service public aggregation controller i aggregation service aggregation service this aggregation service aggregation service param index name param routing e get map request stat index name route public map string object request stat agg path variable string index name path variable string routing throw i o exception return aggregation service request stat agg index name routing 
search controller slf4j rest controller api tag api request mapping search public class search controller private final i search service search service public search controller i search service search service this search service search service param index name param search dto dto post mapping index name public page result j s o n object str query path variable string index name request body require false search dto search dto throw i o exception if search dto null search dto new search dto return search service str query index name search dto 
sy menu controller rest controller api tag api slf4j request mapping menu public class sy menu controller autowire private i sy menu service menu service param sy menu return public static list sy menu tree builder list sy menu sy menu list sy menu menu new array list for sy menu sy menu sys menu if object util equal 1 l sy menu get parent id menu add sy menu for sy menu menu sy menu if menu get parent id equal sy menu get id if sy menu get sub menu null sy menu set sub menu new array list sy menu get sub menu add menu return menu param id api operation value delete mapping id public result delete path variable long id try menu service remove by id id return result succeed catch exception ex log error memu delete error ex return result fail api operation value role id get map role id menu public list map string object find menu by role id path variable long role id set long role id new hash set role id add role id list sy menu role menu menu service find by role role id list sy menu all menu menu service find all list map string object auth tree new array list map long sy menu role menu map role menu stream collect collector to map sy menu get id sy menu sy menu for sy menu sy menu all menu map string object auth tree new hash map auth tree put id sy menu get id auth tree put name sy menu get name auth tree put p id sy menu get parent id auth tree put open true auth tree put check false if role menu map get sy menu get id null auth tree put check true auth tree add auth tree return auth tree api operation value role code suppress warning unchecked cacheable value menu key role code get map role code public list sy menu find menu by role path variable string role code list sy menu result null if string util be not empty role code set string role set set string convert to collection hash set class string class role code result menu service find by role code role set common constant permission return result api operation value post mapping grant public result set menu to role request body sy menu sy menu menu service set menu to role sy menu get role id sy menu get menu id return result succeed api operation value get map find all public page result sy menu find all list sy menu list menu service find all return page result sy menu builder datum list code count long list size build api operation value get mapping find one public page result sy menu find one list sy menu list menu service find one return page result sy menu builder datum list code count long list size build param menu return api operation value post mapping save or update public result save or update request body sy menu menu try menu service save or update menu return result succeed catch exception ex log error memu save or update error ex return result fail return get map current api operation value public list sy menu find my menu login user sy user user list sy role role user get role if collection util be empty role return collection empty list list sy menu menu menu service find by role code role parallel stream map sy role get code collect collector to set common constant menu return tree builder menu 
sy role controller slf4j rest controller api tag api public class sy role controller autowire private i sy role service sy role service param param return api operation value get map role public page result sy role find role request param map string object param return sy role service find role param return api operation value get map all role public result list sy role find all list sy role result sy role service find all return result succeed result param sy role return post mapping role save or update public result save or update request body sy role sy role throw exception return sy role service save or update role sy role delete role param id api operation value delete mapping role id public result delete role path variable long id try if id 1 l return result fail sy role service delete role id return result succeed catch exception e log error role delete role error e return result fail 
sy user controller slf4j rest controller api tag api public class sy user controller private static final string admin change msg dto private static final logic del dto search logic del dto new logic del dto be del autowired private i sy user service app user service autowire private i query service query service login app user return api operation value access token get map user current public result login app user get login app user login user be full true sy user user return result succeed app user service get login app user user sy user get map value user name username api operation value cacheable value user key username public sy user select by username path variable string username return app user service select by username username login app user get mapping value user anon login param username api operation value public login app user find by username string username return app user service find by username username param mobile get mapping value user anon mobile param mobile api operation value public sy user find by mobile string mobile return app user service find by mobile mobile open id param open id open id get mapping value user anon open id param open id api operation value open id public sy user find by open id string open id return app user service find by open id open id get map user id public sy user find user by id path variable long id return app user service get by id id param sy user put mapping user cache put value user key sy user username unless result null audit log operation sy user public void update sy user request body sy user sy user app user service update by id sy user param id param role id post map user id role public void set role to user path variable long id request body set long role id app user service set role to user id role id param return get map user id role public list sy role find role by user id path variable long id return app user service find role by user id id param param return api operation value api implicit param api implicit param name page value require true datum type integer api implicit param name limit value require true datum type integer get map user public page result sy user find user request param map string object param return app user service find user param param param return api operation value get map user update enable api implicit param api implicit param name id value id require true datum type integer api implicit param name enable value require true datum type boolean public result update enable request param map string object param long id map util get long param id if check admin id return result fail admin change msg return app user service update enable param param id put mapping value user id password audit log operation id public result reset password path variable long id if check admin id return result fail admin change msg app user service update password id null null return result succeed put mapping value user password public result reset password request body sy user sy user if check admin sy user get id return result fail admin change msg app user service update password sy user get id sy user get old password sy user get new password return result succeed param id delete mapping value user id audit log operation id public result delete path variable long id if check admin id return result fail admin change msg app user service del user id return result succeed or param sy user return cache evict value user key sy user username post map user save or update audit log operation sy user username public result save or update request body sy user sy user throw exception return app user service save or update user sy user excel return post map user export public void export user request param map string object param http servlet response response throw i o exception list sy user excel result app user service find all user param excel util export excel result null sy user excel class user response post mapping value user import public result import excl request param file multipart file excl throw exception int row num if excl be empty list sy user excel list excel util import excel excl sy user excel class row num list size if row num list sy user user new array list row num list for each u sy user user new sy user bean util copy property u user user set password common constant def user password user set type user type backend name user add user app user service save batch user return result succeed row num api operation value api implicit param api implicit param name page value require true datum type integer api implicit param name limit value require true datum type integer api implicit param name query str value datum type string get map user search public page result j s o n object search search dto search dto search dto set be highlighter true search dto set sort col create time return query service str query sy user search dto search logic del dto private boolean check admin long id return id 1 l 
client controller api tag rest controller request mapping client public class client controller autowire private i client service client service get mapping list api operation value public page result client list request param map string object param return client service list client param true get map id api operation value id public client get path variable long id return client service get by id id get map all api operation value public result list client all client page result client page client service list client map new hash map false return result succeed page get datum delete mapping id api operation value public void delete path variable long id client service del client id post mapping save or update api operation value public result save or update request body client dto client dto throw exception return client service save client client dto 
token controller api tag token rest controller request mapping token public class token controller autowire private i token service token service get map api operation value token public page result token vo list request param map string object param string tenant id return token service list token param tenant id 
