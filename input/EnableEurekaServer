local admin service application spring boot application enable eureka server public class local admin service application public static void main string arg new spring application builder local admin service application class run arg 
config server eureka server configure configuration enable eureka server conditional on property name apollo eureka server enable have value true match if missing true public class config server eureka server configure 
local config service application spring boot application enable eureka server public class local config service application public static void main string arg new spring application builder local config service application class run arg 
eureka datum source test run with spring runner class enable eureka server spring boot test web environment spring boot test web environment define port public class eureka datum source test private static final string sentinel key sentinel rule value server port private int port value eureka instance appname private string appname value eureka instance instance id private string instance id test public void test eureka datum source throw exception string url http localhost port eureka eureka datum source list flow rule eureka datum source new eureka datum source appname instance id array as list url sentinel key new converter string list flow rule override public list flow rule convert string source return json parse object source new type reference list flow rule flow rule manager register2 property eureka datum source get property await timeout time unit seconds until new callable boolean override public boolean call throw exception return flow rule manager get rule size assert assert true flow rule manager get rule size 
