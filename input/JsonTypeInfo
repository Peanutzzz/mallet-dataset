abstract health checker json type info use id name property type default impl none class json sub type json sub type type name http type value http class json sub type type name mysql type value mysql class json sub type type name tcp type value tcp class public abstract class abstract health checker implement cloneable json ignore protect final string type protect abstract health checker string type this type type public string get type return type clone all field of this instance to another one return another instance with exactly the same field throw clone not support exception clone not support exception override public abstract abstract health checker clone throw clone not support exception default implementation of health checker public static class none extend abstract health checker public static final string type none public none super type override public abstract health checker clone throw clone not support exception return new none 
abstract selector json type info use id name property type default impl none selector class public abstract class abstract selector the type of this selector each child class should announce its own unique type json ignore private final string type protect abstract selector string type this type type public string get type return type 
test checker json type info use id name property type public static final string type test 
label selector json type info use id name property type public class label selector extend expression selector implement selector the label relevant to this the selector see com alibaba naco api cmdb pojo label private set string label private static final set string support inner conncetor new hash set private static final set string support outer conncetor new hash set private static final string consumer prefix consumer label private static final string provider prefix provider label private static final char cequal private static final char cand static support inner conncetor add string value of cequal support outer conncetor add string value of cand jackson util register subtype label selector class selector type label name public set string get label return label public void set label set string label this label label public label selector super private cmdb reader get cmdb reader return application util get bean cmdb reader class public static set string parse expression string expression throw naco exception return expression interpreter parse expression expression override public list instance select string consumer list instance provider if label be empty return provider list instance instance list new array list for instance instance provider boolean matched true for string label name get label string consumer label value get cmdb reader query label consumer preserve entity type ip name label name if string util be not blank consumer label value string util equal consumer label value get cmdb reader query label instance get ip preserve entity type ip name label name match false break if match instance list add instance if instance list be empty return provider return instance list expression interpreter for label selector p for now it support very limited set of syntax rule public static class expression interpreter parse the label expression p currently we support the very single type of expression pre consumer label a provider label a consumer label b provider label b pre later we will implement a interpreter to parse this expression in a standard will parser way param expression the label expression to parse return collection of label public static set string parse expression string expression throw naco exception if string util be blank expression return new hash set expression string util delete whitespace expression list string element get term expression set string get label new hash set int index index check inner syntax element index if index throw new naco exception naco exception invalid param parse expression fail get label add element get index split provider prefix while index element size index check outer syntax element index if index element size return get label if index throw new naco exception naco exception invalid param parse expression fail get label add element get index split provider prefix return get label public static list string get term string expression list string term new array list set character character new hash set character add cequal character add cand char char expression to char array int last index for int index index char length index char ch char index if character contain ch term add expression substring last index index term add expression substr index index index last index index term add expression substring last index char length return term private static int skip empty list string element int start while start element size string util be blank element get start start return start private static int check outer syntax list string element int start int index start index skip empty element index if index element size return index if support outer conncetor contain element get index return return check inner syntax element index private static int check inner syntax list string element int start int index start index skip empty element index if index element size return if element get index start with consumer prefix return index skip empty element index if index element size return if support inner conncetor contain element get index return index skip empty element index if index element size return if element get index start with provider prefix return string label provider element get index split provider prefix string label consumer element get index split consumer prefix if label consumer equal label provider return return index 
none selector json type info use id name property type public class none selector extend com alibaba naco api selector none selector implement selector static jackson util register subtype none selector class selector type none name override public list instance select string consumer list instance provider return provider 
selector json type info use id name property type default impl none selector class public interface selector get the type of this selector return type of selector string get type select qualified instance from provider param consumer consumer address param provider candidate provider address return select provider address list instance select string consumer list instance provider 
checkpoint statistics json type info use json type info id name include json type info as property property class json sub type json sub type type value checkpoint statistics complete checkpoint statistics class name complete json sub type type value checkpoint statistics fail checkpoint statistics class name fail json sub type type value checkpoint statistics pend checkpoint statistics class name in progress public class checkpoint statistics implement response body public static final string field name id id public static final string field name status status public static final string field name be savepoint be savepoint public static final string field name trigger timestamp trigger timestamp public static final string field name latest ack timestamp latest ack timestamp the accurate name of this field should be checkpoint datum size keep it as before to not break backwards compatibility for old web ui see a href http issue apache org jira browse flink flink a public static final string field name state size state size public static final string field name duration end to end duration public static final string field name alignment buffer alignment buffer public static final string field name num subtask num subtask public static final string field name num ack subtask num acknowledge subtask public static final string field name task task json property field name id private final long id json property field name status private final checkpoint stats status status json property field name be savepoint private final boolean savepoint json property field name trigger timestamp private final long trigger timestamp json property field name latest ack timestamp private final long latest ack timestamp json property field name state size private final long state size json property field name duration private final long duration json property field name alignment buffer private final long alignment buffer json property field name num subtask private final int num subtask json property field name num ack subtask private final int num ack subtask json property field name task json serialize key use job vertex i d key serializer class private final map job vertex i d task checkpoint statistics checkpoint statistics per task json creator private checkpoint statistics json property field name id long id json property field name status checkpoint stats status status json property field name be savepoint boolean savepoint json property field name trigger timestamp long trigger timestamp json property field name latest ack timestamp long latest ack timestamp json property field name state size long state size json property field name duration long duration json property field name alignment buffer long alignment buffer json property field name num subtask int num subtask json property field name num ack subtask int num ack subtask json deserialize key use job vertex i d key deserializer class json property field name task map job vertex i d task checkpoint statistics checkpoint statistics per task this id id this status precondition check not null status this savepoint savepoint this trigger timestamp trigger timestamp this latest ack timestamp latest ack timestamp this state size state size this duration duration this alignment buffer alignment buffer this num subtask num subtask this num ack subtask num ack subtask this checkpoint statistics per task precondition check not null checkpoint statistics per task public long get id return id public checkpoint stats status get status return status public boolean be savepoint return savepoint public long get trigger timestamp return trigger timestamp public long get latest ack timestamp return latest ack timestamp public long get state size return state size public long get duration return duration public int get num subtask return num subtask public int get num ack subtask return num ack subtask nullable public map job vertex i d task checkpoint statistics get checkpoint statistics per task return checkpoint statistics per task override public boolean equal object o if this o return true if o null get class o get class return false checkpoint statistics that checkpoint statistics o return id that id savepoint that savepoint trigger timestamp that trigger timestamp latest ack timestamp that latest ack timestamp state size that state size duration that duration alignment buffer that alignment buffer num subtask that num subtask num ack subtask that num ack subtask status that status object equal checkpoint statistics per task that checkpoint statistics per task override public int hash code return object hash id status savepoint trigger timestamp latest ack timestamp state size duration alignment buffer num subtask num ack subtask checkpoint statistics per task static factory method public static checkpoint statistics generate checkpoint statistics abstract checkpoint stats checkpoint stats boolean include task checkpoint statistics precondition check not null checkpoint stats map job vertex i d task checkpoint statistics checkpoint statistics per task if include task checkpoint statistics collection task state stats task state stats checkpoint stats get all task state stats checkpoint statistics per task new hash map task state stats size for task state stats task state stat task state stats checkpoint statistics per task put task state stat get job vertex id new task checkpoint statistics checkpoint stats get checkpoint id checkpoint stats get status task state stat get latest ack timestamp task state stat get state size task state stat get end to end duration checkpoint stats get trigger timestamp task state stat get number of subtask task state stat get number of acknowledge subtask else checkpoint statistics per task collection empty map if checkpoint stats instanceof complete checkpoint stats final complete checkpoint stats complete checkpoint stats complete checkpoint stats checkpoint stats return new checkpoint statistics complete checkpoint statistics complete checkpoint stats get checkpoint id complete checkpoint stats get status complete checkpoint stats get property be savepoint complete checkpoint stats get trigger timestamp complete checkpoint stats get latest ack timestamp complete checkpoint stats get state size complete checkpoint stats get end to end duration complete checkpoint stats get number of subtask complete checkpoint stats get number of acknowledge subtask checkpoint statistics per task complete checkpoint stats get external path complete checkpoint stats be discard else if checkpoint stats instanceof fail checkpoint stats final fail checkpoint stats fail checkpoint stats fail checkpoint stats checkpoint stats return new checkpoint statistics fail checkpoint statistics fail checkpoint stats get checkpoint id fail checkpoint stats get status fail checkpoint stats get property be savepoint fail checkpoint stats get trigger timestamp fail checkpoint stats get latest ack timestamp fail checkpoint stats get state size fail checkpoint stats get end to end duration fail checkpoint stats get number of subtask fail checkpoint stats get number of acknowledge subtask checkpoint statistics per task fail checkpoint stats get failure timestamp fail checkpoint stats get failure message else if checkpoint stats instanceof pend checkpoint stats final pend checkpoint stats pend checkpoint stats pend checkpoint stats checkpoint stats return new checkpoint statistics pend checkpoint statistics pend checkpoint stats get checkpoint id pend checkpoint stats get status pend checkpoint stats get property be savepoint pend checkpoint stats get trigger timestamp pend checkpoint stats get latest ack timestamp pend checkpoint stats get state size pend checkpoint stats get end to end duration pend checkpoint stats get number of subtask pend checkpoint stats get number of acknowledge subtask checkpoint statistics per task else throw new illegal argument exception give checkpoint stats object of type checkpoint stats get class get name can not be convert static inner class statistics for a complete checkpoint public static final class complete checkpoint statistics extend checkpoint statistics public static final string field name external path external path public static final string field name discard discard json property field name external path nullable private final string external path json property field name discard private final boolean discard json creator public complete checkpoint statistics json property field name id long id json property field name status checkpoint stats status status json property field name be savepoint boolean savepoint json property field name trigger timestamp long trigger timestamp json property field name latest ack timestamp long latest ack timestamp json property field name state size long state size json property field name duration long duration json property field name alignment buffer long alignment buffer json property field name num subtask int num subtask json property field name num ack subtask int num ack subtask json deserialize key use job vertex i d key deserializer class json property field name task map job vertex i d task checkpoint statistics checkpoint statistics per task json property field name external path nullable string external path json property field name discard boolean discard super id status savepoint trigger timestamp latest ack timestamp state size duration alignment buffer num subtask num ack subtask checkpoint statistics per task this external path external path this discard discard nullable public string get external path return external path public boolean be discard return discard override public boolean equal object o if this o return true if o null get class o get class return false if super equal o return false complete checkpoint statistics that complete checkpoint statistics o return discard that discard object equal external path that external path override public int hash code return object hash super hash code external path discard statistics for a fail checkpoint public static final class fail checkpoint statistics extend checkpoint statistics public static final string field name failure timestamp failure timestamp public static final string field name failure message failure message json property field name failure timestamp private final long failure timestamp json property field name failure message nullable private final string failure message json creator public fail checkpoint statistics json property field name id long id json property field name status checkpoint stats status status json property field name be savepoint boolean savepoint json property field name trigger timestamp long trigger timestamp json property field name latest ack timestamp long latest ack timestamp json property field name state size long state size json property field name duration long duration json property field name alignment buffer long alignment buffer json property field name num subtask int num subtask json property field name num ack subtask int num ack subtask json deserialize key use job vertex i d key deserializer class json property field name task map job vertex i d task checkpoint statistics checkpoint statistics per task json property field name failure timestamp long failure timestamp json property field name failure message nullable string failure message super id status savepoint trigger timestamp latest ack timestamp state size duration alignment buffer num subtask num ack subtask checkpoint statistics per task this failure timestamp failure timestamp this failure message failure message public long get failure timestamp return failure timestamp nullable public string get failure message return failure message override public boolean equal object o if this o return true if o null get class o get class return false if super equal o return false fail checkpoint statistics that fail checkpoint statistics o return failure timestamp that failure timestamp object equal failure message that failure message override public int hash code return object hash super hash code failure timestamp failure message statistics for a pend checkpoint public static final class pend checkpoint statistics extend checkpoint statistics json creator public pend checkpoint statistics json property field name id long id json property field name status checkpoint stats status status json property field name be savepoint boolean savepoint json property field name trigger timestamp long trigger timestamp json property field name latest ack timestamp long latest ack timestamp json property field name state size long state size json property field name duration long duration json property field name alignment buffer long alignment buffer json property field name num subtask int num subtask json property field name num ack subtask int num ack subtask json deserialize key use job vertex i d key deserializer class json property field name task map job vertex i d task checkpoint statistics checkpoint statistics per task super id status savepoint trigger timestamp latest ack timestamp state size duration alignment buffer num subtask num ack subtask checkpoint statistics per task override public boolean equal object o if this o return true if o null get class o get class return false if super equal o return false return true override public int hash code return object hash super hash code 
subtask checkpoint statistics json type info use json type info id name include json type info as property property class json sub type json sub type type value subtask checkpoint statistics complete subtask checkpoint statistics class name complete json sub type type value subtask checkpoint statistics pend subtask checkpoint statistics class name pend public class subtask checkpoint statistics public static final string field name index index public static final string field name checkpoint status status json property field name index private final int index json property field name checkpoint status private final string checkpoint status json creator private subtask checkpoint statistics json property field name index int index json property field name checkpoint status string checkpoint status this index index this checkpoint status checkpoint status public int get index return index public string get checkpoint status return checkpoint status override public boolean equal object o if this o return true if o null get class o get class return false subtask checkpoint statistics that subtask checkpoint statistics o return index that index object equal checkpoint status that checkpoint status override public int hash code return object hash index checkpoint status static inner class checkpoint statistics for a complete subtask checkpoint public static final class complete subtask checkpoint statistics extend subtask checkpoint statistics public static final string field name ack timestamp ack timestamp public static final string field name duration end to end duration the accurate name of this field should be checkpoint datum size keep it as before to not break backwards compatibility for old web ui see a href http issue apache org jira browse flink flink a public static final string field name state size state size public static final string field name checkpoint duration checkpoint public static final string field name alignment alignment public static final string field name start delay start delay json property field name ack timestamp private final long ack timestamp json property field name duration private final long duration json property field name state size private final long state size json property field name checkpoint duration private final checkpoint duration checkpoint duration json property field name alignment private final checkpoint alignment alignment json property field name start delay private final long start delay json creator public complete subtask checkpoint statistics json property field name index int index json property field name ack timestamp long ack timestamp json property field name duration long duration json property field name state size long state size json property field name checkpoint duration checkpoint duration checkpoint duration json property field name alignment checkpoint alignment alignment json property field name start delay long start delay super index complete this ack timestamp ack timestamp this duration duration this state size state size this checkpoint duration checkpoint duration this alignment alignment this start delay start delay public long get ack timestamp return ack timestamp public long get duration return duration public long get state size return state size public checkpoint duration get checkpoint duration return checkpoint duration public checkpoint alignment get alignment return alignment public long get start delay return start delay override public boolean equal object o if this o return true if o null get class o get class return false complete subtask checkpoint statistics that complete subtask checkpoint statistics o return ack timestamp that ack timestamp duration that duration state size that state size object equal checkpoint duration that checkpoint duration object equal alignment that alignment start delay that start delay override public int hash code return object hash ack timestamp duration state size checkpoint duration alignment start delay duration of the checkpoint public static final class checkpoint duration public static final string field name sync duration sync public static final string field name async duration async json property field name sync duration private final long sync duration json property field name async duration private final long async duration json creator public checkpoint duration json property field name sync duration long sync duration json property field name async duration long async duration this sync duration sync duration this async duration async duration public long get sync duration return sync duration public long get async duration return async duration override public boolean equal object o if this o return true if o null get class o get class return false checkpoint duration that checkpoint duration o return sync duration that sync duration async duration that async duration override public int hash code return object hash sync duration async duration alignment statistics of the checkpoint public static final class checkpoint alignment public static final string field name alignment buffer buffer public static final string field name alignment duration duration json property field name alignment buffer private final long alignment buffer json property field name alignment duration private final long alignment duration json creator public checkpoint alignment json property field name alignment buffer long alignment buffer json property field name alignment duration long alignment duration this alignment buffer alignment buffer this alignment duration alignment duration public long get alignment duration return alignment duration override public boolean equal object o if this o return true if o null get class o get class return false checkpoint alignment that checkpoint alignment o return alignment buffer that alignment buffer alignment duration that alignment duration override public int hash code return object hash alignment buffer alignment duration checkpoint statistics for a pend subtask checkpoint public static final class pend subtask checkpoint statistics extend subtask checkpoint statistics json creator public pend subtask checkpoint statistics json property field name index int index super index pend or fail 
