bootstrap config test run with spring j unit4 class runner class spring boot test class configuration with conditional on property class dirty context public static class test with bootstrap enable and default namespace and conditional on extend abstract spring integration test private static final string some property some property private static final string some value some value autowire required false private test bean test bean apollo config private config config value some property private string some inject value private static config mock config before class public static void before class throw exception do set up system set property property source constant apollo bootstrap enable true mock config mock config class when mock config get property name then return set new hash set test bean conditional on key some property when mock config get property eq test bean conditional on key any string then return boolean true to string when mock config get property eq some property any string then return some value mock config config const namespace application mock config after class public static void after class throw exception system clear property property source constant apollo bootstrap enable do tear down test public void test throw exception assert assert not null test bean assert assert true test bean execute assert assert equal mock config config assert assert equal some value some inject value 
bootstrap config test run with spring j unit4 class runner class spring boot test class configuration with conditional on property class dirty context public static class test with bootstrap enable and namespace and conditional on extend abstract spring integration test autowire required false private test bean test bean before class public static void before class throw exception do set up system set property property source constant apollo bootstrap enable true system set property property source constant apollo bootstrap namespace string format s s config const namespace application fx apollo namespace config config mock config class config another config mock config class when config get property name then return set new hash set test bean conditional on key when config get property eq test bean conditional on key any string then return boolean true to string mock config config const namespace application another config mock config fx apollo namespace config after class public static void after class throw exception system clear property property source constant apollo bootstrap enable system clear property property source constant apollo bootstrap namespace do tear down test public void test throw exception assert assert not null test bean assert assert true test bean execute 
bootstrap config test run with spring j unit4 class runner class spring boot test class configuration with conditional on property class dirty context public static class test with bootstrap enable and namespace and conditional on with yaml file extend abstract spring integration test autowire required false private test bean test bean before class public static void before class throw exception do set up system set property property source constant apollo bootstrap enable true system set property property source constant apollo bootstrap namespace string format s s application yml fx apollo namespace prepare yaml config file application yml read yaml content as config file property case6 yml config another config mock config class mock config config const namespace application another config mock config fx apollo namespace another config after class public static void after class throw exception system clear property property source constant apollo bootstrap enable system clear property property source constant apollo bootstrap namespace do tear down test public void test throw exception assert assert not null test bean assert assert true test bean execute 
bootstrap config test run with spring j unit4 class runner class spring boot test class configuration with conditional on property class dirty context public static class test with bootstrap enable and default namespace and conditional on fail extend abstract spring integration test autowire required false private test bean test bean before class public static void before class throw exception do set up system set property property source constant apollo bootstrap enable true config config mock config class when config get property name then return set new hash set test bean conditional on key when config get property eq test bean conditional on key any string then return boolean false to string mock config config const namespace application config after class public static void after class throw exception system clear property property source constant apollo bootstrap enable do tear down test public void test throw exception assert assert null test bean 
bootstrap config test run with spring j unit4 class runner class spring boot test class configuration with conditional on property class dirty context public static class test with bootstrap enable and default namespace and conditional on fail with yaml file extend abstract spring integration test autowire required false private test bean test bean before class public static void before class throw exception do set up system set property property source constant apollo bootstrap enable true system set property property source constant apollo bootstrap namespace application yml prepare yaml config file application yml read yaml content as config file property case7 yml after class public static void after class throw exception system clear property property source constant apollo bootstrap enable system clear property property source constant apollo bootstrap namespace do tear down test public void test throw exception assert assert null test bean 
bootstrap config test run with spring j unit4 class runner class spring boot test class configuration without conditional on property class dirty context public static class test with bootstrap enable and default namespace and conditional off extend abstract spring integration test autowire required false private test bean test bean before class public static void before class throw exception do set up system set property property source constant apollo bootstrap enable true config config mock config class mock config config const namespace application config after class public static void after class throw exception system clear property property source constant apollo bootstrap enable do tear down test public void test throw exception assert assert not null test bean assert assert true test bean execute 
bootstrap config test run with spring j unit4 class runner class spring boot test class configuration without conditional on property class dirty context public static class test with bootstrap enable and default namespace and conditional off with yaml file extend abstract spring integration test autowire required false private test bean test bean before class public static void before class throw exception do set up system set property property source constant apollo bootstrap enable true system set property property source constant apollo bootstrap namespace application yml prepare yaml config file application yml read yaml content as config file property case8 yml after class public static void after class throw exception system clear property property source constant apollo bootstrap enable system clear property property source constant apollo bootstrap namespace do tear down test public void test throw exception assert assert not null test bean assert assert true test bean execute 
bootstrap config test run with spring j unit4 class runner class spring boot test class configuration with conditional on property class dirty context public static class test with bootstrap disabled and default namespace and conditional on extend abstract spring integration test autowire required false private test bean test bean before class public static void before class throw exception do set up config config mock config class when config get property name then return set new hash set test bean conditional on key when config get property eq test bean conditional on key any string then return boolean false to string mock config config const namespace application config after class public static void after class throw exception do tear down test public void test throw exception assert assert null test bean 
bootstrap config test run with spring j unit4 class runner class spring boot test class configuration without conditional on property class dirty context public static class test with bootstrap disabled and default namespace and conditional off extend abstract spring integration test autowire required false private test bean test bean before class public static void before class throw exception do set up config config mock config class mock config config const namespace application config after class public static void after class throw exception system clear property property source constant apollo bootstrap enable do tear down test public void test throw exception assert assert not null test bean assert assert true test bean execute 
bootstrap config test run with spring j unit4 class runner class spring boot test class configuration without conditional on property class dirty context public static class test with bootstrap enable and eager load enable extend abstract spring integration test before class public static void before class do set up system set property property source constant apollo bootstrap enable true system set property property source constant apollo bootstrap eager load enable true config config mock config class mock config config const namespace application config after class public static void after class system clear property property source constant apollo bootstrap enable system clear property property source constant apollo bootstrap eager load enable do tear down test public void test list environment post processor processor list spring factory loader load factory environment post processor class get class get class loader boolean contain apollo collections2 filter processor list new predicate environment post processor override public boolean apply environment post processor input return input instanceof apollo application context initializer be empty assert assert true contain apollo 
apollo mock server spring integration test test dirty context public void test property inject assert equal value1 test bean key1 assert equal value2 test bean key2 
apollo mock server spring integration test test dirty context public void test listener trigger by add throw interrupted exception execution exception timeout exception embed apollo add or modify property other namespace some key some value config change event change event test bean future datum get time unit millisecond assert equal other namespace change event get namespace assert equal some value change event get change some key get new value 
apollo mock server spring integration test test dirty context public void test listener trigger by del throw interrupted exception execution exception timeout exception embed apollo delete property other namespace key1 config change event change event test bean future datum get time unit millisecond assert equal other namespace change event get namespace assert equal property change type delete change event get change key1 get change type 
apollo mock server spring integration test test dirty context public void should notify on interested pattern throw exception embed apollo add or modify property other namespace server port embed apollo add or modify property other namespace server path apollo embed apollo add or modify property other namespace spring application name whatever config change event change event test interested key prefix bean future datum get time unit millisecond assert equal other namespace change event get namespace assert equal change event get change server port get new value assert equal apollo change event get change server path get new value 
apollo mock server spring integration test test expect timeout exception class dirty context public void should not notify on uninterested pattern throw exception embed apollo add or modify property other namespace spring application name apollo test interested key prefix bean future datum get time unit millisecond 
