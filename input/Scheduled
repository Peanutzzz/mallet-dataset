memory monitor schedule cron 0 0 public void clear metric monitor get config monitor set metric monitor get publish monitor set 
naco role service impl schedule initial delay fix delay private void reload try page role info role info page role persist service get role by user name string util empty integer max value if role info page null return set string tmp role set new hash set map string list role info tmp role info map new concurrent hash map for role info role info role info page get page item if tmp role info map contain key role info get username tmp role info map put role info get username new array list tmp role info map get role info get username add role info tmp role set add role info get role map string list permission info tmp permission info map new concurrent hash map for string role tmp role set page permission info permission info page permission persist service get permission role integer max value tmp permission info map put role permission info page get page item role set add all tmp role set role info map put all tmp role info map permission info map put all tmp permission info map catch exception e logger auth warn load role load fail e 
naco user detail service impl schedule initial delay fix delay private void reload try page user user get user from database integer max value if user null return map string user map new concurrent hash map for user user user get page item map put user get username user user map map catch exception e logger auth warn load user load fail e 
reloadable config schedule fix rate public void reload throw i o exception final property property new property input stream input stream null if string util be not blank path path contain file prefix string path path split path path path length substr file prefix length try input stream new file input stream new file path application property catch exception ignore if input stream null input stream get class get resource as stream application property property load input stream input stream close this property property 
performance logger thread schedule cron 0 0 public void refresh metric push service set fail push push service set total push metric monitor get http health check monitor set metric monitor get mysql health check monitor set metric monitor get tcp health check monitor set 
performance logger thread schedule cron 0/15 public void collect metric int service count service manager get service count metric monitor get dom count monitor set service count int ip count service manager get instance count metric monitor get ip count monitor set ip count long max push cost get max push cost metric monitor get max push cost monitor set max push cost long avg push cost get avg push cost metric monitor get avg push cost monitor set avg push cost metric monitor get total push monitor set push service get total push metric monitor get fail push monitor set push service get fail push count if raft core be leader metric monitor get leader status monitor set else if raft core get peer set local state raft peer state follower metric monitor get leader status monitor set else metric monitor get leader status monitor set 
