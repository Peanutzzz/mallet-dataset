tracer safe vararg public static void set exception to trace class extend throwable trace class check not null trace class tracer trace class trace class 
tracer safe vararg public static void set exception to ignore class extend throwable ignore class check not null ignore class tracer ignore class ignore class 
flink kafka consumer base test safe vararg private mock fetcher hash map kafka topic partition long state snapshot to return throw exception super new test source context new hash map null watermark strategy new test processing time service mock fetcher class get class loader new unregistered metric group false this state snapshot to return add all array as list state snapshot to return 
config option safe vararg public final config option list e default value e value return new config option key clazz config option empty description array as list value true 
enum serializer test safe vararg public final t extend enum t void test enum serializer t datum suppress warning unchecked final class t clazz class t datum get class get component type serializer test instance t tester new serializer test instance new enum serializer t clazz clazz datum tester test all 
serializer test instance safe vararg public serializer test instance type serializer t serializer class t type class int length t test datum this new deeply equal checker serializer type class length test datum 
serializer test instance safe vararg public serializer test instance deeply equal checker checker type serializer t serializer class t type class int length t test datum super checker this serializer serializer this type class type class this length length this test datum test datum 
abstract generic array serializer test safe vararg private final t void run test t instance try suppress warning unchecked class t type class t instance get class type serializer t serializer create component serializer type run test type serializer instance catch exception e system err println e get message e print stack trace assert fail e get message 
abstract generic array serializer test safe vararg private final t void run test class t type type serializer t component serializer t instance try if type null component serializer null instance null instance length throw new illegal argument exception suppress warning unchecked class t array class class t class array new instance type get class generic array serializer t serializer create serializer type component serializer serializer test instance t test new serializer test instance t serializer array class instance test test all catch exception e system err println e get message e print stack trace assert fail e get message 
execution environment safe vararg public final x datum source x from element x datum if datum null throw new illegal argument exception the datum must not be null if datum length throw new illegal argument exception the number of element must not be zero type information x type info try type info type extractor get for object datum catch exception e throw new runtime exception could not create type information for type datum get class get name please specify the type information manually via execution environment from element collection type information e return from collection array as list datum type info util get call location name 
execution environment safe vararg public final x datum source x from element class x type x datum if datum null throw new illegal argument exception the datum must not be null if datum length throw new illegal argument exception the number of element must not be zero type information x type info try type info type extractor get for class type catch exception e throw new runtime exception could not create type information for type type get name please specify the type information manually via execution environment from element collection type information e return from collection array as list datum type info util get call location name 
aggregate combine harness safe vararg public final r summarize t value if value length when there be nothing to aggregate just combine two empty aggregator and get the result a agg1 init aggregator agg1 combine init aggregator return agg1 result else be previous result null r result null shuffling the value might cause test instability but only in the case that there be underlie bug that need to be fix list t list array as list value collection shuffle list for int i i value length i two aggregator be use so that combine can be test also it shouldn t matter which aggregator be use because they be combine at the end so we be looping through all point of the datum and make sure it doesn t make a difference a aggregator1 init aggregator a aggregator2 init aggregator for int j j i j aggregator1 aggregate list get j for int j i j value length j aggregator2 aggregate list get j aggregator1 combine aggregator2 previous result result result aggregator1 result if previous result null validate that variously aggregate then combine doesn t give different result compare result result previous result return result 
rich composite iterative condition safe vararg public rich composite iterative condition final iterative condition t nest condition for iterative condition t condition nest condition precondition check not null condition the condition can not be null this nest condition nest condition 
pipelined region compute util test safe vararg private static void assert same region set scheduling execution vertex region check not null region for int i i region length i for int j i i region length i assert same region i region j 
pipelined region compute util test safe vararg private static void assert distinct region set scheduling execution vertex region check not null region for int i i region length i for int j i j region length j assert not same region i region j 
ttl map state all entry test context safe vararg private static uk uv map uk uv map of tuple2 uk uv entry map uk uv map new hash map array stream entry for each t map put t f0 t f1 return map 
datum stream safe vararg public final datum stream t union datum stream t stream list transformation t unioned transform new array list unioned transform add this transformation for datum stream t new stream stream if get type equal new stream get type throw new illegal argument exception can not union stream of different type get type and new stream get type unioned transform add new stream get transformation return new datum stream this environment new union transformation unioned transform 
stream execution environment safe vararg public final out datum stream source out from element out datum if datum length throw new illegal argument exception from element need at least one element as argument type information out type info try type info type extractor get for object datum catch exception e throw new runtime exception could not create type information for type datum get class get name please specify the type information manually via stream execution environment from element collection type information e return from collection array as list datum type info 
stream execution environment safe vararg public final out datum stream source out from element class out type out datum if datum length throw new illegal argument exception from element need at least one element as argument type information out type info try type info type extractor get for class type catch exception e throw new runtime exception could not create type information for type type get name please specify the type information manually via stream execution environment from element collection type information e return from collection array as list datum type info 
interval join operator test safe vararg public final join test builder and expect stream record tuple2 test elem test elem elem assert output list new array list elem test harness get output return this 
source operator event time test suppress warning final private method safe vararg private final list watermark test sequence of watermark final watermark strategy integer watermark strategy final consumer reader output integer action throw exception final list object all event test sequence of event watermark strategy action return all event stream filter evt evt instanceof org apache flink streaming api watermark watermark map evt new watermark org apache flink streaming api watermark watermark evt get timestamp collect collector to list 
source operator event time test suppress warning final private method safe vararg private final list object test sequence of event watermark strategy integer watermark strategy final consumer reader output integer action throw exception final collect datum output integer out new collect datum output final test processing time service time service new test processing time service time service set current time integer max value start somewhere that be not zero final source reader integer mock source split reader new interpreting source reader action final source operator integer mock source split source operator create test operator reader watermark strategy time service while source operator emit next out input status end of input time service set current time time service get current processing time return out event 
source operator event time test safe vararg private interpret source reader consumer reader output integer action this action array as list action iterator 
operator chain test safe vararg public static t op extend stream operator t operator chain t op setup operator chain one input stream operator t t operator throw exception check not null operator check argument operator length try mock environment env mock environment builder build final stream task contain task new mock stream task builder env build final stream status provider status provider mock stream status provider class final stream config cfg new stream config new configuration final list stream operator wrapper operator wrapper new array list initial output go to nowhere suppress warning unchecked rawtype watermark gauge expose output stream record t last writer new broadcasting output collector new output status provider build the reverse operator array for int i i operator length i one input stream operator t t op operator operator length i if op instanceof setupable stream operator setupable stream operator op setup contain task cfg last writer last writer new chain output op status provider null processing time service processing time service null if op instanceof abstract stream operator processing time service abstract stream operator op get processing time service operator wrapper add new stream operator wrapper op optional of nullable processing time service contain task get mailbox executor factory create executor i suppress warning unchecked final stream operator wrapper t op head operator wrapper stream operator wrapper t op operator wrapper get operator wrapper size return new operator chain operator wrapper new record writer output last writer head operator wrapper 
stream record matcher suppress warning unchecked rawtype safe vararg public static w extend window matcher iterable w of window matcher w window return matcher matcher contain in any order window 
testing executor builder safe vararg public final testing executor builder set result change supplier supplier with exception type result list tuple2 boolean row sql execution exception result change supplier this result change supplier array as list result change supplier return this 
testing executor builder safe vararg public final testing executor builder set snapshot result supplier supplier with exception type result integer sql execution exception snapshot result supplier this snapshot result supplier array as list snapshot result supplier return this 
testing executor builder safe vararg public final testing executor builder set result page supplier supplier with exception list row sql execution exception result page supplier result page supplier array as list result page supplier return this 
base expression safe vararg public final out type in in type element expression arg stream concat stream of to expr array stream element map api expression util object to expression to array expression new return to api specific expression unresolved call in arg 
operation matcher safe vararg public static matcher operation be create table operation matcher create table operation nest matcher return new create table operation matcher nest matcher 
operation matcher safe vararg public static matcher create table operation with option map entry string string entry return new feature matcher create table operation map string string equal to map of entry option of the derive table option override protect map string string feature value of create table operation actual return actual get catalog table get property 
operation matcher safe vararg private static map string string map of map entry string string entry map string string map new hash map for map entry string string entry entry map put entry key entry value return map 
finite test source safe vararg public finite test source t element this array as list element 
savepoint migration test base safe vararg protect final void execute and savepoint stream execution environment env string savepoint path tuple2 string integer expect accumulator throw exception final deadline dead line deadline from now duration of minute cluster client client mini cluster resource get cluster client submit the job job graph job graph env get stream graph get job graph job submission result job submission result client util submit job client job graph log info submit job and wait job submission result get job i d boolean done false while dead line have time leave thread sleep map string object accumulator client get accumulator job submission result get job i would get boolean all do true for tuple2 string integer acc expect accumulator object accum opt accumulator get acc f0 if accum opt null all do false break integer num finish integer accum opt if num finish equal acc f1 all do false break if all do do true break if do fail do not see the expect accumulator result within time limit log info trigger savepoint completable future string savepoint path future client trigger savepoint job submission result get job i d null string jobmanager savepoint path savepoint path future get dead line time leave to millis time unit millisecond file job manager savepoint new file new uri jobmanager savepoint path get path savepoint be change to be directory in flink 1.3 if job manager savepoint be directory file util move directory job manager savepoint new file savepoint path else file util move file job manager savepoint new file savepoint path 
savepoint migration test base safe vararg protect final void restore and execute stream execution environment env string savepoint path tuple2 string integer expect accumulator throw exception final deadline dead line deadline from now duration of minute cluster client client mini cluster resource get cluster client submit the job job graph job graph env get stream graph get job graph job graph set savepoint restore setting savepoint restore setting for path savepoint path job submission result job submission result client util submit job client job graph boolean done false while dead line have time leave try and get a job result this will fail if the job already fail use this to get out of this loop job i d job id job submission result get job i would try completable future job status job status future client get job status job submission result get job i d job status job status job status future get time unit seconds assert not equal job status fail job status catch exception e fail could not connect to job e thread sleep map string object accumulator client get accumulator job id get boolean all do true for tuple2 string integer acc expect accumulator object num finish accumulator get acc f0 if num finish null all do false break if num finish equal acc f1 all do false break if all do do true break if do fail do not see the expect accumulator result within time limit 
