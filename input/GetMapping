sys generator controller response body get mapping list public page result get table list request param map string object param return sy generator service query list param 
sys generator controller get map code public void make code string table http servlet response response throw i o exception byte datum sy generator service generator code table split response reset response set header content disposition attachment filename generator zip response add header content length datum length response set content type application octet stream charset utf i o util write datum response get output stream 
file controller get map file public page result file info find file request param map string object param return file service find list param 
aggregation service get mapping value agg request stat index name route map string object request stat agg path variable index name string index name path variable routing string routing 
index controller get map index public page result map string string list request param require false string query str throw i o exception return index service list query str index property get show 
index controller get map index public result map string object show index string index name throw i o exception map string object result index service show index name return result succeed result 
aggregation controller get map request stat index name route public map string object request stat agg path variable string index name path variable string routing throw i o exception return aggregation service request stat agg index name routing 
sy menu controller api operation value role id get map role id menu public list map string object find menu by role id path variable long role id set long role id new hash set role id add role id list sy menu role menu menu service find by role role id list sy menu all menu menu service find all list map string object auth tree new array list map long sy menu role menu map role menu stream collect collector to map sy menu get id sy menu sy menu for sy menu sy menu all menu map string object auth tree new hash map auth tree put id sy menu get id auth tree put name sy menu get name auth tree put p id sy menu get parent id auth tree put open true auth tree put check false if role menu map get sy menu get id null auth tree put check true auth tree add auth tree return auth tree 
sy menu controller api operation value role code suppress warning unchecked cacheable value menu key role code get map role code public list sy menu find menu by role path variable string role code list sy menu result null if string util be not empty role code set string role set set string convert to collection hash set class string class role code result menu service find by role code role set common constant permission return result 
sy menu controller api operation value get map find all public page result sy menu find all list sy menu list menu service find all return page result sy menu builder datum list code count long list size build 
sy menu controller api operation value get mapping find one public page result sy menu find one list sy menu list menu service find one return page result sy menu builder datum list code count long list size build 
sy menu controller get map current api operation value public list sy menu find my menu login user sy user user list sy role role user get role if collection util be empty role return collection empty list list sy menu menu menu service find by role code role parallel stream map sy role get code collect collector to set common constant menu return tree builder menu 
sy role controller api operation value get map role public page result sy role find role request param map string object param return sy role service find role param 
sy role controller api operation value get map all role public result list sy role find all list sy role result sy role service find all return result succeed result 
sy user controller api operation value access token get map user current public result login app user get login app user login user be full true sy user user return result succeed app user service get login app user user 
sy user controller get mapping value user name username api operation value cacheable value user key username public sy user select by username path variable string username return app user service select by username username 
sy user controller get mapping value user anon login param username api operation value public login app user find by username string username return app user service find by username username 
sy user controller get mapping value user anon mobile param mobile api operation value public sy user find by mobile string mobile return app user service find by mobile mobile 
sy user controller get mapping value user anon open id param open id api operation value open id public sy user find by open id string open id return app user service find by open id open id 
sy user controller get map user id public sy user find user by id path variable long id return app user service get by id id 
sy user controller get map user id role public list sy role find role by user id path variable long id return app user service find role by user id id 
sy user controller api operation value api implicit param api implicit param name page value require true datum type integer api implicit param name limit value require true datum type integer get map user public page result sy user find user request param map string object param return app user service find user param 
sy user controller api operation value get map user update enable api implicit param api implicit param name id value id require true datum type integer api implicit param name enable value require true datum type boolean public result update enable request param map string object param long id map util get long param id if check admin id return result fail admin change msg return app user service update enable param 
sy user controller api operation value api implicit param api implicit param name page value require true datum type integer api implicit param name limit value require true datum type integer api implicit param name query str value datum type string get map user search public page result j s o n object search search dto search dto search dto set be highlighter true search dto set sort col create time return query service str query sy user search dto search logic del dto 
user service get mapping value user name username sy user select by username path variable username string username 
user service get mapping value user anon login param username login app user find by username request param username string username 
user service get mapping value user anon mobile param mobile login app user find by mobile request param mobile string mobile 
user service get mapping value user anon open id param open id login app user find by open id request param open id string open id 
order controller get map success public string success order order new order order set order id id generator get id order set order no random util random string message message message builder with payload order set header order id order get order id build source output send message return 
order controller get mapping produce error public string produce error order order new order order set order id id generator get id order set order no random util random string message message message builder with payload order set header order id order get order id set header produce error build source output send message return 
order controller get mapping consume error public string consume error order order new order order set order id id generator get id order set order no random util random string message message message builder with payload order set header order id order get order id set header consume error build source output send message return 
order feign client get map order create boolean create request param user id string user id request param commodity code string commodity code request param count integer count 
storage feign client get map storage deduct boolean deduct request param commodity code string commodity code request param count integer count 
user controller get map init public string init date string company id for int i i i user u new user if i company id alibaba else company id baidu u set company id company id u set name string value of i user service save u return success 
user controller get map public list user list return user service list 
user controller get mapping id public user get path variable long id return user service get by id id 
user controller get map clean public string clean user service remove null return success 
home controller get map public string home model map model map authentication authentication o auth2 authentication oauth2 authentication o auth2 authentication authentication model map put username oauth2 authentication get name model map put authority oauth2 authentication get authority model map put client id oauth2 authentication get o auth2 request get client id o auth2 authentication detail detail o auth2 authentication detail oauth2 authentication get detail model map put token detail get token value return index 
api controller get map token code public map token info path variable string code throw unsupported encode exception token map token map get access token code string access token string token map get access token map user map get user info access token list string role get role user map map result new hash map result put token info token map result put user info user map result put role role return result 
service b client get map rpc string rpc request param value string name 
service c client get map rpc string rpc request param value string name 
demo controller get map rpc public string rpc request param value string value http servlet request servlet request return demo service rpc value 
demo controller get map rpc public string rpc request param value string value return demo service rpc value 
menu service get map value menu role code list sy menu find by role code path variable role code string role code 
swagger handler get map configuration security public mono response entity security configuration security configuration return mono just new response entity optional of nullable security configuration or else security configuration builder builder build http status ok 
swagger handler get map configuration ui public mono response entity ui configuration ui configuration return mono just new response entity optional of nullable ui configuration or else ui configuration builder builder build http status ok 
swagger handler get map public mono response entity swagger resource return mono just new response entity swagger resource get http status ok 
menu service get map value menu role code list sy menu find by role code path variable role code string role code 
aggregation controller api operation value get map value request stat public map string object request stat agg return query service request stat agg point log request statistics 
audit log controller api operation value api implicit param api implicit param name page value require true datum type integer api implicit param name limit value require true datum type integer api implicit param name query str value datum type string get mapping value audit log public page result j s o n object get page search dto search dto search dto set be highlighter true search dto set sort col timestamp return query service str query audit log search dto 
slow query log controller api operation value sql api implicit param api implicit param name page value require true datum type integer api implicit param name limit value require true datum type integer api implicit param name query str value datum type string get mapping value slow query log public page result j s o n object get page search dto search dto search dto set be highlighter true search dto set sort col timestamp return query service str query mysql slowlog search dto 
sy log controller api operation value api implicit param api implicit param name page value require true datum type integer api implicit param name limit value require true datum type integer api implicit param name query str value datum type string get map value sy log public page result j s o n object get page search dto search dto search dto set be highlighter true search dto set sort col timestamp return query service str query sy log search dto 
client controller get mapping list api operation value public page result client list request param map string object param return client service list client param true 
client controller get mapping id api operation value id public client get path variable long id return client service get by id id 
client controller get map all api operation value public result list client all client page result client page client service list client map new hash map false return result succeed page get datum 
token controller get map api operation value token public page result token vo list request param map string object param string tenant id return token service list token param tenant id 
validate code controller get map security constant default validate code url prefix device id public void create code path variable string device id http servlet response response throw exception assert not null device id captcha util set header response gif captcha gif captcha new gif captcha gif captcha set char type captcha type default validate code service save image code device id gif captcha text to lower case gif captcha out response get output stream 
validate code controller response body get map security constant mobile validate code url prefix mobile public result create code path variable string mobile assert not null mobile return validate code service send sm code mobile 
access key controller get map value app app id accesskey public list access key d t o find by app id path variable string app id list access key access key list access key service find by app id app id return bean util batch transform access key d t o class access key list 
app controller get map app public list app d t o find request param value name require false string name pageable pageable list app app null if string util be blank name app app service find all pageable else app app service find by name name return bean util batch transform app d t o class app 
app controller get mapping app app id public app d t o get path variable app id string app id app app app service find one app id if app null throw new not find exception app not find for app id app id return bean util transform app d t o class app 
app controller get mapping app app id unique public boolean be app id unique path variable app id string app id return app service be app id unique app id 
app namespace controller get map appnamespace public namespace name namespace public list namespace d t o find public app namespace all namespace path variable string public namespace name pageable pageable list namespace namespace namespace service find public app namespace all namespace public namespace name pageable return bean util batch transform namespace d t o class namespace 
app namespace controller get map appnamespace public namespace name associate namespace count public int count public app namespace associate namespace path variable string public namespace name return namespace service count public app namespace associate namespace public namespace name 
app namespace controller get mapping app app id appnamespace public list app namespace d t o get app namespace path variable app id string app id list app namespace app namespace app namespace service find by app id app id return bean util batch transform app namespace d t o class app namespace 
cluster controller get mapping app app id cluster public list cluster d t o find path variable app id string app id list cluster cluster cluster service find parent cluster app id return bean util batch transform cluster d t o class cluster 
cluster controller get mapping app app id cluster cluster name public cluster d t o get path variable app id string app id path variable cluster name string cluster name cluster cluster cluster service find one app id cluster name if cluster null throw new not find exception cluster not find for name cluster name return bean util transform cluster d t o class cluster 
cluster controller get mapping app app id cluster cluster name unique public boolean be app id unique path variable app id string app id path variable cluster name string cluster name return cluster service be cluster name unique app id cluster name 
commit controller get map app app id cluster cluster name namespace namespace name commit public list commit d t o find path variable string app id path variable string cluster name path variable string namespace name pageable pageable list commit commit commit service find app id cluster name namespace name pageable return bean util batch transform commit d t o class commit 
index controller get map public string index return apollo adminservice 
instance config controller get mapping by release public page d t o instance d t o get by release request param release id long release id pageable pageable release release release service find one release id if release null throw new not find exception string format release not find for s release id page instance config instance config page instance service find active instance config by release key release get release key pageable list instance d t o instance d t os collection empty list if instance config page have content multimap long instance config instance config map hash multimap create set string other release key set new hash set for instance config instance config instance config page get content instance config map put instance config get instance id instance config other release key add instance config get release key set long instance id instance config map key set list instance instance instance service find instance by id instance id if collection util be empty instance instance d t os bean util batch transform instance d t o class instance for instance d t o instance d t o instance d t os collection instance config config instance config map get instance d t o get id list instance config d t o config d t os config stream map instance config instance config d t o instance config d t o new instance config d t o to save some space instance config d t o set release null instance config d t o set release delivery time instance config get release delivery time instance config d t o set datum change last modify time instance config get datum change last modify time return instance config d t o collect collector to list instance d t o set config config d t os return new page d t o instance d t os pageable instance config page get total element 
instance config controller get mapping by namespace and release not in public list instance d t o get by release not in request param app id string app id request param cluster name string cluster name request param namespace name string namespace name request param release id string release id set long release id set release splitter split to list release id stream map long parse long collect collector to set list release release release service find by release id release id set if collection util be empty release throw new not find exception string format release not find for s release id set string release key release stream map release get release key collect collector to set list instance config instance config instance service find instance config by namespace with release key not in app id cluster name namespace name release key multimap long instance config instance config map hash multimap create set string other release key set new hash set for instance config instance config instance config instance config map put instance config get instance id instance config other release key add instance config get release key list instance instance instance service find instance by id instance config map key set if collection util be empty instance return collection empty list list instance d t o instance d t os bean util batch transform instance d t o class instance list release other release release service find by release key other release key map string release d t o release map map new hash map for release release other release unset configuration to save space release set configuration null release d t o release d t o bean util transform release d t o class release release map put release get release key release d t o for instance d t o instance d t o instance d t os collection instance config config instance config map get instance d t o get id list instance config d t o config d t os config stream map instance config instance config d t o instance config d t o new instance config d t o instance config d t o set release release map get instance config get release key instance config d t o set release delivery time instance config get release delivery time instance config d t o set datum change last modify time instance config get datum change last modify time return instance config d t o collect collector to list instance d t o set config config d t os return instance d t os 
instance config controller get mapping by namespace public page d t o instance d t o get instance by namespace request param app id string app id request param cluster name string cluster name request param namespace name string namespace name request param value instance app id require false string instance app id pageable pageable page instance instance if string be null or empty instance app id instance instance service find instance by namespace app id cluster name namespace name pageable else instance instance service find instance by namespace and instance app id instance app id app id cluster name namespace name pageable list instance d t o instance d t os bean util batch transform instance d t o class instance get content return new page d t o instance d t os pageable instance get total element 
instance config controller get mapping by namespace count public long get instance count by namespace request param app id string app id request param cluster name string cluster name request param namespace name string namespace name page instance instance instance service find instance by namespace app id cluster name namespace name page request of return instance get total element 
item controller get mapping app app id cluster cluster name namespace namespace name item public list item d t o find item path variable app id string app id path variable cluster name string cluster name path variable namespace name string namespace name return bean util batch transform item d t o class item service find item with order app id cluster name namespace name 
item controller get mapping app app id cluster cluster name namespace namespace name item delete public list item d t o find delete item path variable app id string app id path variable cluster name string cluster name path variable namespace name string namespace name list commit commit commit service find app id cluster name namespace name null if object non null commit list item delete item commit stream map item config change content builder convert json string item get change set get delete item flat map collection stream collect collector to list return bean util batch transform item d t o class delete item return collection empty list 
item controller get map item item id public item d t o get path variable item id long item id item item item service find one item id if item null throw new not find exception item not find for item id item id return bean util transform item d t o class item 
item controller get mapping app app id cluster cluster name namespace namespace name item key public item d t o get path variable app id string app id path variable cluster name string cluster name path variable namespace name string namespace name path variable key string key item item item service find one app id cluster name namespace name key if item null throw new not find exception string format item not find for s s s s app id cluster name namespace name key return bean util transform item d t o class item 
namespace branch controller get mapping app app id cluster cluster name namespace namespace name branch branch name rule public gray release rule d t o find branch gray rule path variable string app id path variable string cluster name path variable string namespace name path variable string branch name check branch app id cluster name namespace name branch name gray release rule rule namespace branch service find branch gray rule app id cluster name namespace name branch name if rule null return null gray release rule d t o rule d t o new gray release rule d t o rule get app id rule get cluster name rule get namespace name rule get branch name rule d t o set release id rule get release id rule d t o set rule item gray release rule item transformer batch transform from j s o n rule get rule return rule d t o 
namespace branch controller get mapping app app id cluster cluster name namespace namespace name branch public namespace d t o load namespace branch path variable string app id path variable string cluster name path variable string namespace name check namespace app id cluster name namespace name namespace child namespace namespace branch service find branch app id cluster name namespace name if child namespace null return null return bean util transform namespace d t o class child namespace 
namespace controller get mapping app app id cluster cluster name namespace public list namespace d t o find path variable app id string app id path variable cluster name string cluster name list namespace group namespace service find namespace app id cluster name return bean util batch transform namespace d t o class group 
namespace controller get map namespace namespace id public namespace d t o get path variable namespace id long namespace id namespace namespace namespace service find one namespace id if namespace null throw new not find exception string format namespace not find for s namespace id return bean util transform namespace d t o class namespace 
namespace controller get mapping app app id cluster cluster name namespace namespace name public namespace d t o get path variable app id string app id path variable cluster name string cluster name path variable namespace name string namespace name namespace namespace namespace service find one app id cluster name namespace name if namespace null throw new not find exception string format namespace not find for s s s app id cluster name namespace name return bean util transform namespace d t o class namespace 
namespace controller get mapping app app id cluster cluster name namespace namespace name associate public namespace public namespace d t o find public namespace for associated namespace path variable string app id path variable string cluster name path variable string namespace name namespace namespace namespace service find public namespace for associated namespace cluster name namespace name if namespace null throw new not find exception string format public namespace not find namespace s namespace name return bean util transform namespace d t o class namespace 
namespace controller get mapping app app id namespace publish info public map string boolean namespace publish info path variable string app id return namespace service namespace publish info app id 
namespace lock controller get mapping app app id cluster cluster name namespace namespace name lock public namespace lock d t o get namespace lock owner path variable string app id path variable string cluster name path variable string namespace name namespace namespace namespace service find one app id cluster name namespace name if namespace null throw new bad request exception namespace not exist if biz config be namespace lock switch off return null namespace lock lock namespace lock service find lock namespace get id if lock null return null return bean util transform namespace lock d t o class lock 
release controller get mapping release release id public release d t o get path variable release id long release id release release release service find one release id if release null throw new not find exception string format release not find for s release id return bean util transform release d t o class release 
release controller get mapping release public list release d t o find release by id request param release id string release id set long release id set release splitter split to list release id stream map long parse long collect collector to set list release release release service find by release id release id set return bean util batch transform release d t o class release 
release controller get mapping app app id cluster cluster name namespace namespace name release all public list release d t o find all release path variable app id string app id path variable cluster name string cluster name path variable namespace name string namespace name pageable page list release release release service find all release app id cluster name namespace name page return bean util batch transform release d t o class release 
release controller get mapping app app id cluster cluster name namespace namespace name release active public list release d t o find active release path variable app id string app id path variable cluster name string cluster name path variable namespace name string namespace name pageable page list release release release service find active release app id cluster name namespace name page return bean util batch transform release d t o class release 
release controller get mapping app app id cluster cluster name namespace namespace name release latest public release d t o get latest path variable app id string app id path variable cluster name string cluster name path variable namespace name string namespace name release release release service find latest active release app id cluster name namespace name return bean util transform release d t o class release 
release history controller get mapping app app id cluster cluster name namespace namespace name release history public page d t o release history d t o find release history by namespace path variable string app id path variable string cluster name path variable string namespace name pageable pageable page release history result release history service find release history by namespace app id cluster name namespace name pageable return transform2 page d t o result pageable 
release history controller get mapping release history by release id and operation public page d t o release history d t o find release history by release id and operation request param release id long release id request param operation int operation pageable pageable page release history result release history service find by release id and operation release id operation pageable return transform2 page d t o result pageable 
release history controller get mapping release history by previous release id and operation public page d t o release history d t o find release history by previous release id and operation request param previous release id long previous release id request param operation int operation pageable pageable page release history result release history service find by previous release id and operation previous release id operation pageable return transform2 page d t o result pageable 
config controller get mapping value app id cluster name namespace public apollo config query config path variable string app id path variable string cluster name path variable string namespace request param value datum center require false string datum center request param value release key default value string client side release key request param value ip require false string client ip request param value message require false string message as string http servlet request request http servlet response response throw i o exception string original namespace namespace strip out property suffix namespace namespace util filter namespace name namespace fix the character case issue such as fx apollo fx apollo namespace namespace util normalize namespace app id namespace if string be null or empty client ip client ip try to get client ip request apollo notification message client message transform message message as string list release release list new link list string app cluster name load cluster name if config const no appid placeholder equal ignore case app id release current app release config service load config app id client ip app id cluster name namespace datum center client message if current app release null release add current app release we have cluster search process so the cluster name might be override app cluster name load current app release get cluster name if namespace do not belong to this app id should check if there be a public configuration if namespace belong to app id app id namespace release public release this find public config app id client ip cluster name namespace datum center client message if object be null public release release add public release if release be empty response send error http servlet response sc not find string format could not load configuration with app id s cluster name s namespace s app id cluster name original namespace tracer log event apollo config not find assemble key app id cluster name original namespace datum center return null audit release app id cluster name datum center client ip release string merge release key release stream map release get release key collect collector join config const cluster namespace separator if merge release key equal client side release key client side configuration be the same with server side return response set status http servlet response sc not modify tracer log event apollo config not modify assemble key app id app cluster name load original namespace datum center return null apollo config apollo config new apollo config app id app cluster name load original namespace merge release key apollo config set configuration merge release configuration release tracer log event apollo config find assemble key app id app cluster name load original namespace datum center return apollo config 
config file controller get mapping value app id cluster name namespace public response entity string query config as property path variable string app id path variable string cluster name path variable string namespace request param value datum center require false string datum center request param value ip require false string client ip http servlet request request http servlet response response throw i o exception string result query config config file output format property app id cluster name namespace datum center client ip request response if result null return not find response return new response entity result property response header http status ok 
config file controller get mapping value json app id cluster name namespace public response entity string query config as json path variable string app id path variable string cluster name path variable string namespace request param value datum center require false string datum center request param value ip require false string client ip http servlet request request http servlet response response throw i o exception string result query config config file output format json app id cluster name namespace datum center client ip request response if result null return not find response return new response entity result json response header http status ok 
notification controller get map public defer result response entity apollo config notification poll notification request param value app id string app id request param value cluster string cluster request param value namespace default value config const namespace application string namespace request param value datum center require false string datum center request param value notification id default value long notification id request param value ip require false string client ip strip out property suffix namespace namespace util filter namespace name namespace set string watch key watch key util assemble all watch key app id cluster namespace datum center defer result response entity apollo config notification defer result new defer result timeout not modify response check whether client be out date release message latest release message service find latest release message for message watch key manually close the entity manager since for async request spring win t do so until the request be finish which be unacceptable since we be do long polling mean the db connection would be hold for a very long time entity manager util close entity manager if latest null latest get id notification id defer result set result new response entity new apollo config notification namespace latest get id http status ok else register all key for string key watch key this defer result put key deferred result defer result on timeout log watch key watch key apollo long poll time out key defer result on completion unregister all key for string key watch key defer result remove key deferred result log watch key watch key apollo long poll complete key log watch key watch key apollo long poll register key logger debug listen from app id cluster namespace datacenter watch key app id cluster namespace datum center return defer result 
notification controller v2 get map public defer result response entity list apollo config notification poll notification request param value app id string app id request param value cluster string cluster request param value notification string notification as string request param value datum center require false string datum center request param value ip require false string client ip list apollo config notification notification null try notification gson from json notification as string notification type reference catch throwable ex tracer log error ex if collection util be empty notification throw new bad request exception invalid format of notification notification as string defer result wrapper defer result wrapper new deferred result wrapper biz config long polling timeout in milli set string namespace set new hash set map string long client side notification map new hash map map string apollo config notification filter notification filter notification app id notification for map entry string apollo config notification notification entry filter notification entry set string normalize namespace notification entry get key apollo config notification notification notification entry get value namespace add normalize namespace client side notification put normalize namespace notification get notification id if object equal notification get namespace name normalize namespace defer result wrapper record namespace name normalize result notification get namespace name normalize namespace if collection util be empty namespace throw new bad request exception invalid format of notification notification as string multimap string string watch key map watch key util assemble all watch key app id cluster namespace datum center set string watch key set new hash set watch key map value set deferred result before the check for avoid more wait if the check before set deferred result it may receive a notification the next time when method handle message be execute between check and set deferred result defer result wrapper on timeout log watch key watch key apollo long poll time out key defer result wrapper on completion unregister all key for string key watch key defer result remove key deferred result wrapper log watch key watch key apollo long poll complete key register all key for string key watch key this defer result put key deferred result wrapper log watch key watch key apollo long poll register key logger debug listen from app id cluster namespace datacenter watch key app id cluster namespace datum center check new release list release message latest release message release message service find latest release message group by message watch key manually close the entity manager since for async request spring win t do so until the request be finish which be unacceptable since we be do long polling mean the db connection would be hold for a very long time entity manager util close entity manager list apollo config notification new notification get apollo config notification namespace client side notification watch key map latest release message if collection util be empty new notification defer result wrapper set result new notification return defer result wrapper get result 
app controller get map value app app id envcluster public list open env cluster d t o load env cluster info path variable string app id list open env cluster d t o env cluster new link list list env envs portal setting get active env for env env envs open env cluster d t o env cluster new open env cluster d t o env cluster set env env name list cluster d t o cluster d t os cluster service find cluster env app id env cluster set cluster bean util to property set name cluster d t os env cluster add env cluster return env cluster 
app controller get map app public list open app d t o find app request param value app id require false string app id final list app app new array list if string util be empty app id app add all app service find all else app add all app service find by app id set new hash set app id split return open api bean util transform from app app 
cluster controller get map value app app id cluster cluster name public open cluster d t o load cluster path variable app id string app id path variable string env path variable cluster name string cluster name cluster d t o cluster d t o cluster service load cluster app id env from string env cluster name return cluster d t o null null open api bean util transform from cluster d t o cluster d t o 
item controller get map value app app id cluster cluster name namespace namespace name item key public open item d t o get item path variable string app id path variable string env path variable string cluster name path variable string namespace name path variable string key item d t o item d t o item service load item env from string env app id cluster name namespace name key return item d t o null null open api bean util transform from item d t o item d t o 
namespace branch controller get map value app app id cluster cluster name namespace namespace name branch public open namespace d t o find branch path variable string app id path variable string env path variable string cluster name path variable string namespace name namespace b o namespace b o namespace branch service find branch app id env value of env to upper case cluster name namespace name if namespace b o null return null return open api bean util transform from namespace b o namespace b o 
namespace branch controller get map value app app id cluster cluster name namespace namespace name branch branch name rule public open gray release rule d t o get branch gray rule path variable string app id path variable string env path variable string cluster name path variable string namespace name path variable string branch name gray release rule d t o gray release rule d t o namespace branch service find branch gray rule app id env value of env to upper case cluster name namespace name branch name if gray release rule d t o null return null return open api bean util transform from gray release rule d t o gray release rule d t o 
namespace controller get mapping value openapi v1 env env app app id cluster cluster name namespace public list open namespace d t o find namespace path variable string app id path variable string env path variable string cluster name return open api bean util batch transform from namespace b os namespace service find namespace b os app id env from string env cluster name 
namespace controller get mapping value openapi v1 env env app app id cluster cluster name namespace namespace name public open namespace d t o load namespace path variable string app id path variable string env path variable string cluster name path variable string namespace name namespace b o namespace b o namespace service load namespace b o app id env from string env cluster name namespace name if namespace b o null return null return open api bean util transform from namespace b o namespace b o 
namespace controller get mapping value openapi v1 env env app app id cluster cluster name namespace namespace name lock public open namespace lock d t o get namespace lock path variable string app id path variable string env path variable string cluster name path variable string namespace name namespace d t o namespace namespace service load namespace base info app id env from string env cluster name namespace name namespace lock d t o lock d t o namespace lock service get namespace lock app id env from string env cluster name namespace name return open api bean util transform from namespace lock d t o namespace get namespace name lock d t o 
release controller get map value app app id cluster cluster name namespace namespace name release latest public open release d t o load latest active release path variable string app id path variable string env path variable string cluster name path variable string namespace name release d t o release d t o release service load latest release app id env from string env cluster name namespace name if release d t o null return null return open api bean util transform from release d t o release d t o 
access key controller pre authorize value permission validator be app admin app id get map value app app id envs env accesskey public list access key d t o find by app id path variable string app id path variable string env return access key service find by app id env from string env app id 
app controller get map public list app find app request param value app id require false string app id if string util be empty app id return app service find all return app service find by app id set new hash set app id split 
app controller get map search by appid or name public page d t o app search by app id or app name request param value query require false string query pageable pageable if string util be empty query return app service find all pageable return app service search by app id or app name query pageable 
app controller get mapping by owner public list app find app by owner request param owner string owner pageable page set string app id set new hash set list role user role role permission service find user role owner for role role user role string app id role util extract app id from role name role get role name if app id null app id add app id return app service find by app id app id page 
app controller get map app id navtree public multi response entity env cluster info nav path variable string app id multi response entity env cluster info response multi response entity ok list env envs portal setting get active env for env env envs try response add response entity rich response entity ok app service create env nav node env app id catch exception e response add response entity rich response entity error http status internal server error load env env name cluster error e get message return response 
app controller get map app id public app load path variable string app id return app service load app id 
app controller get map app id miss env public multi response entity string find miss env path variable string app id multi response entity string response multi response entity ok for env env portal setting get active env try app service load env app id catch exception e if e instanceof http client error exception http client error exception e get status code http status not find response add response entity rich response entity ok env to string else response add response entity rich response entity error http status internal server error string format load app id s from env s error app id env e get message return response 
cluster controller get map value app app id env env cluster cluster name public cluster d t o load cluster path variable app id string app id path variable string env path variable cluster name string cluster name return cluster service load cluster app id env from string env cluster name 
commit controller get map app app id env env cluster cluster name namespace namespace name commit public list commit d t o find path variable string app id path variable string env path variable string cluster name path variable string namespace name valid positive or zero message page should be positive or request param default value int page valid positive message size should be positive number request param default value int size if permission validator should hide config to current user app id env namespace name return collection empty list return commit service find app id env value of env cluster name namespace name page size 
configs export controller get mapping app app id env env cluster cluster name namespace namespace name item export public void export item path variable string app id path variable string env path variable string cluster name path variable string namespace name http servlet response re list string file name split splitter on split to list namespace name string file name file name split size joiner on join namespace name config file format property get value namespace name namespace b o namespace b o namespace service load namespace b o app id env from string env cluster name namespace name generate a file re set header content disposition attachment filename file name list string file item namespace b o get item stream map item b o string key item b o get item get key string value item b o get item get value if config const config file content key equal key return value if equal key return joiner on join item b o get item get key item b o get item get value return joiner on join item b o get item get key item b o get item get value collect collector to list try config to file util item to file re get output stream file item catch exception e throw new service exception export item fail e 
consumer controller get mapping value consumer by app id public consumer token get consumer token by app id request param string app id return consumer service get consumer token by app id app id 
env controller get map public list string envs list string environment new array list for env env portal setting get active env environment add env to string return environment 
favorite controller get map favorite public list favorite find favorite request param value user id require false string user id request param value app id require false string app id pageable page return favorite service search user id app id page 
instance controller get map env env instance by release public page d t o instance d t o get by release path variable string env request param long release id request param default value int page request param default value int size return instance service get by release env value of env release id page size 
instance controller get map env env instance by namespace public page d t o instance d t o get by namespace path variable string env request param string app id request param string cluster name request param string namespace name request param require false string instance app id request param default value int page request param default value int size return instance service get by namespace env value of env app id cluster name namespace name instance app id page size 
instance controller get map env env instance by namespace count public response entity number get instance count by namespace path variable string env request param string app id request param string cluster name request param string namespace name int count instance service get instance count by namepsace app id env value of env cluster name namespace name return response entity ok new number count 
instance controller get map env env instance by namespace and release not in public list instance d t o get by release not in path variable string env request param string app id request param string cluster name request param string namespace name request param string release id set long release id set release splitter split to list release id stream map long parse long collect collector to set if collection util be empty release id set throw new bad request exception release id can not be empty return instance service get by release not in env value of env app id cluster name namespace name release id set 
item controller get mapping app app id env env cluster cluster name namespace namespace name item public list item d t o find item path variable string app id path variable string env path variable string cluster name path variable string namespace name request param default value line num string order by if permission validator should hide config to current user app id env namespace name return collection empty list list item d t o item config service find item app id env value of env cluster name namespace name if last modify time equal order by item sort o1 o2 if o1 get datum change last modify time after o2 get datum change last modify time return if o1 get datum change last modify time before o2 get datum change last modify time return return return item 
item controller get mapping app app id env env cluster cluster name namespace namespace name branch branch name item public list item d t o find branch item path variable app id string app id path variable string env path variable cluster name string cluster name path variable namespace name string namespace name path variable branch name string branch name return find item app id env branch name namespace name last modify time 
namespace branch controller get mapping app app id env env cluster cluster name namespace namespace name branch public namespace b o find branch path variable string app id path variable string env path variable string cluster name path variable string namespace name namespace b o namespace b o namespace branch service find branch app id env value of env cluster name namespace name if namespace b o null permission validator should hide config to current user app id env namespace name namespace b o hide item return namespace b o 
namespace branch controller get map value app app id env env cluster cluster name namespace namespace name branch branch name rule public gray release rule d t o get branch gray rule path variable string app id path variable string env path variable string cluster name path variable string namespace name path variable string branch name return namespace branch service find branch gray rule app id env value of env cluster name namespace name branch name 
namespace controller get map appnamespace public public list app namespace find public app namespace return app namespace service find public app namespace 
namespace controller get mapping app app id env env cluster cluster name namespace public list namespace b o find namespace path variable string app id path variable string env path variable string cluster name list namespace b o namespace b os namespace service find namespace b os app id env value of env cluster name for namespace b o namespace b o namespace b os if permission validator should hide config to current user app id env namespace b o get base info get namespace name namespace b o hide item return namespace b os 
namespace controller get mapping app app id env env cluster cluster name namespace namespace name public namespace b o find namespace path variable string app id path variable string env path variable string cluster name path variable string namespace name namespace b o namespace b o namespace service load namespace b o app id env value of env cluster name namespace name if namespace b o null permission validator should hide config to current user app id env namespace name namespace b o hide item return namespace b o 
namespace controller get mapping env env app app id cluster cluster name namespace namespace name associate public namespace public namespace b o find public namespace for associated namespace path variable string env path variable string app id path variable string namespace name path variable string cluster name return namespace service find public namespace for associated namespace env value of env app id cluster name namespace name 
namespace controller get mapping app app id appnamespace namespace name public app namespace d t o find app namespace path variable string app id path variable string namespace name app namespace app namespace app namespace service find by app id and name app id namespace name if app namespace null throw new bad request exception string format app namespace not exist app id s namespace name s app id namespace name return bean util transform app namespace d t o class app namespace 
namespace controller get mapping app app id namespace publish info public map string map string boolean get namespace publish info path variable string app id return namespace service get namespace publish info app id 
namespace controller get map env env appnamespace public namespace name namespace public list namespace d t o get public app namespace all namespace path variable string env path variable string public namespace name request param name page default value int page request param name size default value int size return namespace service get public app namespace all namespace env from string env public namespace name page size 
namespace controller get mapping app app id env env cluster cluster name miss namespace public multi response entity string find miss namespace path variable string app id path variable string env path variable string cluster name multi response entity string response multi response entity ok set string miss namespace find miss namespace name app id env cluster name for string miss namespace miss namespace response add response entity rich response entity ok miss namespace return response 
namespace lock controller deprecate get map value app app id env env cluster cluster name namespace namespace name lock public namespace lock d t o get namespace lock path variable string app id path variable string env path variable string cluster name path variable string namespace name return namespace lock service get namespace lock app id env value of env cluster name namespace name 
namespace lock controller get map value app app id env env cluster cluster name namespace namespace name lock info public lock info get namespace lock info path variable string app id path variable string env path variable string cluster name path variable string namespace name return namespace lock service get namespace lock info app id env from string env cluster name namespace name 
page set controller get map page setting public page set get page set page set set new page set setting set wiki address portal config wiki address set set can app admin create private namespace portal config can app admin create private namespace return setting 
permission controller get mapping app app id permission permission type public response entity permission condition have permission path variable string app id path variable string permission type permission condition permission condition new permission condition permission condition set have permission role permission service user have permission user info holder get user get user id permission type app id return response entity ok body permission condition 
permission controller get mapping app app id namespace namespace name permission permission type public response entity permission condition have permission path variable string app id path variable string namespace name path variable string permission type permission condition permission condition new permission condition permission condition set have permission role permission service user have permission user info holder get user get user id permission type role util build namespace target id app id namespace name return response entity ok body permission condition 
permission controller get mapping app app id envs env namespaces namespace name permission permission type public response entity permission condition have permission path variable string app id path variable string env path variable string namespace name path variable string permission type permission condition permission condition new permission condition permission condition set have permission role permission service user have permission user info holder get user get user id permission type role util build namespace target id app id namespace name env return response entity ok body permission condition 
permission controller get mapping permission root public response entity permission condition have root permission permission condition permission condition new permission condition permission condition set have permission role permission service be super admin user info holder get user get user id return response entity ok body permission condition 
permission controller get mapping app app id envs env namespaces namespace name role user public namespace env role assign user get namespace env role path variable string app id path variable string env path variable string namespace name validate env parameter if env unknown env transform env env throw new bad request exception env be illegal namespace env role assign user assign user new namespace env role assign user assign user set namespace name namespace name assign user set app id app id assign user set env env from string env set user info release namespace user role permission service query user with role role util build release namespace role name app id namespace name env assign user set release role user release namespace user set user info modify namespace user role permission service query user with role role util build modify namespace role name app id namespace name env assign user set modify role user modify namespace user return assign user 
permission controller get mapping app app id namespace namespace name role user public namespace role assign user get namespace role path variable string app id path variable string namespace name namespace role assign user assign user new namespace role assign user assign user set namespace name namespace name assign user set app id app id set user info release namespace user role permission service query user with role role util build release namespace role name app id namespace name assign user set release role user release namespace user set user info modify namespace user role permission service query user with role role util build modify namespace role name app id namespace name assign user set modify role user modify namespace user return assign user 
permission controller get mapping app app id role user public app role assign user get app role path variable string app id app role assign user user new app role assign user user set app id app id set user info master user role permission service query user with role role util build app master role name app id user set master user master user return user 
permission controller pre authorize value permission validator be super admin get map system role create application public list string get create application role user return role permission service query user with role system role manager service create application role name stream map user info get user id collect collector to list 
permission controller get map system role create application user id public json object have create application permission path variable string user id json object rs new json object rs add property have create application permission permission validator have create application permission user id return rs 
permission controller get map system role manage app master public json object be manage app master permission enable json object rs new json object rs add property be manage app master permission enable system role manager service be manage app master permission enable return rs 
prefix path controller get mapping prefix path public string get prefix path return prefix path 
release controller get map value app app id env env cluster cluster name namespace namespace name release all public list release b o find all release path variable string app id path variable string env path variable string cluster name path variable string namespace name valid positive or zero message page should be positive or request param default value int page valid positive message size should be positive number request param default value int size if permission validator should hide config to current user app id env namespace name return collection empty list return release service find all release app id env value of env cluster name namespace name page size 
release controller get map value app app id env env cluster cluster name namespace namespace name release active public list release d t o find active release path variable string app id path variable string env path variable string cluster name path variable string namespace name valid positive or zero message page should be positive or request param default value int page valid positive message size should be positive number request param default value int size if permission validator should hide config to current user app id env namespace name return collection empty list return release service find active release app id env value of env cluster name namespace name page size 
release controller get mapping value env env release compare public release compare result compare release path variable string env request param long base release id request param long to compare release id return release service compare env value of env base release id to compare release id 
release history controller get mapping app app id env env cluster cluster name namespace namespace name release history public list release history b o find release history by namespace path variable string app id path variable string env path variable string cluster name path variable string namespace name request param value page default value int page request param value size default value int size if permission validator should hide config to current user app id env namespace name return collection empty list return release history service find namespace release history app id env value of env cluster name namespace name page size 
server config controller pre authorize value permission validator be super admin get map server config key public server config load server config path variable string key return server config repository find by key key 
sign in controller get map signin public string login request param value error require false string error request param value logout require false string logout return login html 
sso heartbeat controller get map public void heartbeat http servlet request request http servlet response response handler do heartbeat request response 
system info controller pre authorize value permission validator be super admin get map public system info get system info system info system info new system info string version apollo version if be valid version version system info set version version list env all env list portal setting get all env for env env all env list environment info environment info adapt env2 environment info env system info add environment environment info return system info 
system info controller pre authorize value permission validator be super admin get mapping value health public health check health request param string instance id list env all env portal setting get all env service d t o service null for final env env all envs environment info env info adapt env2 environment info env if env info get admin service null for final service d t o s env info get admin service if instance id equal s get instance id service s break if env info get config service null for final service d t o s env info get config service if instance id equal s get instance id service s break if service null throw new illegal argument exception no such instance of instance id instance id return rest template get for object service get homepage url health health class 
user info controller get map user public user info get current user name return user info holder get user 
user info controller get map user logout public void logout http servlet request request http servlet response response throw i o exception logout handler logout request response 
user info controller get map user public list user info search user by keyword request param value keyword string keyword request param value offset default value int offset request param value limit default value int limit return user service search user keyword offset limit 
user info controller get map user user id public user info get user by user id path variable string user id return user service find by user id user id 
capacity controller get map public rest result capacity get capacity http servlet response response request param require false string group request param require false string tenant if group null tenant null rest result capacity rest result new rest result capacity response set status rest result set code rest result set message group tenant return rest result if group null string util be blank tenant rest result capacity rest result new rest result capacity response set status rest result set code rest result set message tenant return rest result rest result capacity rest result new rest result capacity try response set status rest result set code capacity capacity capacity service get capacity with default group tenant if capacity null logger warn get capacity capacity group tenant group tenant capacity service init capacity group tenant capacity capacity service get capacity with default group tenant if capacity null rest result set data capacity catch exception e logger error get capacity e response set status rest result set code rest result set message e get message return rest result 
communication controller get mapping datum change public boolean notify config info http servlet request request request param datum id string data id request param group string group request param value tenant require false default value string util empty string tenant request param value tag require false string tag datum id data id trim group group trim string last modify request get header notify service notify header last modify long last modify t string util be empty last modify long parse long last modify string handle ip request get header notify service notify header op handle ip string be beta str request get header be beta if string util be not blank be beta str true str equal be beta str dump service dump datum id group tenant last modify t handle ip true else dump service dump datum id group tenant tag last modify t handle ip return true 
communication controller get map config watcher public sample result get sub client config request param datum id string data id request param group string group request param value tenant require false string tenant model map model map group string util be blank group constant default group group return long polling service get collect subscrible info datum id group tenant 
communication controller get map watcher configs public sample result get sub client config by ip http servlet request request http servlet response response request param ip string ip model map model map return long polling service get collect subscrible info by ip ip 
config controller get map secure action action type read parser config resource parser class public void get config http servlet request request http servlet response response request param datum id string data id request param group string group request param value tenant require false default value string util empty string tenant request param value tag require false string tag throw i o exception servlet exception naco exception check tenant param util check tenant tenant tenant process tenant tenant check param param util check param datum id group datum id content param util check param tag final string client ip request util get remote ip request inner do get config request response datum id group tenant tag client ip 
config controller get map param show all secure action action type read parser config resource parser class public config all info detail config info http servlet request request http servlet response response request param datum id string data id request param group string group request param value tenant require false default value string util empty string tenant throw naco exception check tenant param util check tenant tenant check param param util check param datum id group datum id content return persist service find config all info data id group tenant 
config controller get map catalog secure action action type read parser config resource parser class public rest result config advance info get config advance info request param datum id string data id request param group string group request param value tenant require false default value string util empty string tenant rest result config advance info rr new rest result config advance info config advance info config info persist service find config advance info datum id group tenant rr set code rr set datum config info return rr 
config controller get map listener secure action action type read parser config resource parser class public groupkey listenser status get listener request param datum id string data id request param group string group request param value tenant require false string tenant request param value sample time require false default value int sample time throw exception group string util be blank group constant default group group sample result collect sample result config sub service get collect sample result datum id group tenant sample time groupkey listenser status gl new groupkey listenser status gl set collect status if collect sample result get lisenter groupkey status null gl set lisenter groupkey status collect sample result get lisenter groupkey status return gl 
config controller get map param search accurate secured action action type read parser config resource parser class public page config info search config request param datum id string data id request param group string group request param value app name require false string app name request param value tenant require false default value string util empty string tenant request param value config tag require false string config tag request param page no int page no request param page size int page size map string object config advance info new hash map string object if string util be not blank app name config advance info put app name app name if string util be not blank config tag config advance info put config tag config tag try return persist service find config info4 page page no page size datum id group tenant config advance info catch exception e string error msg serialize page error datum id datum id group group logger error error msg e throw new runtime exception error msg e 
config controller get map param search blur secure action action type read parser config resource parser class public page config info fuzzy search config request param datum id string data id request param group string group request param value app name require false string app name request param value tenant require false default value string util empty string tenant request param value config tag require false string config tag request param page no int page no request param page size int page size map string object config advance info new hash map string object if string util be not blank app name config advance info put app name app name if string util be not blank config tag config advance info put config tag config tag try return persist service find config info like4 page page no page size datum id group tenant config advance info catch exception e string error msg serialize page error datum id datum id group group logger error error msg e throw new runtime exception error msg e 
config controller get map param beta true secured action action type read parser config resource parser class public rest result config info4 beta query beta request param value datum id string data id request param value group string group request param value tenant require false default value string util empty string tenant rest result config info4 beta rr new rest result config info4 beta try config info4 beta ci persist service find config info4 beta datum id group tenant rr set code rr set datum ci rr set message stop beta ok return rr catch exception e logger error remove beta datum error e rr set code rr set message remove beta datum error return rr 
config controller get map param export true secured action action type read parser config resource parser class public response entity byte export config request param value datum id require false string datum id request param value group require false string group request param value app name require false string app name request param value tenant require false default value string util empty string tenant request param value id require false list long id id remove all collection singleton null tenant process tenant tenant list config all info datum list persist service find all config info4 export datum id group tenant app name id list zip util zip item zip item list new array list string builder meta datum null for config info ci datum list if string util be not blank ci get app name handle app name if meta datum null meta datum new string builder string meta data id ci get datum id if meta datum id contain meta datum id meta datum id substring meta datum id last index of meta datum id substring meta datum id last index of meta datum append ci get group append append meta datum id append app fix use of r n here append ci get app name append r n string item name ci get group ci get datum id zip item list add new zip util zip item item name ci get content if meta data null zip item list add new zip util zip item meta yml meta datum to string http header header new http header string file name export config file name date format util format new date export config file name date format export config file name ext header add content disposition attachment filename file name return new response entity byte zip util zip zip item list header http status ok 
config op controller get mapping value derby public rest result object derby op request param value sql string sql string select sign select string limit sign row fetch next string limit offset row fetch next row only try if property util be embed storage local datum source service impl datum source service local datum source service impl dynamic datum source get instance get datum source if string util start with ignore case sql select sign if string utils contain ignore case sql limit sign sql limit jdbc template template datum source service get jdbc template list map string object result template query for list sql return rest result util success result return rest result util fail only query statement be allow to be execute return rest result util fail the current storage mode be not derby catch exception e return rest result util fail e get message 
health controller get map public string get health todo up down warn string builder sb new string builder string db status datum source service get health if db status contain heath up str member manager be in ip list sb append heath up str else if db status contain heath warn str member manager be in ip list sb append warn sb append slave db append db status split append down else sb append down if db status contain heath down str sb append master db append db status split append down if member manager be in ip list sb append server ip append inet util get self ip append be not in the server list of address server return sb to string 
history controller get map param search accurate public page config history info list config history request param datum id string data id request param group string group request param value tenant require false default value string util empty string tenant request param value app name require false string app name request param value page no required false integer page no request param value page size require false integer page size model map model map page no null page no page no page size null page size page size page size math min page size config info base have no app name field return persist service find config history datum id group tenant page no page size 
history controller get map public config history info get config history info http servlet request request http servlet response response request param nid long nid model map model map return persist service detail config history nid 
listener controller get map public groupkey listenser status get all sub client config by ip request param ip string ip request param value all require false boolean all request param value tenant require false string tenant request param value sample time require false default value int sample time model map model map throw exception sample result collect sample result config sub service get collect sample result by ip ip sample time groupkey listenser status gl new groupkey listenser status gl set collect status map string string config md5 status new hash map string string if collect sample result get lisenter groupkey status null map string string status collect sample result get lisenter groupkey status for map entry string string config status entry set if string util be blank tenant if config get key contain tenant config md5 status put config get key config get value else get common config default value if want to get all config you need to add all if all config md5 status put config get key config get value else string config key group key2 parse key config get key if string util be blank config key config md5 status put config get key config get value gl set lisenter groupkey status config md5 status return gl 
health controller get map liveness public response entity liveness return response entity ok body ok 
health controller get mapping readiness public response entity readiness http servlet request request boolean be config readiness be config readiness boolean be name readiness be name readiness request if be config readiness be name readiness return response entity ok body ok if be config readiness be name readiness return response entity status body config and naming be not in readiness if be config readiness return response entity status body config be not in readiness return response entity status body naming be not in readiness 
namespace controller get map public rest result list namespace get namespace http servlet request request http servlet response response rest result list namespace rr new rest result list namespace rr set code todo kp list tenant info tenant info persist service find tenant by kp namespace namespace0 new namespace public persist service config info count list namespace namespace new array list namespace namespace add namespace0 for tenant info tenant info tenant info int config count persist service config info count tenant info get tenant id namespace namespace tmp new namespace tenant info get tenant id tenant info get tenant name config count namespace add namespace tmp rr set datum namespace return rr 
namespace controller get map param show all public namespace all info get namespace http servlet request request http servlet response response request param namespace id string namespace id todo kp if string util be blank namespace id return new namespace all info namespace id public persist service config info count public namespace else tenant info tenant info persist service find tenant by kp namespace id int config count persist service config info count namespace id return new namespace all info namespace id tenant info get tenant name config count tenant info get tenant desc 
namespace controller get map param check namespace id exist true public boolean check namespace id exist request param custom namespace id string namespace id if string util be blank namespace id return false return persist service tenant info count by tenant id namespace id 
permission controller get map secure resource naco auth config console resource name prefix permission action action type read public object get permission request param int page no request param int page size request param name role default value string util empty string role return naco role service get permission from database role page no page size 
role controller get map secure resource naco auth config console resource name prefix role action action type read public object get role request param int page no request param int page size request param name username default value string username return role service get role from database username page no page size 
server state controller get map state public response entity server state map string string server state new hash map server state put standalone mode application util get standalone mode application util standalone mode alone application util standalone mode cluster server state put function mode application util get function mode server state put version version util version return response entity ok body server state 
user controller get map secure resource naco auth config console resource name prefix user action action type read public object get user request param int page no request param int page size return user detail service get user from database page no page size 
core op controller get mapping value id info public rest result map string map object object id info map string map object object info new hash map id generator manager get generator map for each resource id generator info put resource id generator info return rest result util success info 
naco cluster controller get mapping value self public rest result member self return rest result util success member manager get self 
naco cluster controller get map value node public rest result collection member list node request param value keyword require false string ip key word collection member member member manager all member collection member result new array list member stream sort for each member if string util be blank ip key word result add member return final string address member get address if string util equal address ip key word string util start with address ip key word result add member return rest result util success result 
naco cluster controller get mapping value simple node public rest result collection string list simple node return rest result util success member manager get member address info 
naco cluster controller get map health public rest result string get health return rest result util success member manager get self get state name 
catalog controller secure parser name resource parser class action action type read get mapping service public object node service detail request param default value constant default namespace id string namespace id string service name throw naco exception service detailed service service manager get service namespace id service name if detailed service null throw new naco exception naco exception not find service service name be not find object node service object jackson util create empty json node service object put name name util get service name service name service object put protect threshold detailed service get protect threshold service object put group name name util get group name service name service object replace selector jackson util transfer to json node detailed service get selector service object replace metadata jackson util transfer to json node detailed service get metadata object node detail view jackson util create empty json node detail view replace service service object list cluster cluster new array list for com alibaba naco name core cluster cluster detailed service get cluster map value cluster cluster view new cluster cluster view set name cluster get name cluster view set health checker cluster get health checker cluster view set metadata cluster get metadata cluster view set use i p port4 check cluster be use i p port4 check cluster view set default port cluster get default port cluster view set default check port cluster get default check port cluster view set service name cluster get service get name cluster add cluster view detail view replace cluster jackson util transfer to json node cluster return detail view 
catalog controller secure parser name resource parser class action action type read get mapping service public object list detail request param require false boolean with instance request param default value constant default namespace id string namespace id request param require false int page no request param require false int page size request param name service name param default value string util empty string service name request param name group name param default value string util empty string group name request param name instance default value string util empty string contain instance request param require false boolean have ip count string param string util be blank service name string util be blank group name string util empty naming util get group name service name group name if with instance list service detail info service detail info list new array list list service service new array list service manager get page service namespace id page no page size param string util empty service false for service service service service detail info service detail info new service detail info service detail info set service name name util get service name service get name service detail info set group name name util get group name service get name service detail info set metadata service get metadata map string cluster info cluster info map get string cluster info map service service detail info set cluster map cluster info map service detail info list add service detail info return service detail info list object node result jackson util create empty json node list service service new array list final int total service manager get page service namespace id page no page size param contain instance service have ip count if collection util be empty service result replace service list jackson util transfer to json node collection empty list result put count return result list service view service view new link list for service service service service view service view new service view service view set name name util get service name service get name service view set group name name util get group name service get name service view set cluster count service get cluster map size service view set ip count service all i ps size service view set healthy instance count service healthy instance count service view set trigger flag service trigger flag true false service view add service view result replace service list jackson util transfer to json node service view result put count total return result 
distro controller get map datum public response entity get request body string body throw exception json node body node jackson util to obj body string key body node get key as text string key splitter map string datum datum map new hash map for string key key split key splitter datum datum consistency service get key if datum null continue datum map put key datum byte content serializer serialize datum map return response entity ok content 
distro controller get map datum public response entity get all datum byte content serializer serialize datum store get datum map return response entity ok content 
health controller get map checkers public response entity checkers list class extend abstract health checker class health check type get load health checker class map string abstract health checker checker map new hash map for class extend abstract health checker clazz class try abstract health checker checker clazz new instance checker map put checker get type checker catch instantiation exception illegal access exception e logger evt log error checker error e return response entity ok checker map 
instance controller get mapping list secure parser name resource parser class action action type read public object node list http servlet request request throw exception string namespace id web util optional request common param namespace id constant default namespace id string service name web util require request common param service name string agent web util get user agent request string cluster web util optional request cluster string util empty string client i p web util optional request client i p string util empty int udp port integer parse int web util optional request udp port string env web util optional request env string util empty boolean be check boolean parse boolean web util optional request be check false string app web util optional request app string util empty string tenant web util optional request tid string util empty boolean healthy only boolean parse boolean web util optional request healthy only false return do srv ipxt namespace id service name agent cluster client i p udp port env be check app tenant healthy only 
instance controller get map secure parser name resource parser class action action type read public object node detail http servlet request request throw exception string namespace id web util optional request common param namespace id constant default namespace id string service name web util require request common param service name string cluster web util optional request common param cluster name util and common default cluster name string ip web util require request ip int port integer parse int web util require request port service service service manager get service namespace id service name if service null throw new naco exception naco exception not find no service service name find list string cluster new array list cluster add cluster list instance ip service all i ps cluster if ips null ip be empty throw new naco exception naco exception not find no ip find for cluster cluster in service service name for instance instance ip if instance get ip equal ip instance get port port object node result jackson util create empty json node result put service service name result put ip ip result put port port result put cluster name cluster result put weight instance get weight result put healthy instance be healthy result put metadata jackson util transfer to json node instance get metadata result put instance id instance get instance id return result throw new naco exception naco exception not find no match ip find 
operator controller get map switch public switch domain switch http servlet request request return switch domain 
operator controller secure resource name metric action action type read get map metric public object node metric http servlet request request object node result jackson util create empty json node int service count service manager get service count int ip count service manager get instance count int responsible dom count service manager get responsible service count int responsible ip count service manager get responsible instance count result put status server status manager get server status name result put service count service count result put instance count ip count result put raft notify task count raft core get notify task count result put responsible service count responsible dom count result put responsible instance count responsible ip count result put cpu application util get c p u result put load application util get load result put mem application util get mem return result 
operator controller get map distro server public object node get responsible server4 service request param default value constant default namespace id string namespace id request param string service name service service service manager get service namespace id service name if service null throw new illegal argument exception service not find object node result jackson util create empty json node result put responsible server distro mapper map srv service name return result 
operator controller get map distro status public object node distro status request param default value view string action object node result jackson util create empty json node if string util equal switch entry action view action result replace status jackson util transfer to json node member manager all member return result return result 
operator controller get map server public object node get healthy server list request param require false boolean healthy object node result jackson util create empty json node if healthy list member healthy member member manager all member stream filter member member get state node state up collect array list new array list add array list add all result replace server jackson util transfer to json node healthy member else result replace server jackson util transfer to json node member manager all member return result 
raft controller get mapping peer public json node get peer http servlet request request http servlet response response list raft peer peer raft core get peer raft peer peer null for raft peer peer1 peer if string util equal peer1 ip net util local server peer peer1 if peer null peer new raft peer peer ip net util local server return jackson util transfer to json node peer 
raft controller get map datum public string get http servlet request request http servlet response response throw exception response set header content type application json charset get accept encode request response set header cache control no cache response set header content encode gzip string key string web util require request key key string u be l decoder decode key string utf string key key string split list datum datum new array list datum for string key key datum datum raft core get datum key datum add datum return jackson util to json datum 
raft controller get map state public json node state http servlet request request http servlet response response throw exception response set header content type application json charset get accept encode request response set header cache control no cache response set header content encode gzip object node result jackson util create empty json node result put service service manager get service count result replace peer jackson util transfer to json node raft core get peer return result 
raft controller get map leader public json node get leader http servlet request request http servlet response response object node result jackson util create empty json node result put leader jackson util to json raft core get leader return result 
raft controller get map listener public json node get all listener http servlet request request http servlet response response object node result jackson util create empty json node map string list record listener listener raft core get listener array node listener array jackson util create empty array node for string key listener key set listener array add key result replace listener listener array return result 
service controller get map secure parser name resource parser class action action type read public object node detail request param default value constant default namespace id string namespace id request param string service name throw naco exception service service service manager get service namespace id service name if service null throw new naco exception naco exception not find service service name be not find object node re jackson util create empty json node re put name name util get service name service name re put namespace id service get namespace id re put protect threshold service get protect threshold re replace metadata jackson util transfer to json node service get metadata re replace selector jackson util transfer to json node service get selector re put group name name util get group name service name array node cluster jackson util create empty array node for cluster cluster service get cluster map value object node cluster json jackson util create empty json node cluster json put name cluster get name cluster json replace health checker jackson util transfer to json node cluster get health checker cluster json replace metadata jackson util transfer to json node cluster get metadata cluster add cluster json re replace cluster cluster return re 
service controller get mapping list secure parser name resource parser class action action type read public object node list http servlet request request throw exception final int page no number util to int web util require request page no final int page size number util to int web util require request page size string namespace id web util optional request common param namespace id constant default namespace id string group name web util optional request common param group name constant default group string selector string web util optional request selector string util empty list string service name list service manager get all service name list namespace id object node result jackson util create empty json node if service name list null service name list be empty result replace dom jackson util transfer to json node collection empty list result put count return result service name list remove if service name service name start with group name constant service info spliter if string util be not blank selector string json node selector json jackson util to obj selector string selector type selector type selector type value of selector json get type as text string expression selector json get expression as text if selector type label equal selector type string util be not blank expression expression string util delete whitespace expression now we only support the following expression instance metadata xxx yyy or service metadata xxx yyy string term expression split string factor term split switch factor case instance service name list filter instance metadata namespace id service name list factor factor length term replace break case service service name list filter service metadata namespace id service name list factor factor length term replace break default break int start page no page size if start start int end start page size if end service name list size end service name list size for int i start i end i service name list set i service name list get i replace group name constant service info spliter result replace dom jackson util transfer to json node service name list sub list start end result put count service name list size return result 
service controller get map subscriber secure parser name resource parser class action action type read public object node subscriber http servlet request request int page no number util to int web util require request page no int page size number util to int web util require request page size string namespace id web util optional request common param namespace id constant default namespace id string service name web util require request common param service name boolean aggregation boolean parse boolean web util optional request aggregation string value of boolean true object node result jackson util create empty json node try list subscriber subscriber subscribe manager get subscriber service name namespace id aggregation int start page no page size if start start int end start page size int count subscriber size if end count end count result replace subscriber jackson util transfer to json node subscriber sub list start end result put count count return result catch exception e logger srv log warn query subscriber fail e result replace subscriber jackson util create empty array node result put count return result 
web flux test controller get map hello public string api hello return hello 
web flux test controller get mapping flux public flux integer api flux return flux range 
web flux test controller get map error public mono api error return mono error new flow exception test web flux error 
web flux test controller get map foo id public string api foo path variable id long id return hello id 
test controller get map hello public string api hello return hello 
test controller get mapping err public string api error return oops 
test controller get map foo id public string api foo path variable id long id return foo id 
test controller get map runtime exception public string runtime exception int i return runtime exception 
test controller get mapping exclude id public string api exclude path variable id long id return exclude id 
test controller get map hello public string api hello return hello 
test controller get mapping err public string api error return oops 
test controller get map foo id public string api foo path variable id long id return hello id 
test controller get mapping exclude id public string api exclude path variable id long id return exclude id 
test context controller get map hello public string api hello return hello 
test method controller get map hello public string api hello return hello 
app controller get map name json public result list string query app http servlet request request return result of success app management get app name 
app controller get map briefinfo json public result list app info query app info http servlet request request list app info list new array list app management get brief app collection sort list comparator compare app info get app return result of success list 
app controller get mapping value app machine json public result list machine info vo get machine by app path variable app string app app info app info app management get detail app app if app info null return result of success null list machine info list new array list app info get machine collection sort list comparator compare machine info get app then compare machine info get ip then compare int machine info get port return result of success machine info vo from machine info list list 
authority rule controller get mapping rule auth action privilege type read rule public result list authority rule entity api query all rule for machine request param string app request param string ip request param integer port if string util be empty app return result of fail app can not be null or empty if string util be empty ip return result of fail ip can not be null or empty if port null port return result of fail invalid parameter port try list authority rule entity rule sentinel api client fetch authority rule of machine app ip port rule repository save all rule return result of success rule catch throwable throwable logger error error when query authority rule throwable return result of fail throwable get message 
cluster config controller get map state single public result cluster universal state v o api get cluster state request param string app request param string ip request param integer port if string util be empty app return result of fail app can not be null or empty if string util be empty ip return result of fail ip can not be null or empty if port null port return result of fail invalid parameter port if check if support app ip port return unsupported version try return cluster config service get cluster universal state app ip port then apply result of success get catch execution exception ex logger error error when fetch cluster state ex get cause return error response ex catch throwable throwable logger error error when fetch cluster state throwable return result of fail throwable get message 
cluster config controller get map server state app public result list app cluster server state wrap v o api get cluster server state of app path variable string app if string util be empty app return result of fail app can not be null or empty try return cluster config service get cluster universal state app then apply cluster entity util wrap to app cluster server state then apply result of success get catch execution exception ex logger error error when fetch cluster server state of app app ex get cause return error response ex catch throwable throwable logger error error when fetch cluster server state of app app throwable return result of fail throwable get message 
cluster config controller get map client state app public result list app cluster client state wrap v o api get cluster client state of app path variable string app if string util be empty app return result of fail app can not be null or empty try return cluster config service get cluster universal state app then apply cluster entity util wrap to app cluster client state then apply result of success get catch execution exception ex logger error error when fetch cluster token client state of app app ex get cause return error response ex catch throwable throwable logger error error when fetch cluster token client state of app app throwable return result of fail throwable get message 
cluster config controller get map state app public result list cluster universal state pair v o api get cluster state of app path variable string app if string util be empty app return result of fail app can not be null or empty try return cluster config service get cluster universal state app then apply result of success get catch execution exception ex logger error error when fetch cluster state of app app ex get cause return error response ex catch throwable throwable logger error error when fetch cluster state of app app throwable return result of fail throwable get message 
flow controller v1 get mapping rule auth action privilege type read rule public result list flow rule entity api query machine rule request param string app request param string ip request param integer port if string util be empty app return result of fail app can t be null or empty if string util be empty ip return result of fail ip can t be null or empty if port null return result of fail port can t be null try list flow rule entity rule sentinel api client fetch flow rule of machine app ip port rule repository save all rule return result of success rule catch throwable throwable logger error error when query flow rule throwable return result of throwable throwable 
gateway api controller get mapping list json auth action auth service privilege type read rule public result list api definition entity query apis string app string ip integer port if string util be empty app return result of fail app can t be null or empty if string util be empty ip return result of fail ip can t be null or empty if port null return result of fail port can t be null try list api definition entity apis sentinel api client fetch apis app ip port get repository save all apis return result of success api catch throwable throwable logger error query apis error throwable return result of throwable throwable 
gateway flow rule controller get mapping list json auth action auth service privilege type read rule public result list gateway flow rule entity query flow rule string app string ip integer port if string util be empty app return result of fail app can t be null or empty if string util be empty ip return result of fail ip can t be null or empty if port null return result of fail port can t be null try list gateway flow rule entity rule sentinel api client fetch gateway flow rule app ip port get repository save all rule return result of success rule catch throwable throwable logger error query gateway flow rule error throwable return result of throwable throwable 
param flow rule controller get mapping rule auth action privilege type read rule public result list param flow rule entity api query all rule for machine request param string app request param string ip request param integer port if string util be empty app return result of fail app can not be null or empty if string util be empty ip return result of fail ip can not be null or empty if port null port return result of fail invalid parameter port if check if support app ip port return unsupported version try return sentinel api client fetch param flow rule of machine app ip port then apply repository save all then apply result of success get catch execution exception ex logger error error when query parameter flow rule ex get cause if be not support ex get cause return unsupported version else return result of throwable ex get cause catch throwable throwable logger error error when query parameter flow rule throwable return result of fail throwable get message 
resource controller get map machine resource json public result list resource vo fetch resource chain list of machine string ip integer port string type string search key if string util be empty ip port null return result of fail invalid param give ip port final string root root final string default default if string util be empty type type root if root equal ignore case type default equal ignore case type list node vo node vo http fetcher fetch resource of machine ip port type if node vos null return result of success null resource tree node tree node resource tree node from node vo list node vo tree node search ignore case search key return result of success resource vo from resource tree node tree node else normal cluster node list node vo node vo http fetcher fetch cluster node of machine ip port true if node vos null return result of success null if string util be not empty search key node vo node vos stream filter node node get resource to lower case contain search key to lower case collect collector to list return result of success resource vo from node vo list node vo 
system controller get mapping rule json auth action privilege type read rule public result list system rule entity api query machine rule string app string ip integer port result list system rule entity check result check basic param app ip port if check result null return check result try list system rule entity rule sentinel api client fetch system rule of machine app ip port rule repository save all rule return result of success rule catch throwable throwable logger error query machine system rule error throwable return result of throwable throwable 
system controller get map save json auth action privilege type write rule public result system rule entity api update if not null long id string app double highest system load double highest cpu usage long avg rt long max thread double qp if id null return result of fail id can t be null system rule entity entity repository find by id id if entity null return result of fail id id dose not exist if string util be not blank app entity set app app trim if highest system load null if highest system load return result of fail highest system load must entity set highest system load highest system load if highest cpu usage null if highest cpu usage return result of fail highest cpu usage must if highest cpu usage return result of fail highest cpu usage must entity set highest cpu usage highest cpu usage if avg rt null if avg rt return result of fail avg rt must entity set avg rt avg rt if max thread null if max thread return result of fail max thread must entity set max thread max thread if qps null if qp return result of fail qp must entity set qp qps date date new date entity set gmt modify date try entity repository save entity catch throwable throwable logger error save error throwable return result of throwable throwable if publish rule entity get app entity get ip entity get port logger info publish system rule fail after rule update return result of success entity 
flow controller v2 get mapping rule auth action privilege type read rule public result list flow rule entity api query machine rule request param string app if string util be empty app return result of fail app can t be null or empty try list flow rule entity rule rule provider get rule app if rule null rule be empty for flow rule entity entity rule entity set app app if entity get cluster config null entity get cluster config get flow id null entity set id entity get cluster config get flow id rule repository save all rule return result of success rule catch throwable throwable logger error error when query flow rule throwable return result of throwable throwable 
version controller get map version public result string api get version if string util be not blank sentinel dashboard version string re sentinel dashboard version if sentinel dashboard version contain version pattern re sentinel dashboard version substr sentinel dashboard version index of version pattern return result of success re else return result of fail get version fail empty version 
demo controller get map foo public string api foo request param require false long t throw exception if t null t system current time millis service test return service hello t 
demo controller get map baz name public string api baz path variable name string name return service hello another name 
cluster demo controller get map hello name public string api hello path variable string name throw exception return service say hello name 
baz controller get mapping id public mono string api get value path variable id long id return baz service get by id id transform new sentinel reactor transformer baz service get by id 
foo controller get map single public mono string api normal single return foo service emit single transform the publisher here transform new sentinel reactor transformer demo foo normal single 
foo controller get mapping flux public flux integer api normal flux return foo service emit multiple transform new sentinel reactor transformer demo foo normal flux 
foo controller get map slow public mono string api do something slow server http response response return foo service do something slow 
web mvc test controller get map hello public string api hello do business return hello 
web mvc test controller get mapping err public string api error do business return oops 
web mvc test controller get map foo id public string api foo path variable id long id do business return hello id 
web mvc test controller get mapping exclude id public string api exclude path variable id long id do business return exclude id 
spring could datum source test get map get response body public list flow rule get spring cloud config datum source datum source new spring cloud config datum source flow rule converter flow rule manager register2 property datum source get property return flow rule manager get rule 
spring could datum source test get map refresh response body public list flow rule refresh locator refresh return flow rule manager get rule 
