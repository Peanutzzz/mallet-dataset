command  mapping  name  gateway  get  api  definitions  desc    fetch  all  customized  gateway  api  groups  public  class    get  gateway  api  definition  group  command  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request  return    command  response  of  success  json  to  j  s  o  n  string    gateway  api  definition  manager  get  api  definitions  
command  mapping  name  gateway  get  rules  desc    fetch  all  gateway  rules  public  class    get  gateway  rule  command  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request  return    command  response  of  success  json  to  j  s  o  n  string    gateway  rule  manager  get  rules  
command  mapping  name  gateway  update  api  definitions  desc  public  class    update  gateway  api  definition  group  command  handler  implements    command  handler    string  private  static    writable  data  source    set    api  definition  api  definition  wds  null    override  public    command  response    string  handle    command  request  request    string  data  request  get  param  data  if    string  util  is  blank  data  return    command  response  of  failure  new    illegal  argument  exception    bad  data  try  data    u  r  l  decoder  decode  data  utf    catch    exception  e    record  log  info    decode  gateway  api  definition  data  error  e  return    command  response  of  failure  e  decode  gateway  api  definition  data  error    record  log  info  api    server    receiving  data  change  type  gateway  api  definition  data    string  result  success  msg    set    api  definition  api  definitions  parse  json  data    gateway  api  definition  manager  load  api  definitions  api  definitions  if  write  to  data  source  api  definition  wds  api  definitions  result  write  ds  failure  msg  return    command  response  of  success  result  private  static  final    string  success  msg  success  private  static  final    string  write  ds  failure  msg  partial  success  write  data  source  failed    parse  json  data  to  set  of  link    api  definition    since  the  predicate  items  of  link    api  definition  is  set  of  interface  here  we  parse  predicate  items  to  link    api  path  predicate  item  temporarily  private    set    api  definition  parse  json    string  data    set    api  definition  api  definitions  new    hash  set    j  s  o  n  array  array  json  parse  array  data  for    object  obj  array    j  s  o  n  object  o    j  s  o  n  object  obj    api  definition  api  definition  new    api  definition  o  get  string  api  name    set    api  predicate  item  predicate  items  new    hash  set    j  s  o  n  array  item  array  o  get  j  s  o  n  array  predicate  items  if  item  array  null  predicate  items  add  all  item  array  to  java  list    api  path  predicate  item  class  api  definition  set  predicate  items  predicate  items  api  definitions  add  api  definition  return  api  definitions    write  target  value  to  given  data  source  param  data  source  writable  data  source  param  value  target  value  to  save  param  t  value  type  return  true  if  write  successful  or  data  source  is  empty  false  if  error  occurs  private  t  boolean  write  to  data  source    writable  data  source  t  data  source  t  value  if  data  source  null  try  data  source  write  value  catch    exception  e    record  log  warn    write  data  source  failed  e  return  false  return  true  public  synchronized  static    writable  data  source    set    api  definition  get  writable  data  source  return  api  definition  wds  public  synchronized  static  void  set  writable  data  source    writable  data  source    set    api  definition  api  definition  wds    update  gateway  api  definition  group  command  handler  api  definition  wds  api  definition  wds  
command  mapping  name  gateway  update  rules  desc    update  gateway  rules  public  class    update  gateway  rule  command  handler  implements    command  handler    string  private  static    writable  data  source    set    gateway  flow  rule  gateway  flow  wds  null    override  public    command  response    string  handle    command  request  request    string  data  request  get  param  data  if    string  util  is  blank  data  return    command  response  of  failure  new    illegal  argument  exception    bad  data  try  data    u  r  l  decoder  decode  data  utf    catch    exception  e    record  log  info    decode  gateway  rule  data  error  e  return    command  response  of  failure  e  decode  gateway  rule  data  error    record  log  info    string  format  api    server    receiving  rule  change  type  gateway  rule  s  data    string  result  success  msg    set    gateway  flow  rule  flow  rules  json  parse  object  data  new    type  reference    set    gateway  flow  rule    gateway  rule  manager  load  rules  flow  rules  if  write  to  data  source  gateway  flow  wds  flow  rules  result  write  ds  failure  msg  return    command  response  of  success  result    write  target  value  to  given  data  source  param  data  source  writable  data  source  param  value  target  value  to  save  param  t  value  type  return  true  if  write  successful  or  data  source  is  empty  false  if  error  occurs  private  t  boolean  write  to  data  source    writable  data  source  t  data  source  t  value  if  data  source  null  try  data  source  write  value  catch    exception  e    record  log  warn    write  data  source  failed  e  return  false  return  true  public  synchronized  static    writable  data  source    set    gateway  flow  rule  get  writable  data  source  return  gateway  flow  wds  public  synchronized  static  void  set  writable  data  source    writable  data  source    set    gateway  flow  rule  gateway  flow  wds    update  gateway  rule  command  handler  gateway  flow  wds  gateway  flow  wds  private  static  final    string  success  msg  success  private  static  final    string  write  ds  failure  msg  partial  success  write  data  source  failed  
command  mapping  name  cluster  client  fetch  config  desc  get  cluster  client  config  public  class    fetch  cluster  client  config  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request    cluster  client  state  entity  state  v  o  new    cluster  client  state  entity  set  server  host    cluster  client  config  manager  get  server  host  set  server  port    cluster  client  config  manager  get  server  port  set  request  timeout    cluster  client  config  manager  get  request  timeout  if    token  client  provider  is  client  spi  available  state  v  o  set  client  state    token  client  provider  get  client  get  state  else  state  v  o  set  client  state    client  constants  client  status  off  return    command  response  of  success  json  to  j  s  o  n  string  state  v  o  
command  mapping  name  cluster  client  modify  config  desc  modify  cluster  client  config  public  class    modify  cluster  client  config  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request    string  data  request  get  param  data  if    string  util  is  blank  data  return    command  response  of  failure  new    illegal  argument  exception  empty  data  try  data    u  r  l  decoder  decode  data  utf      record  log  info    modify  cluster  client  config  handler    receiving  cluster  client  config  data    cluster  client  state  entity  entity  json  parse  object  data    cluster  client  state  entity  class    cluster  client  config  manager  apply  new  config  entity  to  client  config    cluster  client  config  manager  apply  new  assign  config  entity  to  assign  config  return    command  response  of  success    command  constants  msg  success  catch    exception  e    record  log  warn    modify  cluster  client  config  handler    decode  client  cluster  config  error  e  return    command  response  of  failure  e  decode  client  cluster  config  error  
command  mapping  name  cluster  server  flow  rules  desc  get  cluster  flow  rules  public  class    fetch  cluster  flow  rules  command  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request    string  namespace  request  get  param  namespace  if    string  util  is  empty  namespace  return    command  response  of  success  json  to  j  s  o  n  string    cluster  flow  rule  manager  get  all  flow  rules  else  return    command  response  of  success  json  to  j  s  o  n  string    cluster  flow  rule  manager  get  flow  rules  namespace  
command  mapping  name  cluster  server  metric  list  desc  get  cluster  server  metrics  public  class    fetch  cluster  metric  command  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request    string  namespace  request  get  param  namespace  if    string  util  is  empty  namespace  return    command  response  of  failure  new    illegal  argument  exception  failed  namespace  cannot  be  empty  return    command  response  of  success  json  to  j  s  o  n  string    cluster  metric  node  generator  generate  current  node  map  namespace  
command  mapping  name  cluster  server  param  rules  desc  get  cluster  server  param  flow  rules  public  class    fetch  cluster  param  flow  rules  command  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request    string  namespace  request  get  param  namespace  if    string  util  is  empty  namespace  return    command  response  of  success  json  to  j  s  o  n  string    cluster  param  flow  rule  manager  get  all  param  rules  else  return    command  response  of  success  json  to  j  s  o  n  string    cluster  param  flow  rule  manager  get  param  rules  namespace  
command  mapping  name  cluster  server  fetch  config  desc  get  cluster  server  config  public  class    fetch  cluster  server  config  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request    string  namespace  request  get  param  namespace  if    string  util  is  empty  namespace  return  global  config  result  return  namespace  config  result  namespace  private    command  response    string  namespace  config  result    non  empty    string  namespace    server  flow  config  flow  config  new    server  flow  config  set  exceed  count    cluster  server  config  manager  get  exceed  count  namespace  set  max  occupy  ratio    cluster  server  config  manager  get  max  occupy  ratio  namespace  set  interval  ms    cluster  server  config  manager  get  interval  ms  namespace  set  sample  count    cluster  server  config  manager  get  sample  count  namespace    j  s  o  n  object  config  new    j  s  o  n  object  fluent  put  flow  flow  config  return    command  response  of  success  config  to  j  s  o  n  string  private    command  response    string  global  config  result    server  transport  config  transport  config  new    server  transport  config  set  port    cluster  server  config  manager  get  port  set  idle  seconds    cluster  server  config  manager  get  idle  seconds    server  flow  config  flow  config  new    server  flow  config  set  exceed  count    cluster  server  config  manager  get  exceed  count  set  max  occupy  ratio    cluster  server  config  manager  get  max  occupy  ratio  set  interval  ms    cluster  server  config  manager  get  interval  ms  set  sample  count    cluster  server  config  manager  get  sample  count    j  s  o  n  object  config  new    j  s  o  n  object  fluent  put  transport  transport  config  fluent  put  flow  flow  config  fluent  put  namespace  set    cluster  server  config  manager  get  namespace  set  return    command  response  of  success  config  to  j  s  o  n  string  
command  mapping  name  cluster  server  info  desc  get  cluster  server  info  public  class    fetch  cluster  server  info  command  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request    j  s  o  n  object  info  new    j  s  o  n  object    j  s  o  n  array  connection  groups  new    j  s  o  n  array    set    string  namespace  set    cluster  server  config  manager  get  namespace  set  for    string  namespace  namespace  set    connection  group  group    connection  manager  get  or  create  connection  group  namespace  if  group  null  connection  groups  add  group    server  transport  config  transport  config  new    server  transport  config  set  port    cluster  server  config  manager  get  port  set  idle  seconds    cluster  server  config  manager  get  idle  seconds    server  flow  config  flow  config  new    server  flow  config  set  exceed  count    cluster  server  config  manager  get  exceed  count  set  max  occupy  ratio    cluster  server  config  manager  get  max  occupy  ratio  set  interval  ms    cluster  server  config  manager  get  interval  ms  set  sample  count    cluster  server  config  manager  get  sample  count  set  max  allowed  qps    cluster  server  config  manager  get  max  allowed  qps    j  s  o  n  array  request  limit  data  build  request  limit  data  namespace  set  info  fluent  put  port    cluster  server  config  manager  get  port  fluent  put  connection  connection  groups  fluent  put  request  limit  data  request  limit  data  fluent  put  transport  transport  config  fluent  put  flow  flow  config  fluent  put  namespace  set  namespace  set  fluent  put  embedded    cluster  server  config  manager  is  embedded    since  1.5    the  app  name  is  carried  so  that  the  caller  can  identify  the  app  name  of  the  token  server  info  put  app  name    app  name  util  get  app  name  return    command  response  of  success  info  to  j  s  o  n  string  private    j  s  o  n  array  build  request  limit  data    set    string  namespace  set    j  s  o  n  array  array  new    j  s  o  n  array  for    string  namespace  namespace  set  array  add  new    j  s  o  n  object  fluent  put  namespace  namespace  fluent  put  current  qps    global  request  limiter  get  current  qps  namespace  fluent  put  max  allowed  qps    global  request  limiter  get  max  allowed  qps  namespace  return  array  
command  mapping  name  cluster  server  modify  flow  rules  desc  modify  cluster  flow  rules  public  class    modify  cluster  flow  rules  command  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request    string  namespace  request  get  param  namespace  if    string  util  is  empty  namespace  return    command  response  of  failure  new    illegal  argument  exception  empty  namespace    string  data  request  get  param  data  if    string  util  is  blank  data  return    command  response  of  failure  new    illegal  argument  exception  empty  data  try  data    u  r  l  decoder  decode  data  utf      record  log  info    modify  cluster  flow  rules  command  handler    receiving  cluster  flow  rules  for  namespace  namespace  data    list    flow  rule  flow  rules    j  s  o  n  array  parse  array  data    flow  rule  class    cluster  flow  rule  manager  load  rules  namespace  flow  rules  return    command  response  of  success  success  catch    exception  e    record  log  warn    modify  cluster  flow  rules  command  handler    decode  cluster  flow  rules  error  e  return    command  response  of  failure  e  decode  cluster  flow  rules  error  private  static  final    string  success  success  
command  mapping  name  cluster  server  modify  param  rules  desc  modify  cluster  param  flow  rules  public  class    modify  cluster  param  flow  rules  command  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request    string  namespace  request  get  param  namespace  if    string  util  is  empty  namespace  return    command  response  of  failure  new    illegal  argument  exception  empty  namespace    string  data  request  get  param  data  if    string  util  is  blank  data  return    command  response  of  failure  new    illegal  argument  exception  empty  data  try  data    u  r  l  decoder  decode  data  utf      record  log  info    receiving  cluster  param  rules  for  namespace  from  command  handler  namespace  data    list    param  flow  rule  flow  rules    j  s  o  n  array  parse  array  data    param  flow  rule  class    cluster  param  flow  rule  manager  load  rules  namespace  flow  rules  return    command  response  of  success  success  catch    exception  e    record  log  warn    modify  cluster  param  flow  rules  command  handler    decode  cluster  param  rules  error  e  return    command  response  of  failure  e  decode  cluster  param  rules  error  private  static  final    string  success  success  
command  mapping  name  cluster  server  modify  flow  config  desc  modify  cluster  server  flow  config  public  class    modify  cluster  server  flow  config  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request    string  data  request  get  param  data  if    string  util  is  blank  data  return    command  response  of  failure  new    illegal  argument  exception  empty  data    string  namespace  request  get  param  namespace  try  data    u  r  l  decoder  decode  data  utf    if    string  util  is  empty  namespace    record  log  info    modify  cluster  server  flow  config  handler    receiving  cluster  server  global  flow  config  data    server  flow  config  config  json  parse  object  data    server  flow  config  class  if    cluster  server  config  manager  is  valid  flow  config  config    command  response  of  failure  new    illegal  argument  exception    bad  flow  config    cluster  server  config  manager  load  global  flow  config  config  else    record  log  info    modify  cluster  server  flow  config  handler    receiving  cluster  server  flow  config  for  namespace  namespace  data    server  flow  config  config  json  parse  object  data    server  flow  config  class  if    cluster  server  config  manager  is  valid  flow  config  config    command  response  of  failure  new    illegal  argument  exception    bad  flow  config    cluster  server  config  manager  load  flow  config  namespace  config  return    command  response  of  success  success  catch    exception  e    record  log  warn    modify  cluster  server  flow  config  handler    decode  cluster  server  flow  config  error  e  return    command  response  of  failure  e  decode  cluster  server  flow  config  error  
command  mapping  name  cluster  server  modify  transport  config  desc  modify  cluster  server  transport  config  public  class    modify  cluster  server  transport  config  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request    string  port  value  request  get  param  port  if    string  util  is  blank  port  value  return    command  response  of  failure  new    illegal  argument  exception  invalid  empty  port    string  idle  seconds  value  request  get  param  idle  seconds  if    string  util  is  blank  idle  seconds  value  return    command  response  of  failure  new    illegal  argument  exception  invalid  empty  idle  seconds  try  int  port    integer  value  of  port  value  int  idle  seconds    integer  value  of  idle  seconds  value    cluster  server  config  manager  load  global  transport  config  new    server  transport  config  set  port  port  set  idle  seconds  idle  seconds  return    command  response  of  success  success  catch    number  format  exception  e  return    command  response  of  failure  new    illegal  argument  exception  invalid  parameter  catch    exception  ex  return    command  response  of  failure  new    illegal  argument  exception  unexpected  error  
command  mapping  name  cluster  server  modify  namespace  set  desc  modify  server  namespace  set  public  class    modify  server  namespace  set  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request    string  data  request  get  param  data  if    string  util  is  blank  data  return    command  response  of  failure  new    illegal  argument  exception  empty  data  try  data    u  r  l  decoder  decode  data  utf      record  log  info    modify  server  namespace  set  handler    receiving  cluster  server  namespace  set  data    set    string  set  json  parse  object  data  new    type  reference    set    string    cluster  server  config  manager  load  server  namespace  set  set  return    command  response  of  success  success  catch    exception  e    record  log  warn    modify  server  namespace  set  handler    decode  cluster  server  namespace  set  error  e  return    command  response  of  failure  e  decode  client  cluster  config  error  
command  mapping  name  echo  desc  echo  command  for  demo  public  class    echo  command  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request    string  name  request  get  param  name  if  name  null  name  trim  length    return    command  response  of  success    tell  us  what  s  your  name  by  submit  a  name  parameter  return    command  response  of  success    hello  name  
command  mapping  name  get  param  flow  rules  desc    get  all  parameter  flow  rules  public  class    get  param  flow  rules  command  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request  return    command  response  of  success  json  to  j  s  o  n  string    param  flow  rule  manager  get  rules  
command  mapping  name  set  param  flow  rules  desc    set  parameter  flow  rules  while  previous  rules  will  be  replaced  public  class    modify  param  flow  rules  command  handler  implements    command  handler    string  private  static    writable  data  source    list    param  flow  rule  param  flow  wds  null    override  public    command  response    string  handle    command  request  request    string  data  request  get  param  data  if    string  util  is  blank  data  return    command  response  of  failure  new    illegal  argument  exception    bad  data  try  data    u  r  l  decoder  decode  data  utf    catch    exception  e    record  log  info    decode  rule  data  error  e  return    command  response  of  failure  e  decode  rule  data  error    record  log  info    string  format  api    server    receiving  rule  change  type  parameter  flow  rule  s  data    string  result  success  msg    list    param  flow  rule  flow  rules    j  s  o  n  array  parse  array  data    param  flow  rule  class    param  flow  rule  manager  load  rules  flow  rules  if  write  to  data  source  param  flow  wds  flow  rules  result  write  ds  failure  msg  return    command  response  of  success  result    write  target  value  to  given  data  source  param  data  source  writable  data  source  param  value  target  value  to  save  param  t  value  type  return  true  if  write  successful  or  data  source  is  empty  false  if  error  occurs  private  t  boolean  write  to  data  source    writable  data  source  t  data  source  t  value  if  data  source  null  try  data  source  write  value  catch    exception  e    record  log  warn    write  data  source  failed  e  return  false  return  true  public  synchronized  static    writable  data  source    list    param  flow  rule  get  writable  data  source  return  param  flow  wds  public  synchronized  static  void  set  writable  data  source    writable  data  source    list    param  flow  rule  hot  param  wds    modify  param  flow  rules  command  handler  param  flow  wds  hot  param  wds  private  static  final    string  success  msg  success  private  static  final    string  write  ds  failure  msg  partial  success  write  data  source  failed  
command  mapping  name  api  desc  get  all  available  command  handlers  public  class    api  command  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request    map    string    command  handler  handlers    command  handler  provider  get  instance  named  handlers    j  s  o  n  array  array  new    j  s  o  n  array  if  handlers  is  empty  return    command  response  of  success  array  to  j  s  o  n  string  for    command  handler  handler  handlers  values    command  mapping  command  mapping  handler  get  class  get  annotation    command  mapping  class  if  command  mapping  null  continue    string  api  command  mapping  name    string  desc  command  mapping  desc    j  s  o  n  object  obj  new    j  s  o  n  object  obj  put  url  api  obj  put  desc  desc  array  add  obj  return    command  response  of  success  array  to  j  s  o  n  string  
command  mapping  name  basic  info  desc  get  sentinel  config  info  public  class    basic  info  command  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request  return    command  response  of  success    host  name  util  get  config  string  
command  mapping  name  get  cluster  mode  desc  get  cluster  mode  status  public  class    fetch  cluster  mode  command  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request    j  s  o  n  object  res  new    j  s  o  n  object  fluent  put  mode    cluster  state  manager  get  mode  fluent  put  last  modified    cluster  state  manager  get  last  modified  fluent  put  client  available  is  cluster  client  spi  available  fluent  put  server  available  is  cluster  server  spi  available  return    command  response  of  success  res  to  j  s  o  n  string  private  boolean  is  cluster  client  spi  available  return    token  client  provider  get  client  null  private  boolean  is  cluster  server  spi  available  return    embedded  cluster  token  server  provider  get  server  null  
command  mapping  name  set  cluster  mode  desc  set  cluster  mode  accept  param  mode  0|1    client  mode    server  mode  public  class    modify  cluster  mode  command  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request  try  int  mode    integer  value  of  request  get  param  mode  if  mode    cluster  state  manager  cluster  client    token  client  provider  is  client  spi  available  return    command  response  of  failure  new    illegal  state  exception  token  client  mode  not  available  no  spi  found  if  mode    cluster  state  manager  cluster  server  is  cluster  server  spi  available  return    command  response  of  failure  new    illegal  state  exception  token  server  mode  not  available  no  spi  found    record  log  info    modify  cluster  mode  command  handler    modifying  cluster  mode  to  mode    cluster  state  manager  apply  state  mode  return    command  response  of  success  success  catch    number  format  exception  ex  return    command  response  of  failure  new    illegal  argument  exception  invalid  parameter  catch    exception  ex  return    command  response  of  failure  ex  private  boolean  is  cluster  server  spi  available  return    embedded  cluster  token  server  provider  is  server  spi  available  
command  mapping  name  get  rules  desc  get  all  active  rules  by  type  request  param  type  rule  type  public  class    fetch  active  rule  command  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request    string  type  request  get  param  type  if  flow  equals  ignore  case  type  return    command  response  of  success  json  to  j  s  o  n  string    flow  rule  manager  get  rules  else  if  degrade  equals  ignore  case  type  return    command  response  of  success  json  to  j  s  o  n  string    degrade  rule  manager  get  rules  else  if  authority  equals  ignore  case  type  return    command  response  of  success  json  to  j  s  o  n  string    authority  rule  manager  get  rules  else  if  system  equals  ignore  case  type  return    command  response  of  success  json  to  j  s  o  n  string    system  rule  manager  get  rules  else  return    command  response  of  failure  new    illegal  argument  exception  invalid  type  
command  mapping  name  cluster  node  by  id  desc  get  cluster  node  vo  by  id  request  param  id  resource  name  public  class    fetch  cluster  node  by  id  command  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request    string  id  request  get  param  id  if    string  util  is  empty  id  return    command  response  of  failure  new    illegal  argument  exception    invalid  parameter  empty  cluster  node  name    cluster  node  node    cluster  builder  slot  get  cluster  node  id  if  node  null  return    command  response  of  success  json  to  j  s  o  n  string    node  vo  from  cluster  node  id  node  else  return    command  response  of  success  
command  mapping  name  cnode  desc  get  cluster  node  metrics  by  id  request  param  id  resource  name  public  class    fetch  cluster  node  human  command  handler  implements    command  handler    string  private  final  static    string  format  4s  80s  10s  10s  10s  11s  9s  6s  10s  11s  9s  11s  private  final  static  int  max  len      override  public    command  response    string  handle    command  request  request    string  name  request  get  param  id  if    string  util  is  empty  name  return    command  response  of  failure  new    illegal  argument  exception    invalid  parameter  empty  cluster  node  name    string  builder  sb  new    string  builder  int  i    int  name  length    for    entry    resource  wrapper    cluster  node  e    cluster  builder  slot  get  cluster  node  map  entry  set  if  e  get  key  get  name  contains  name  int  l  e  get  key  get  show  name  length  if  l  name  length  name  length  l  if  i    break  name  length  name  length  max  len  max  len  name  length    string  format  format  replace  all      string  value  of  name  length    sb  append    string  format  format  idx  id  thread  pass  blocked  success  total  a  rt  1m  pass  1m  block  1m  all  exception  append  n  for    entry    resource  wrapper    cluster  node  e    cluster  builder  slot  get  cluster  node  map  entry  set  if  e  get  key  get  name  contains  name    cluster  node  node  e  get  value    string  id  e  get  key  get  show  name  int  len  num  int    math  ceil  double  id  length  name  length    sb  append    string  format  format  i    len  num    id  id  substring    name  length  node  cur  thread  num  node  pass  qps  node  block  qps  node  success  qps  node  total  qps  node  avg  rt  node  total  request  node  block  request  node  block  request  node  total  request  node  exception  qps  append  n  for  int  j    j  len  num  j  int  start  name  length  j  int  end  j  len  num  id  length  name  length  j    sb  append    string  format  format  id  substring  start  end  append  n  if  i    break  return    command  response  of  success  sb  to  string  
command  mapping  name  json  tree  desc  get  tree  node  vo  start  from  root  node  public  class    fetch  json  tree  command  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request    list    node  vo  results  new    array  list    node  vo  visit    constants  root  results  null  return    command  response  of  success  json  to  j  s  o  n  string  results    preorder  traversal  private  void  visit    default  node  node    list    node  vo  results    string  parent  id    node  vo  vo    node  vo  from  default  node  node  parent  id  results  add  vo    string  id  vo  get  id  for    node  n  node  get  child  list  visit    default  node  n  results  id  
command  mapping  name  origin  desc  get  origin  cluster  node  by  id  request  param  id  resource  name  public  class    fetch  origin  command  handler  implements    command  handler    string  private  final  static    string  format  4s  80s  10s  10s  11s  9s  6s  10s  11s  9s  private  final  static  int  max  len      override  public    command  response    string  handle    command  request  request    string  builder  sb  new    string  builder    string  name  request  get  param  id    cluster  node  c  node  null  boolean  exactly  false  for    entry    resource  wrapper    cluster  node  e    cluster  builder  slot  get  cluster  node  map  entry  set  if  e  get  key  get  name  equals  name  c  node  e  get  value  sb  append  id  append  e  get  key  get  show  name  append  n  sb  append  n  exactly  true  break  if  exactly  for    entry    resource  wrapper    cluster  node  e    cluster  builder  slot  get  cluster  node  map  entry  set  if  e  get  key  get  name  index  of  name    c  node  e  get  value  sb  append  id  append  e  get  key  get  show  name  append  n  sb  append  n  break  if  c  node  null  return    command  response  of  success    not  find  c  node  with  id  name  int  i    int  name  length    for    entry    string    statistic  node  e  c  node  get  origin  count  map  entry  set  int  l  e  get  key  length  if  l  name  length  name  length  l  if  i    break  name  length  name  length  max  len  max  len  name  length    string  format  format  replace  all      string  value  of  name  length    i    sb  append    string  format  format  idx  origin  thread  num  pass  qps  block  qps  total  qps  a  rt  1m  pass  1m  block  1m  total  append  n  for    entry    string    statistic  node  e  c  node  get  origin  count  map  entry  set    statistic  node  node  e  get  value    string  id  e  get  key  int  len  num  int    math  ceil  double  id  length  name  length    sb  append    string  format  format  i    len  num    id  id  substring    name  length  node  cur  thread  num  node  pass  qps  node  block  qps  node  total  qps  node  avg  rt  node  total  request  node  block  request  node  block  request  node  total  request  append  n  for  int  j    j  len  num  j  int  start  name  length  j  int  end  j  len  num  id  length  name  length  j    sb  append    string  format  format  id  substring  start  end  append  n  if  i    break  return    command  response  of  success  sb  to  string  
command  mapping  name  cluster  node  desc  get  all  cluster  node  vo  use  type  not  zero  to  ignore  those  nodes  with  total  request    public  class    fetch  simple  cluster  node  command  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request  type  not  zero  means  nodes  whose  total  request    will  be  ignored    string  type  request  get  param  type    list    node  vo  list  new    array  list    node  vo    map    resource  wrapper    cluster  node  map    cluster  builder  slot  get  cluster  node  map  if  map  null  return    command  response  of  success    j  s  o  n  array  to  j  s  o  n  string  list  for    map    entry    resource  wrapper    cluster  node  entry  map  entry  set  if  not  zero  equals  ignore  case  type  if  entry  get  value  total  request    list  add    node  vo  from  cluster  node  entry  get  key  entry  get  value  else  list  add    node  vo  from  cluster  node  entry  get  key  entry  get  value  return    command  response  of  success    j  s  o  n  array  to  j  s  o  n  string  list  
command  mapping  name  system  status  desc  get  system  status  public  class    fetch  system  status  command  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request    map    string    object  system  status  new    hash  map    string    object  system  status  put  rqps    constants  entry  node  success  qps  system  status  put  qps    constants  entry  node  pass  qps  system  status  put  b    constants  entry  node  block  qps  system  status  put  r    constants  entry  node  avg  rt  system  status  put  t    constants  entry  node  cur  thread  num  return    command  response  of  success    j  s  o  n  object  to  j  s  o  n  string  system  status  
command  mapping  name  tree  desc  get  metrics  in  tree  mode  use  id  to  specify  detailed  tree  root  public  class    fetch  tree  command  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request    string  id  request  get  param  id    string  builder  sb  new    string  builder    default  node  start    constants  root  if  id  null  visit  tree    start  sb  else  boolean  exactly  false  for    node  n  start  get  child  list    default  node  dn    default  node  n  if  dn  get  id  get  name  equals  id  visit  tree    dn  sb  exactly  true  break  if  exactly  for    node  n  start  get  child  list    default  node  dn    default  node  n  if  dn  get  id  get  name  contains  id  visit  tree    dn  sb  sb  append  r  n  r  n  sb  append  t  thread  num  pq  pass  qps  bq  block  qps  tq  total  qps  rt  average  rt  prq  pass  request  qps  1mp  1m  pass  1mb  1m  block  1mt  1m  total  append  r  n  return    command  response  of  success  sb  to  string  private  void  visit  tree  int  level    default  node  node    non  null    string  builder  sb  for  int  i    i  level  i  sb  append  if  node  instanceof    entrance  node  sb  append    string  format  s  t  s  pq  s  bq  s  tq  s  rt  s  prq  s  1mp  s  1mb  s  1mt  s  node  get  id  get  show  name  node  cur  thread  num  node  pass  qps  node  block  qps  node  total  qps  node  avg  rt  node  success  qps  node  total  request  node  block  request  node  block  request  node  total  request  append  n  else  sb  append    string  format    entrance  node  s  t  s  pq  s  bq  s  tq  s  rt  s  prq  s  1mp  s  1mb  s  1mt  s  node  get  id  get  show  name  node  cur  thread  num  node  pass  qps  node  block  qps  node  total  qps  node  avg  rt  node  success  qps  node  total  request  node  block  request  node  block  request  node  total  request  append  n  for    node  n  node  get  child  list    default  node  dn    default  node  n  visit  tree  level    dn  sb  
command  mapping  name  set  rules  desc  modify  the  rules  accept  param  type  rule  type  data  rule  json  public  class    modify  rules  command  handler  implements    command  handler    string  private  static  final  int  fastjson  minimal  ver  0x01020    c00    override  public    command  response    string  handle    command  request  request  xxx  from  1.7    force  to  fail  when  fastjson  is  older  than  1.2      we  may  need  a  better  solution  on  this  if    version  util  from  version  string  json  version  fastjson  minimal  ver  fastjson  too  old  return    command  response  of  failure  new    runtime  exception    the  fastjson  json  version  introduced  in  application  is  too  old  you  need  fastjson  1.2    at  least    string  type  request  get  param  type  rule  data  in  get  parameter    string  data  request  get  param  data  if    string  util  is  not  empty  data  try  data    u  r  l  decoder  decode  data  utf    catch    exception  e    record  log  info    decode  rule  data  error  e  return    command  response  of  failure  e  decode  rule  data  error    record  log  info    receiving  rule  change  type  type  data    string  result  success  if  flow  rule  type  equals  ignore  case  type    list    flow  rule  flow  rules    j  s  o  n  array  parse  array  data    flow  rule  class    flow  rule  manager  load  rules  flow  rules  if  write  to  data  source  get  flow  data  source  flow  rules  result  write  ds  failure  msg  return    command  response  of  success  result  else  if  authority  rule  type  equals  ignore  case  type    list    authority  rule  rules    j  s  o  n  array  parse  array  data    authority  rule  class    authority  rule  manager  load  rules  rules  if  write  to  data  source  get  authority  data  source  rules  result  write  ds  failure  msg  return    command  response  of  success  result  else  if  degrade  rule  type  equals  ignore  case  type    list    degrade  rule  rules    j  s  o  n  array  parse  array  data    degrade  rule  class    degrade  rule  manager  load  rules  rules  if  write  to  data  source  get  degrade  data  source  rules  result  write  ds  failure  msg  return    command  response  of  success  result  else  if  system  rule  type  equals  ignore  case  type    list    system  rule  rules    j  s  o  n  array  parse  array  data    system  rule  class    system  rule  manager  load  rules  rules  if  write  to  data  source  get  system  source  rules  result  write  ds  failure  msg  return    command  response  of  success  result  return    command  response  of  failure  new    illegal  argument  exception  invalid  type    write  target  value  to  given  data  source  param  data  source  writable  data  source  param  value  target  value  to  save  param  t  value  type  return  true  if  write  successful  or  data  source  is  empty  false  if  error  occurs  private  t  boolean  write  to  data  source    writable  data  source  t  data  source  t  value  if  data  source  null  try  data  source  write  value  catch    exception  e    record  log  warn    write  data  source  failed  e  return  false  return  true  private  static  final    string  write  ds  failure  msg  partial  success  write  data  source  failed  private  static  final    string  flow  rule  type  flow  private  static  final    string  degrade  rule  type  degrade  private  static  final    string  system  rule  type  system  private  static  final    string  authority  rule  type  authority  
command  mapping  name  get  switch  desc  get  sentinel  switch  status  public  class    on  off  get  command  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request  return    command  response  of  success    sentinel  switch  value    constants  on  
command  mapping  name  set  switch  desc  set  sentinel  switch  accept  param  value  true  false  public  class    on  off  set  command  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request    string  value  request  get  param  value  try    constants  on    boolean  value  of  value  catch    exception  e    record  log  info    bad  value  when  setting  global  switch  e    string  info    sentinel  set  switch  value  value    record  log  info  info  return    command  response  of  success  info  
command  mapping  name  metric  desc  get  and  aggregate  metrics  accept  param  start  time  start  time  end  time  end  time  max  lines  max  lines  identify  resource  name  public  class    send  metric  command  handler  implements    command  handler    string  private  volatile    metric  searcher  searcher  private  final    object  lock  new    object    override  public    command  response    string  handle    command  request  request    note  not  thread  safe  if  searcher  null  synchronized  lock    string  app  name    sentinel  config  get  app  name  if  app  name  null  app  name  if  searcher  null  searcher  new    metric  searcher    metric  writer  metric  base  dir    metric  writer  form  metric  file  name  app  name    pid  util  get  pid    string  start  time  str  request  get  param  start  time    string  end  time  str  request  get  param  end  time    string  max  lines  str  request  get  param  max  lines    string  identity  request  get  param  identity  long  start  time    int  max  lines    if    string  util  is  not  blank  start  time  str  start  time    long  parse  long  start  time  str  else  return    command  response  of  success    list    metric  node  list  try    find  by  end  time  if  set  if    string  util  is  not  blank  end  time  str  long  end  time    long  parse  long  end  time  str  list  searcher  find  by  time  and  resource  start  time  end  time  identity  else  if    string  util  is  not  blank  max  lines  str  max  lines    integer  parse  int  max  lines  str  max  lines    math  min  max  lines    list  searcher  find  start  time  max  lines  catch    exception  ex  return    command  response  of  failure  new    runtime  exception    error  when  retrieving  metrics  ex  if  list  null  list  new    array  list  if    string  util  is  blank  identity  add  cpu  usage  and  load  list    string  builder  sb  new    string  builder  for    metric  node  node  list  sb  append  node  to  thin  string  append  n  return    command  response  of  success  sb  to  string  add  current  cpu  usage  and  load  to  the  metric  list  param  list  metric  list  should  not  be  null  private  void  add  cpu  usage  and  load    list    metric  node  list  long  time    time  util  current  time  millis      double  load    system  rule  manager  get  current  system  avg  load  double  usage    system  rule  manager  get  current  cpu  usage  if  load      metric  node  load  node  to  node  load  time    constants  system  load  resource  name  list  add  load  node  if  usage      metric  node  usage  node  to  node  usage  time    constants  cpu  usage  resource  name  list  add  usage  node  transfer  the  value  to  a    metric  node  the  value  will  multiply    then  truncate  to  long  value  and  as  the  link    metric  node  pass  qps  p    this  is  an  eclectic  scheme  before  we  have  a  standard  metric  format  p  param  value  value  to  save  param  ts  timestamp  param  resource  resource  name  return  a    metric  node  represents  the  value  private    metric  node  to  node  double  value  long  ts    string  resource    metric  node  node  new    metric  node  node  set  pass  qps  long  value    node  set  timestamp  ts  node  set  resource  resource  return  node  
command  mapping  name  version  desc  get  sentinel  version  public  class    version  command  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request  return    command  response  of  success    constants  sentinel  version  
command  mapping  name  aa  bb  cc  desc  a  test  handler  with  multiple  in  its  name  public  class    multiple  slash  name  command  test  handler  implements    command  handler    string    override  public    command  response    string  handle    command  request  request  return    command  response  of  success    multiple  slash  name  command  test  handler  result  
